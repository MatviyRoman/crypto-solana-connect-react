var MN=Object.defineProperty;var ON=(t,e,r)=>e in t?MN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var LN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Tr=(t,e,r)=>ON(t,typeof e!="symbol"?e+"":e,r);var Hde=LN((Rhe,uh)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function An(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Rt={},K1={};K1.byteLength=$N;K1.toByteArray=FN;K1.fromByteArray=qN;var Ho=[],Ls=[],DN=typeof Uint8Array<"u"?Uint8Array:Array,Ay="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Tu=0,BN=Ay.length;Tu<BN;++Tu)Ho[Tu]=Ay[Tu],Ls[Ay.charCodeAt(Tu)]=Tu;Ls[45]=62;Ls[95]=63;function fA(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function $N(t){var e=fA(t),r=e[0],n=e[1];return(r+n)*3/4-n}function UN(t,e,r){return(e+r)*3/4-r}function FN(t){var e,r=fA(t),n=r[0],i=r[1],s=new DN(UN(t,n,i)),o=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=Ls[t.charCodeAt(c)]<<18|Ls[t.charCodeAt(c+1)]<<12|Ls[t.charCodeAt(c+2)]<<6|Ls[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Ls[t.charCodeAt(c)]<<2|Ls[t.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=Ls[t.charCodeAt(c)]<<10|Ls[t.charCodeAt(c+1)]<<4|Ls[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function jN(t){return Ho[t>>18&63]+Ho[t>>12&63]+Ho[t>>6&63]+Ho[t&63]}function zN(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(jN(n));return i.join("")}function qN(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(zN(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(Ho[e>>2]+Ho[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Ho[e>>10]+Ho[e>>4&63]+Ho[e<<2&63]+"=")),i.join("")}var Z2={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Z2.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,l=c>>1,u=-7,f=r?i-1:0,h=r?-1:1,g=t[e+f];for(f+=h,s=g&(1<<-u)-1,g>>=-u,u+=a;u>0;s=s*256+t[e+f],f+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=o*256+t[e+f],f+=h,u-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(g?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-l}return(g?-1:1)*o*Math.pow(2,s-n)};Z2.write=function(t,e,r,n,i,s){var o,a,c,l=s*8-i-1,u=(1<<l)-1,f=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:s-1,y=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?e+=h/c:e+=h*Math.pow(2,1-f),e*c>=2&&(o++,c/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(e*c-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[r+g]=a&255,g+=y,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[r+g]=o&255,g+=y,o/=256,l-=8);t[r+g-y]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=K1,r=Z2,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const W=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(W,B),W.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(W){if(W>i)throw new RangeError('The value "'+W+'" is invalid for option "size"');const B=new Uint8Array(W);return Object.setPrototypeOf(B,a.prototype),B}function a(W,B,U){if(typeof W=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(W)}return c(W,B,U)}a.poolSize=8192;function c(W,B,U){if(typeof W=="string")return h(W,B);if(ArrayBuffer.isView(W))return y(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(Te(W,ArrayBuffer)||W&&Te(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Te(W,SharedArrayBuffer)||W&&Te(W.buffer,SharedArrayBuffer)))return v(W,B,U);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=W.valueOf&&W.valueOf();if(Q!=null&&Q!==W)return a.from(Q,B,U);const le=T(W);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return a.from(W[Symbol.toPrimitive]("string"),B,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}a.from=function(W,B,U){return c(W,B,U)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function u(W,B,U){return l(W),W<=0?o(W):B!==void 0?typeof U=="string"?o(W).fill(B,U):o(W).fill(B):o(W)}a.alloc=function(W,B,U){return u(W,B,U)};function f(W){return l(W),o(W<0?0:k(W)|0)}a.allocUnsafe=function(W){return f(W)},a.allocUnsafeSlow=function(W){return f(W)};function h(W,B){if((typeof B!="string"||B==="")&&(B="utf8"),!a.isEncoding(B))throw new TypeError("Unknown encoding: "+B);const U=I(W,B)|0;let Q=o(U);const le=Q.write(W,B);return le!==U&&(Q=Q.slice(0,le)),Q}function g(W){const B=W.length<0?0:k(W.length)|0,U=o(B);for(let Q=0;Q<B;Q+=1)U[Q]=W[Q]&255;return U}function y(W){if(Te(W,Uint8Array)){const B=new Uint8Array(W);return v(B.buffer,B.byteOffset,B.byteLength)}return g(W)}function v(W,B,U){if(B<0||W.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<B+(U||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return B===void 0&&U===void 0?Q=new Uint8Array(W):U===void 0?Q=new Uint8Array(W,B):Q=new Uint8Array(W,B,U),Object.setPrototypeOf(Q,a.prototype),Q}function T(W){if(a.isBuffer(W)){const B=k(W.length)|0,U=o(B);return U.length===0||W.copy(U,0,0,B),U}if(W.length!==void 0)return typeof W.length!="number"||et(W.length)?o(0):g(W);if(W.type==="Buffer"&&Array.isArray(W.data))return g(W.data)}function k(W){if(W>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return W|0}function C(W){return+W!=W&&(W=0),a.alloc(+W)}a.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==a.prototype},a.compare=function(B,U){if(Te(B,Uint8Array)&&(B=a.from(B,B.offset,B.byteLength)),Te(U,Uint8Array)&&(U=a.from(U,U.offset,U.byteLength)),!a.isBuffer(B)||!a.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===U)return 0;let Q=B.length,le=U.length;for(let he=0,ge=Math.min(Q,le);he<ge;++he)if(B[he]!==U[he]){Q=B[he],le=U[he];break}return Q<le?-1:le<Q?1:0},a.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(B,U){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return a.alloc(0);let Q;if(U===void 0)for(U=0,Q=0;Q<B.length;++Q)U+=B[Q].length;const le=a.allocUnsafe(U);let he=0;for(Q=0;Q<B.length;++Q){let ge=B[Q];if(Te(ge,Uint8Array))he+ge.length>le.length?(a.isBuffer(ge)||(ge=a.from(ge)),ge.copy(le,he)):Uint8Array.prototype.set.call(le,ge,he);else if(a.isBuffer(ge))ge.copy(le,he);else throw new TypeError('"list" argument must be an Array of Buffers');he+=ge.length}return le};function I(W,B){if(a.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||Te(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const U=W.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&U===0)return 0;let le=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return Ee(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U*2;case"hex":return U>>>1;case"base64":return De(W).length;default:if(le)return Q?-1:Ee(W).length;B=(""+B).toLowerCase(),le=!0}}a.byteLength=I;function D(W,B,U){let Q=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0,B>>>=0,U<=B))return"";for(W||(W="utf8");;)switch(W){case"hex":return S(this,B,U);case"utf8":case"utf-8":return d(this,B,U);case"ascii":return N(this,B,U);case"latin1":case"binary":return E(this,B,U);case"base64":return m(this,B,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,B,U);default:if(Q)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),Q=!0}}a.prototype._isBuffer=!0;function O(W,B,U){const Q=W[B];W[B]=W[U],W[U]=Q}a.prototype.swap16=function(){const B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let U=0;U<B;U+=2)O(this,U,U+1);return this},a.prototype.swap32=function(){const B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let U=0;U<B;U+=4)O(this,U,U+3),O(this,U+1,U+2);return this},a.prototype.swap64=function(){const B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let U=0;U<B;U+=8)O(this,U,U+7),O(this,U+1,U+6),O(this,U+2,U+5),O(this,U+3,U+4);return this},a.prototype.toString=function(){const B=this.length;return B===0?"":arguments.length===0?d(this,0,B):D.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(B){if(!a.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:a.compare(this,B)===0},a.prototype.inspect=function(){let B="";const U=t.INSPECT_MAX_BYTES;return B=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&(B+=" ... "),"<Buffer "+B+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(B,U,Q,le,he){if(Te(B,Uint8Array)&&(B=a.from(B,B.offset,B.byteLength)),!a.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(U===void 0&&(U=0),Q===void 0&&(Q=B?B.length:0),le===void 0&&(le=0),he===void 0&&(he=this.length),U<0||Q>B.length||le<0||he>this.length)throw new RangeError("out of range index");if(le>=he&&U>=Q)return 0;if(le>=he)return-1;if(U>=Q)return 1;if(U>>>=0,Q>>>=0,le>>>=0,he>>>=0,this===B)return 0;let ge=he-le,je=Q-U;const Je=Math.min(ge,je),Qe=this.slice(le,he),bt=B.slice(U,Q);for(let gt=0;gt<Je;++gt)if(Qe[gt]!==bt[gt]){ge=Qe[gt],je=bt[gt];break}return ge<je?-1:je<ge?1:0};function F(W,B,U,Q,le){if(W.length===0)return-1;if(typeof U=="string"?(Q=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,et(U)&&(U=le?0:W.length-1),U<0&&(U=W.length+U),U>=W.length){if(le)return-1;U=W.length-1}else if(U<0)if(le)U=0;else return-1;if(typeof B=="string"&&(B=a.from(B,Q)),a.isBuffer(B))return B.length===0?-1:x(W,B,U,Q,le);if(typeof B=="number")return B=B&255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call(W,B,U):Uint8Array.prototype.lastIndexOf.call(W,B,U):x(W,[B],U,Q,le);throw new TypeError("val must be string, number or Buffer")}function x(W,B,U,Q,le){let he=1,ge=W.length,je=B.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(W.length<2||B.length<2)return-1;he=2,ge/=2,je/=2,U/=2}function Je(bt,gt){return he===1?bt[gt]:bt.readUInt16BE(gt*he)}let Qe;if(le){let bt=-1;for(Qe=U;Qe<ge;Qe++)if(Je(W,Qe)===Je(B,bt===-1?0:Qe-bt)){if(bt===-1&&(bt=Qe),Qe-bt+1===je)return bt*he}else bt!==-1&&(Qe-=Qe-bt),bt=-1}else for(U+je>ge&&(U=ge-je),Qe=U;Qe>=0;Qe--){let bt=!0;for(let gt=0;gt<je;gt++)if(Je(W,Qe+gt)!==Je(B,gt)){bt=!1;break}if(bt)return Qe}return-1}a.prototype.includes=function(B,U,Q){return this.indexOf(B,U,Q)!==-1},a.prototype.indexOf=function(B,U,Q){return F(this,B,U,Q,!0)},a.prototype.lastIndexOf=function(B,U,Q){return F(this,B,U,Q,!1)};function L(W,B,U,Q){U=Number(U)||0;const le=W.length-U;Q?(Q=Number(Q),Q>le&&(Q=le)):Q=le;const he=B.length;Q>he/2&&(Q=he/2);let ge;for(ge=0;ge<Q;++ge){const je=parseInt(B.substr(ge*2,2),16);if(et(je))return ge;W[U+ge]=je}return ge}function J(W,B,U,Q){return qe(Ee(B,W.length-U),W,U,Q)}function ne(W,B,U,Q){return qe(Ae(B),W,U,Q)}function j(W,B,U,Q){return qe(De(B),W,U,Q)}function w(W,B,U,Q){return qe(Ve(B,W.length-U),W,U,Q)}a.prototype.write=function(B,U,Q,le){if(U===void 0)le="utf8",Q=this.length,U=0;else if(Q===void 0&&typeof U=="string")le=U,Q=this.length,U=0;else if(isFinite(U))U=U>>>0,isFinite(Q)?(Q=Q>>>0,le===void 0&&(le="utf8")):(le=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const he=this.length-U;if((Q===void 0||Q>he)&&(Q=he),B.length>0&&(Q<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let ge=!1;for(;;)switch(le){case"hex":return L(this,B,U,Q);case"utf8":case"utf-8":return J(this,B,U,Q);case"ascii":case"latin1":case"binary":return ne(this,B,U,Q);case"base64":return j(this,B,U,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,B,U,Q);default:if(ge)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),ge=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function m(W,B,U){return B===0&&U===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(B,U))}function d(W,B,U){U=Math.min(W.length,U);const Q=[];let le=B;for(;le<U;){const he=W[le];let ge=null,je=he>239?4:he>223?3:he>191?2:1;if(le+je<=U){let Je,Qe,bt,gt;switch(je){case 1:he<128&&(ge=he);break;case 2:Je=W[le+1],(Je&192)===128&&(gt=(he&31)<<6|Je&63,gt>127&&(ge=gt));break;case 3:Je=W[le+1],Qe=W[le+2],(Je&192)===128&&(Qe&192)===128&&(gt=(he&15)<<12|(Je&63)<<6|Qe&63,gt>2047&&(gt<55296||gt>57343)&&(ge=gt));break;case 4:Je=W[le+1],Qe=W[le+2],bt=W[le+3],(Je&192)===128&&(Qe&192)===128&&(bt&192)===128&&(gt=(he&15)<<18|(Je&63)<<12|(Qe&63)<<6|bt&63,gt>65535&&gt<1114112&&(ge=gt))}}ge===null?(ge=65533,je=1):ge>65535&&(ge-=65536,Q.push(ge>>>10&1023|55296),ge=56320|ge&1023),Q.push(ge),le+=je}return _(Q)}const p=4096;function _(W){const B=W.length;if(B<=p)return String.fromCharCode.apply(String,W);let U="",Q=0;for(;Q<B;)U+=String.fromCharCode.apply(String,W.slice(Q,Q+=p));return U}function N(W,B,U){let Q="";U=Math.min(W.length,U);for(let le=B;le<U;++le)Q+=String.fromCharCode(W[le]&127);return Q}function E(W,B,U){let Q="";U=Math.min(W.length,U);for(let le=B;le<U;++le)Q+=String.fromCharCode(W[le]);return Q}function S(W,B,U){const Q=W.length;(!B||B<0)&&(B=0),(!U||U<0||U>Q)&&(U=Q);let le="";for(let he=B;he<U;++he)le+=We[W[he]];return le}function b(W,B,U){const Q=W.slice(B,U);let le="";for(let he=0;he<Q.length-1;he+=2)le+=String.fromCharCode(Q[he]+Q[he+1]*256);return le}a.prototype.slice=function(B,U){const Q=this.length;B=~~B,U=U===void 0?Q:~~U,B<0?(B+=Q,B<0&&(B=0)):B>Q&&(B=Q),U<0?(U+=Q,U<0&&(U=0)):U>Q&&(U=Q),U<B&&(U=B);const le=this.subarray(B,U);return Object.setPrototypeOf(le,a.prototype),le};function R(W,B,U){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+B>U)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(B,U,Q){B=B>>>0,U=U>>>0,Q||R(B,U,this.length);let le=this[B],he=1,ge=0;for(;++ge<U&&(he*=256);)le+=this[B+ge]*he;return le},a.prototype.readUintBE=a.prototype.readUIntBE=function(B,U,Q){B=B>>>0,U=U>>>0,Q||R(B,U,this.length);let le=this[B+--U],he=1;for(;U>0&&(he*=256);)le+=this[B+--U]*he;return le},a.prototype.readUint8=a.prototype.readUInt8=function(B,U){return B=B>>>0,U||R(B,1,this.length),this[B]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(B,U){return B=B>>>0,U||R(B,2,this.length),this[B]|this[B+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(B,U){return B=B>>>0,U||R(B,2,this.length),this[B]<<8|this[B+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(B,U){return B=B>>>0,U||R(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(B,U){return B=B>>>0,U||R(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},a.prototype.readBigUInt64LE=Ze(function(B){B=B>>>0,X(B,"offset");const U=this[B],Q=this[B+7];(U===void 0||Q===void 0)&&re(B,this.length-8);const le=U+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24,he=this[++B]+this[++B]*2**8+this[++B]*2**16+Q*2**24;return BigInt(le)+(BigInt(he)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ze(function(B){B=B>>>0,X(B,"offset");const U=this[B],Q=this[B+7];(U===void 0||Q===void 0)&&re(B,this.length-8);const le=U*2**24+this[++B]*2**16+this[++B]*2**8+this[++B],he=this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+Q;return(BigInt(le)<<BigInt(32))+BigInt(he)}),a.prototype.readIntLE=function(B,U,Q){B=B>>>0,U=U>>>0,Q||R(B,U,this.length);let le=this[B],he=1,ge=0;for(;++ge<U&&(he*=256);)le+=this[B+ge]*he;return he*=128,le>=he&&(le-=Math.pow(2,8*U)),le},a.prototype.readIntBE=function(B,U,Q){B=B>>>0,U=U>>>0,Q||R(B,U,this.length);let le=U,he=1,ge=this[B+--le];for(;le>0&&(he*=256);)ge+=this[B+--le]*he;return he*=128,ge>=he&&(ge-=Math.pow(2,8*U)),ge},a.prototype.readInt8=function(B,U){return B=B>>>0,U||R(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},a.prototype.readInt16LE=function(B,U){B=B>>>0,U||R(B,2,this.length);const Q=this[B]|this[B+1]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt16BE=function(B,U){B=B>>>0,U||R(B,2,this.length);const Q=this[B+1]|this[B]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt32LE=function(B,U){return B=B>>>0,U||R(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},a.prototype.readInt32BE=function(B,U){return B=B>>>0,U||R(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},a.prototype.readBigInt64LE=Ze(function(B){B=B>>>0,X(B,"offset");const U=this[B],Q=this[B+7];(U===void 0||Q===void 0)&&re(B,this.length-8);const le=this[B+4]+this[B+5]*2**8+this[B+6]*2**16+(Q<<24);return(BigInt(le)<<BigInt(32))+BigInt(U+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24)}),a.prototype.readBigInt64BE=Ze(function(B){B=B>>>0,X(B,"offset");const U=this[B],Q=this[B+7];(U===void 0||Q===void 0)&&re(B,this.length-8);const le=(U<<24)+this[++B]*2**16+this[++B]*2**8+this[++B];return(BigInt(le)<<BigInt(32))+BigInt(this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+Q)}),a.prototype.readFloatLE=function(B,U){return B=B>>>0,U||R(B,4,this.length),r.read(this,B,!0,23,4)},a.prototype.readFloatBE=function(B,U){return B=B>>>0,U||R(B,4,this.length),r.read(this,B,!1,23,4)},a.prototype.readDoubleLE=function(B,U){return B=B>>>0,U||R(B,8,this.length),r.read(this,B,!0,52,8)},a.prototype.readDoubleBE=function(B,U){return B=B>>>0,U||R(B,8,this.length),r.read(this,B,!1,52,8)};function P(W,B,U,Q,le,he){if(!a.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>le||B<he)throw new RangeError('"value" argument is out of bounds');if(U+Q>W.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(B,U,Q,le){if(B=+B,U=U>>>0,Q=Q>>>0,!le){const je=Math.pow(2,8*Q)-1;P(this,B,U,Q,je,0)}let he=1,ge=0;for(this[U]=B&255;++ge<Q&&(he*=256);)this[U+ge]=B/he&255;return U+Q},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(B,U,Q,le){if(B=+B,U=U>>>0,Q=Q>>>0,!le){const je=Math.pow(2,8*Q)-1;P(this,B,U,Q,je,0)}let he=Q-1,ge=1;for(this[U+he]=B&255;--he>=0&&(ge*=256);)this[U+he]=B/ge&255;return U+Q},a.prototype.writeUint8=a.prototype.writeUInt8=function(B,U,Q){return B=+B,U=U>>>0,Q||P(this,B,U,1,255,0),this[U]=B&255,U+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(B,U,Q){return B=+B,U=U>>>0,Q||P(this,B,U,2,65535,0),this[U]=B&255,this[U+1]=B>>>8,U+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(B,U,Q){return B=+B,U=U>>>0,Q||P(this,B,U,2,65535,0),this[U]=B>>>8,this[U+1]=B&255,U+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(B,U,Q){return B=+B,U=U>>>0,Q||P(this,B,U,4,4294967295,0),this[U+3]=B>>>24,this[U+2]=B>>>16,this[U+1]=B>>>8,this[U]=B&255,U+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(B,U,Q){return B=+B,U=U>>>0,Q||P(this,B,U,4,4294967295,0),this[U]=B>>>24,this[U+1]=B>>>16,this[U+2]=B>>>8,this[U+3]=B&255,U+4};function q(W,B,U,Q,le){se(B,Q,le,W,U,7);let he=Number(B&BigInt(4294967295));W[U++]=he,he=he>>8,W[U++]=he,he=he>>8,W[U++]=he,he=he>>8,W[U++]=he;let ge=Number(B>>BigInt(32)&BigInt(4294967295));return W[U++]=ge,ge=ge>>8,W[U++]=ge,ge=ge>>8,W[U++]=ge,ge=ge>>8,W[U++]=ge,U}function ue(W,B,U,Q,le){se(B,Q,le,W,U,7);let he=Number(B&BigInt(4294967295));W[U+7]=he,he=he>>8,W[U+6]=he,he=he>>8,W[U+5]=he,he=he>>8,W[U+4]=he;let ge=Number(B>>BigInt(32)&BigInt(4294967295));return W[U+3]=ge,ge=ge>>8,W[U+2]=ge,ge=ge>>8,W[U+1]=ge,ge=ge>>8,W[U]=ge,U+8}a.prototype.writeBigUInt64LE=Ze(function(B,U=0){return q(this,B,U,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ze(function(B,U=0){return ue(this,B,U,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(B,U,Q,le){if(B=+B,U=U>>>0,!le){const Je=Math.pow(2,8*Q-1);P(this,B,U,Q,Je-1,-Je)}let he=0,ge=1,je=0;for(this[U]=B&255;++he<Q&&(ge*=256);)B<0&&je===0&&this[U+he-1]!==0&&(je=1),this[U+he]=(B/ge>>0)-je&255;return U+Q},a.prototype.writeIntBE=function(B,U,Q,le){if(B=+B,U=U>>>0,!le){const Je=Math.pow(2,8*Q-1);P(this,B,U,Q,Je-1,-Je)}let he=Q-1,ge=1,je=0;for(this[U+he]=B&255;--he>=0&&(ge*=256);)B<0&&je===0&&this[U+he+1]!==0&&(je=1),this[U+he]=(B/ge>>0)-je&255;return U+Q},a.prototype.writeInt8=function(B,U,Q){return B=+B,U=U>>>0,Q||P(this,B,U,1,127,-128),B<0&&(B=255+B+1),this[U]=B&255,U+1},a.prototype.writeInt16LE=function(B,U,Q){return B=+B,U=U>>>0,Q||P(this,B,U,2,32767,-32768),this[U]=B&255,this[U+1]=B>>>8,U+2},a.prototype.writeInt16BE=function(B,U,Q){return B=+B,U=U>>>0,Q||P(this,B,U,2,32767,-32768),this[U]=B>>>8,this[U+1]=B&255,U+2},a.prototype.writeInt32LE=function(B,U,Q){return B=+B,U=U>>>0,Q||P(this,B,U,4,2147483647,-2147483648),this[U]=B&255,this[U+1]=B>>>8,this[U+2]=B>>>16,this[U+3]=B>>>24,U+4},a.prototype.writeInt32BE=function(B,U,Q){return B=+B,U=U>>>0,Q||P(this,B,U,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[U]=B>>>24,this[U+1]=B>>>16,this[U+2]=B>>>8,this[U+3]=B&255,U+4},a.prototype.writeBigInt64LE=Ze(function(B,U=0){return q(this,B,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ze(function(B,U=0){return ue(this,B,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(W,B,U,Q,le,he){if(U+Q>W.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function oe(W,B,U,Q,le){return B=+B,U=U>>>0,le||$(W,B,U,4),r.write(W,B,U,Q,23,4),U+4}a.prototype.writeFloatLE=function(B,U,Q){return oe(this,B,U,!0,Q)},a.prototype.writeFloatBE=function(B,U,Q){return oe(this,B,U,!1,Q)};function ee(W,B,U,Q,le){return B=+B,U=U>>>0,le||$(W,B,U,8),r.write(W,B,U,Q,52,8),U+8}a.prototype.writeDoubleLE=function(B,U,Q){return ee(this,B,U,!0,Q)},a.prototype.writeDoubleBE=function(B,U,Q){return ee(this,B,U,!1,Q)},a.prototype.copy=function(B,U,Q,le){if(!a.isBuffer(B))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!le&&le!==0&&(le=this.length),U>=B.length&&(U=B.length),U||(U=0),le>0&&le<Q&&(le=Q),le===Q||B.length===0||this.length===0)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),B.length-U<le-Q&&(le=B.length-U+Q);const he=le-Q;return this===B&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(U,Q,le):Uint8Array.prototype.set.call(B,this.subarray(Q,le),U),he},a.prototype.fill=function(B,U,Q,le){if(typeof B=="string"){if(typeof U=="string"?(le=U,U=0,Q=this.length):typeof Q=="string"&&(le=Q,Q=this.length),le!==void 0&&typeof le!="string")throw new TypeError("encoding must be a string");if(typeof le=="string"&&!a.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(B.length===1){const ge=B.charCodeAt(0);(le==="utf8"&&ge<128||le==="latin1")&&(B=ge)}}else typeof B=="number"?B=B&255:typeof B=="boolean"&&(B=Number(B));if(U<0||this.length<U||this.length<Q)throw new RangeError("Out of range index");if(Q<=U)return this;U=U>>>0,Q=Q===void 0?this.length:Q>>>0,B||(B=0);let he;if(typeof B=="number")for(he=U;he<Q;++he)this[he]=B;else{const ge=a.isBuffer(B)?B:a.from(B,le),je=ge.length;if(je===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(he=0;he<Q-U;++he)this[he+U]=ge[he%je]}return this};const H={};function K(W,B,U){H[W]=class extends U{constructor(){super(),Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}K("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),K("ERR_INVALID_ARG_TYPE",function(W,B){return`The "${W}" argument must be of type number. Received type ${typeof B}`},TypeError),K("ERR_OUT_OF_RANGE",function(W,B,U){let Q=`The value of "${W}" is out of range.`,le=U;return Number.isInteger(U)&&Math.abs(U)>2**32?le=A(String(U)):typeof U=="bigint"&&(le=String(U),(U>BigInt(2)**BigInt(32)||U<-(BigInt(2)**BigInt(32)))&&(le=A(le)),le+="n"),Q+=` It must be ${B}. Received ${le}`,Q},RangeError);function A(W){let B="",U=W.length;const Q=W[0]==="-"?1:0;for(;U>=Q+4;U-=3)B=`_${W.slice(U-3,U)}${B}`;return`${W.slice(0,U)}${B}`}function V(W,B,U){X(B,"offset"),(W[B]===void 0||W[B+U]===void 0)&&re(B,W.length-(U+1))}function se(W,B,U,Q,le,he){if(W>U||W<B){const ge=typeof B=="bigint"?"n":"";let je;throw B===0||B===BigInt(0)?je=`>= 0${ge} and < 2${ge} ** ${(he+1)*8}${ge}`:je=`>= -(2${ge} ** ${(he+1)*8-1}${ge}) and < 2 ** ${(he+1)*8-1}${ge}`,new H.ERR_OUT_OF_RANGE("value",je,W)}V(Q,le,he)}function X(W,B){if(typeof W!="number")throw new H.ERR_INVALID_ARG_TYPE(B,"number",W)}function re(W,B,U){throw Math.floor(W)!==W?(X(W,U),new H.ERR_OUT_OF_RANGE("offset","an integer",W)):B<0?new H.ERR_BUFFER_OUT_OF_BOUNDS:new H.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${B}`,W)}const ce=/[^+/0-9A-Za-z-_]/g;function be(W){if(W=W.split("=")[0],W=W.trim().replace(ce,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function Ee(W,B){B=B||1/0;let U;const Q=W.length;let le=null;const he=[];for(let ge=0;ge<Q;++ge){if(U=W.charCodeAt(ge),U>55295&&U<57344){if(!le){if(U>56319){(B-=3)>-1&&he.push(239,191,189);continue}else if(ge+1===Q){(B-=3)>-1&&he.push(239,191,189);continue}le=U;continue}if(U<56320){(B-=3)>-1&&he.push(239,191,189),le=U;continue}U=(le-55296<<10|U-56320)+65536}else le&&(B-=3)>-1&&he.push(239,191,189);if(le=null,U<128){if((B-=1)<0)break;he.push(U)}else if(U<2048){if((B-=2)<0)break;he.push(U>>6|192,U&63|128)}else if(U<65536){if((B-=3)<0)break;he.push(U>>12|224,U>>6&63|128,U&63|128)}else if(U<1114112){if((B-=4)<0)break;he.push(U>>18|240,U>>12&63|128,U>>6&63|128,U&63|128)}else throw new Error("Invalid code point")}return he}function Ae(W){const B=[];for(let U=0;U<W.length;++U)B.push(W.charCodeAt(U)&255);return B}function Ve(W,B){let U,Q,le;const he=[];for(let ge=0;ge<W.length&&!((B-=2)<0);++ge)U=W.charCodeAt(ge),Q=U>>8,le=U%256,he.push(le),he.push(Q);return he}function De(W){return e.toByteArray(be(W))}function qe(W,B,U,Q){let le;for(le=0;le<Q&&!(le+U>=B.length||le>=W.length);++le)B[le+U]=W[le];return le}function Te(W,B){return W instanceof B||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===B.name}function et(W){return W!==W}const We=function(){const W="0123456789abcdef",B=new Array(256);for(let U=0;U<16;++U){const Q=U*16;for(let le=0;le<16;++le)B[Q+le]=W[U]+W[le]}return B}();function Ze(W){return typeof BigInt>"u"?ot:W}function ot(){throw new Error("BigInt not supported")}})(Rt);var dA={exports:{}},In=dA.exports={},qo,Ko;function Tb(){throw new Error("setTimeout has not been defined")}function Nb(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?qo=setTimeout:qo=Tb}catch{qo=Tb}try{typeof clearTimeout=="function"?Ko=clearTimeout:Ko=Nb}catch{Ko=Nb}})();function hA(t){if(qo===setTimeout)return setTimeout(t,0);if((qo===Tb||!qo)&&setTimeout)return qo=setTimeout,setTimeout(t,0);try{return qo(t,0)}catch{try{return qo.call(null,t,0)}catch{return qo.call(this,t,0)}}}function KN(t){if(Ko===clearTimeout)return clearTimeout(t);if((Ko===Nb||!Ko)&&clearTimeout)return Ko=clearTimeout,clearTimeout(t);try{return Ko(t)}catch{try{return Ko.call(null,t)}catch{return Ko.call(this,t)}}}var Da=[],lf=!1,Pl,H0=-1;function WN(){!lf||!Pl||(lf=!1,Pl.length?Da=Pl.concat(Da):H0=-1,Da.length&&pA())}function pA(){if(!lf){var t=hA(WN);lf=!0;for(var e=Da.length;e;){for(Pl=Da,Da=[];++H0<e;)Pl&&Pl[H0].run();H0=-1,e=Da.length}Pl=null,lf=!1,KN(t)}}In.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Da.push(new gA(t,e)),Da.length===1&&!lf&&hA(pA)};function gA(t,e){this.fun=t,this.array=e}gA.prototype.run=function(){this.fun.apply(null,this.array)};In.title="browser";In.browser=!0;In.env={};In.argv=[];In.version="";In.versions={};function Za(){}In.on=Za;In.addListener=Za;In.once=Za;In.off=Za;In.removeListener=Za;In.removeAllListeners=Za;In.emit=Za;In.prependListener=Za;In.prependOnceListener=Za;In.listeners=function(t){return[]};In.binding=function(t){throw new Error("process.binding is not supported")};In.cwd=function(){return"/"};In.chdir=function(t){throw new Error("process.chdir is not supported")};In.umask=function(){return 0};var rl=dA.exports;const HN=An(rl);window.Buffer=Rt.Buffer;window.process=HN;var mA={exports:{}},W1={},yA={exports:{}},mr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=Symbol.for("react.element"),VN=Symbol.for("react.portal"),GN=Symbol.for("react.fragment"),YN=Symbol.for("react.strict_mode"),JN=Symbol.for("react.profiler"),XN=Symbol.for("react.provider"),ZN=Symbol.for("react.context"),QN=Symbol.for("react.forward_ref"),eM=Symbol.for("react.suspense"),tM=Symbol.for("react.memo"),rM=Symbol.for("react.lazy"),X_=Symbol.iterator;function nM(t){return t===null||typeof t!="object"?null:(t=X_&&t[X_]||t["@@iterator"],typeof t=="function"?t:null)}var wA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bA=Object.assign,vA={};function Gf(t,e,r){this.props=t,this.context=e,this.refs=vA,this.updater=r||wA}Gf.prototype.isReactComponent={};Gf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xA(){}xA.prototype=Gf.prototype;function Q2(t,e,r){this.props=t,this.context=e,this.refs=vA,this.updater=r||wA}var e3=Q2.prototype=new xA;e3.constructor=Q2;bA(e3,Gf.prototype);e3.isPureReactComponent=!0;var Z_=Array.isArray,_A=Object.prototype.hasOwnProperty,t3={current:null},SA={key:!0,ref:!0,__self:!0,__source:!0};function EA(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)_A.call(e,n)&&!SA.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:bp,type:t,key:s,ref:o,props:i,_owner:t3.current}}function iM(t,e){return{$$typeof:bp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function r3(t){return typeof t=="object"&&t!==null&&t.$$typeof===bp}function sM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Q_=/\/+/g;function Iy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sM(""+t.key):e.toString(36)}function V0(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bp:case VN:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Iy(o,0):n,Z_(i)?(r="",t!=null&&(r=t.replace(Q_,"$&/")+"/"),V0(i,e,r,"",function(l){return l})):i!=null&&(r3(i)&&(i=iM(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Q_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Z_(t))for(var a=0;a<t.length;a++){s=t[a];var c=n+Iy(s,a);o+=V0(s,e,r,c,i)}else if(c=nM(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=n+Iy(s,a++),o+=V0(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function r0(t,e,r){if(t==null)return t;var n=[],i=0;return V0(t,n,"","",function(s){return e.call(r,s,i++)}),n}function oM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ji={current:null},G0={transition:null},aM={ReactCurrentDispatcher:ji,ReactCurrentBatchConfig:G0,ReactCurrentOwner:t3};mr.Children={map:r0,forEach:function(t,e,r){r0(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return r0(t,function(){e++}),e},toArray:function(t){return r0(t,function(e){return e})||[]},only:function(t){if(!r3(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};mr.Component=Gf;mr.Fragment=GN;mr.Profiler=JN;mr.PureComponent=Q2;mr.StrictMode=YN;mr.Suspense=eM;mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aM;mr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=bA({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=t3.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)_A.call(e,c)&&!SA.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:bp,type:t.type,key:i,ref:s,props:n,_owner:o}};mr.createContext=function(t){return t={$$typeof:ZN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XN,_context:t},t.Consumer=t};mr.createElement=EA;mr.createFactory=function(t){var e=EA.bind(null,t);return e.type=t,e};mr.createRef=function(){return{current:null}};mr.forwardRef=function(t){return{$$typeof:QN,render:t}};mr.isValidElement=r3;mr.lazy=function(t){return{$$typeof:rM,_payload:{_status:-1,_result:t},_init:oM}};mr.memo=function(t,e){return{$$typeof:tM,type:t,compare:e===void 0?null:e}};mr.startTransition=function(t){var e=G0.transition;G0.transition={};try{t()}finally{G0.transition=e}};mr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};mr.useCallback=function(t,e){return ji.current.useCallback(t,e)};mr.useContext=function(t){return ji.current.useContext(t)};mr.useDebugValue=function(){};mr.useDeferredValue=function(t){return ji.current.useDeferredValue(t)};mr.useEffect=function(t,e){return ji.current.useEffect(t,e)};mr.useId=function(){return ji.current.useId()};mr.useImperativeHandle=function(t,e,r){return ji.current.useImperativeHandle(t,e,r)};mr.useInsertionEffect=function(t,e){return ji.current.useInsertionEffect(t,e)};mr.useLayoutEffect=function(t,e){return ji.current.useLayoutEffect(t,e)};mr.useMemo=function(t,e){return ji.current.useMemo(t,e)};mr.useReducer=function(t,e,r){return ji.current.useReducer(t,e,r)};mr.useRef=function(t){return ji.current.useRef(t)};mr.useState=function(t){return ji.current.useState(t)};mr.useSyncExternalStore=function(t,e,r){return ji.current.useSyncExternalStore(t,e,r)};mr.useTransition=function(){return ji.current.useTransition()};mr.version="18.2.0";yA.exports=mr;var Tt=yA.exports;const cM=An(Tt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lM=Tt,uM=Symbol.for("react.element"),fM=Symbol.for("react.fragment"),dM=Object.prototype.hasOwnProperty,hM=lM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pM={key:!0,ref:!0,__self:!0,__source:!0};function AA(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)dM.call(e,n)&&!pM.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:uM,type:t,key:s,ref:o,props:i,_owner:hM.current}}W1.Fragment=fM;W1.jsx=AA;W1.jsxs=AA;mA.exports=W1;var pe=mA.exports,Mb={},IA={exports:{}},Es={},kA={exports:{}},CA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,S){var b=E.length;E.push(S);e:for(;0<b;){var R=b-1>>>1,P=E[R];if(0<i(P,S))E[R]=S,E[b]=P,b=R;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var S=E[0],b=E.pop();if(b!==S){E[0]=b;e:for(var R=0,P=E.length,q=P>>>1;R<q;){var ue=2*(R+1)-1,$=E[ue],oe=ue+1,ee=E[oe];if(0>i($,b))oe<P&&0>i(ee,$)?(E[R]=ee,E[oe]=b,R=oe):(E[R]=$,E[ue]=b,R=ue);else if(oe<P&&0>i(ee,b))E[R]=ee,E[oe]=b,R=oe;else break e}}return S}function i(E,S){var b=E.sortIndex-S.sortIndex;return b!==0?b:E.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,f=null,h=3,g=!1,y=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(E){for(var S=r(l);S!==null;){if(S.callback===null)n(l);else if(S.startTime<=E)n(l),S.sortIndex=S.expirationTime,e(c,S);else break;S=r(l)}}function D(E){if(v=!1,I(E),!y)if(r(c)!==null)y=!0,_(O);else{var S=r(l);S!==null&&N(D,S.startTime-E)}}function O(E,S){y=!1,v&&(v=!1,k(L),L=-1),g=!0;var b=h;try{for(I(S),f=r(c);f!==null&&(!(f.expirationTime>S)||E&&!j());){var R=f.callback;if(typeof R=="function"){f.callback=null,h=f.priorityLevel;var P=R(f.expirationTime<=S);S=t.unstable_now(),typeof P=="function"?f.callback=P:f===r(c)&&n(c),I(S)}else n(c);f=r(c)}if(f!==null)var q=!0;else{var ue=r(l);ue!==null&&N(D,ue.startTime-S),q=!1}return q}finally{f=null,h=b,g=!1}}var F=!1,x=null,L=-1,J=5,ne=-1;function j(){return!(t.unstable_now()-ne<J)}function w(){if(x!==null){var E=t.unstable_now();ne=E;var S=!0;try{S=x(!0,E)}finally{S?m():(F=!1,x=null)}}else F=!1}var m;if(typeof C=="function")m=function(){C(w)};else if(typeof MessageChannel<"u"){var d=new MessageChannel,p=d.port2;d.port1.onmessage=w,m=function(){p.postMessage(null)}}else m=function(){T(w,0)};function _(E){x=E,F||(F=!0,m())}function N(E,S){L=T(function(){E(t.unstable_now())},S)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,_(O))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(E){switch(h){case 1:case 2:case 3:var S=3;break;default:S=h}var b=h;h=S;try{return E()}finally{h=b}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,S){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var b=h;h=E;try{return S()}finally{h=b}},t.unstable_scheduleCallback=function(E,S,b){var R=t.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?R+b:R):b=R,E){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=b+P,E={id:u++,callback:S,priorityLevel:E,startTime:b,expirationTime:P,sortIndex:-1},b>R?(E.sortIndex=b,e(l,E),r(c)===null&&E===r(l)&&(v?(k(L),L=-1):v=!0,N(D,b-R))):(E.sortIndex=P,e(c,E),y||g||(y=!0,_(O))),E},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(E){var S=h;return function(){var b=h;h=S;try{return E.apply(this,arguments)}finally{h=b}}}})(CA);kA.exports=CA;var gM=kA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA=Tt,Ss=gM;function Ye(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PA=new Set,Th={};function gu(t,e){kf(t,e),kf(t+"Capture",e)}function kf(t,e){for(Th[t]=e,t=0;t<e.length;t++)PA.add(e[t])}var Ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ob=Object.prototype.hasOwnProperty,mM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e6={},t6={};function yM(t){return Ob.call(t6,t)?!0:Ob.call(e6,t)?!1:mM.test(t)?t6[t]=!0:(e6[t]=!0,!1)}function wM(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bM(t,e,r,n){if(e===null||typeof e>"u"||wM(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zi(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var fi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fi[t]=new zi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fi[e]=new zi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fi[t]=new zi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fi[t]=new zi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fi[t]=new zi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fi[t]=new zi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fi[t]=new zi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fi[t]=new zi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fi[t]=new zi(t,5,!1,t.toLowerCase(),null,!1,!1)});var n3=/[\-:]([a-z])/g;function i3(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(n3,i3);fi[e]=new zi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(n3,i3);fi[e]=new zi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(n3,i3);fi[e]=new zi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fi[t]=new zi(t,1,!1,t.toLowerCase(),null,!1,!1)});fi.xlinkHref=new zi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fi[t]=new zi(t,1,!1,t.toLowerCase(),null,!0,!0)});function s3(t,e,r,n){var i=fi.hasOwnProperty(e)?fi[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bM(e,r,i,n)&&(r=null),n||i===null?yM(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Qa=RA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,n0=Symbol.for("react.element"),Vu=Symbol.for("react.portal"),Gu=Symbol.for("react.fragment"),o3=Symbol.for("react.strict_mode"),Lb=Symbol.for("react.profiler"),TA=Symbol.for("react.provider"),NA=Symbol.for("react.context"),a3=Symbol.for("react.forward_ref"),Db=Symbol.for("react.suspense"),Bb=Symbol.for("react.suspense_list"),c3=Symbol.for("react.memo"),pc=Symbol.for("react.lazy"),MA=Symbol.for("react.offscreen"),r6=Symbol.iterator;function Ad(t){return t===null||typeof t!="object"?null:(t=r6&&t[r6]||t["@@iterator"],typeof t=="function"?t:null)}var un=Object.assign,ky;function th(t){if(ky===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ky=e&&e[1]||""}return`
`+ky+t}var Cy=!1;function Ry(t,e){if(!t||Cy)return"";Cy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Cy=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?th(t):""}function vM(t){switch(t.tag){case 5:return th(t.type);case 16:return th("Lazy");case 13:return th("Suspense");case 19:return th("SuspenseList");case 0:case 2:case 15:return t=Ry(t.type,!1),t;case 11:return t=Ry(t.type.render,!1),t;case 1:return t=Ry(t.type,!0),t;default:return""}}function $b(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gu:return"Fragment";case Vu:return"Portal";case Lb:return"Profiler";case o3:return"StrictMode";case Db:return"Suspense";case Bb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NA:return(t.displayName||"Context")+".Consumer";case TA:return(t._context.displayName||"Context")+".Provider";case a3:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case c3:return e=t.displayName||null,e!==null?e:$b(t.type)||"Memo";case pc:e=t._payload,t=t._init;try{return $b(t(e))}catch{}}return null}function xM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $b(e);case 8:return e===o3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _M(t){var e=OA(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function i0(t){t._valueTracker||(t._valueTracker=_M(t))}function LA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=OA(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ng(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ub(t,e){var r=e.checked;return un({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function n6(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Gc(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DA(t,e){e=e.checked,e!=null&&s3(t,"checked",e,!1)}function Fb(t,e){DA(t,e);var r=Gc(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jb(t,e.type,r):e.hasOwnProperty("defaultValue")&&jb(t,e.type,Gc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function i6(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function jb(t,e,r){(e!=="number"||Ng(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var rh=Array.isArray;function uf(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Gc(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return un({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function s6(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ye(92));if(rh(r)){if(1<r.length)throw Error(Ye(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Gc(r)}}function BA(t,e){var r=Gc(e.value),n=Gc(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function o6(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $A(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$A(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var s0,UA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(s0=s0||document.createElement("div"),s0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=s0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var fh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SM=["Webkit","ms","Moz","O"];Object.keys(fh).forEach(function(t){SM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fh[e]=fh[t]})});function FA(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||fh.hasOwnProperty(t)&&fh[t]?(""+e).trim():e+"px"}function jA(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=FA(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var EM=un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kb(t,e){if(e){if(EM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ye(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ye(62))}}function Wb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hb=null;function l3(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vb=null,ff=null,df=null;function a6(t){if(t=_p(t)){if(typeof Vb!="function")throw Error(Ye(280));var e=t.stateNode;e&&(e=J1(e),Vb(t.stateNode,t.type,e))}}function zA(t){ff?df?df.push(t):df=[t]:ff=t}function qA(){if(ff){var t=ff,e=df;if(df=ff=null,a6(t),e)for(t=0;t<e.length;t++)a6(e[t])}}function KA(t,e){return t(e)}function WA(){}var Py=!1;function HA(t,e,r){if(Py)return t(e,r);Py=!0;try{return KA(t,e,r)}finally{Py=!1,(ff!==null||df!==null)&&(WA(),qA())}}function Mh(t,e){var r=t.stateNode;if(r===null)return null;var n=J1(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ye(231,e,typeof r));return r}var Gb=!1;if(Ka)try{var Id={};Object.defineProperty(Id,"passive",{get:function(){Gb=!0}}),window.addEventListener("test",Id,Id),window.removeEventListener("test",Id,Id)}catch{Gb=!1}function AM(t,e,r,n,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var dh=!1,Mg=null,Og=!1,Yb=null,IM={onError:function(t){dh=!0,Mg=t}};function kM(t,e,r,n,i,s,o,a,c){dh=!1,Mg=null,AM.apply(IM,arguments)}function CM(t,e,r,n,i,s,o,a,c){if(kM.apply(this,arguments),dh){if(dh){var l=Mg;dh=!1,Mg=null}else throw Error(Ye(198));Og||(Og=!0,Yb=l)}}function mu(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function VA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function c6(t){if(mu(t)!==t)throw Error(Ye(188))}function RM(t){var e=t.alternate;if(!e){if(e=mu(t),e===null)throw Error(Ye(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return c6(i),t;if(s===n)return c6(i),e;s=s.sibling}throw Error(Ye(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(Ye(189))}}if(r.alternate!==n)throw Error(Ye(190))}if(r.tag!==3)throw Error(Ye(188));return r.stateNode.current===r?t:e}function GA(t){return t=RM(t),t!==null?YA(t):null}function YA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=YA(t);if(e!==null)return e;t=t.sibling}return null}var JA=Ss.unstable_scheduleCallback,l6=Ss.unstable_cancelCallback,PM=Ss.unstable_shouldYield,TM=Ss.unstable_requestPaint,En=Ss.unstable_now,NM=Ss.unstable_getCurrentPriorityLevel,u3=Ss.unstable_ImmediatePriority,XA=Ss.unstable_UserBlockingPriority,Lg=Ss.unstable_NormalPriority,MM=Ss.unstable_LowPriority,ZA=Ss.unstable_IdlePriority,H1=null,Zo=null;function OM(t){if(Zo&&typeof Zo.onCommitFiberRoot=="function")try{Zo.onCommitFiberRoot(H1,t,void 0,(t.current.flags&128)===128)}catch{}}var xo=Math.clz32?Math.clz32:BM,LM=Math.log,DM=Math.LN2;function BM(t){return t>>>=0,t===0?32:31-(LM(t)/DM|0)|0}var o0=64,a0=4194304;function nh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dg(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=nh(a):(s&=o,s!==0&&(n=nh(s)))}else o=r&~i,o!==0?n=nh(o):s!==0&&(n=nh(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-xo(e),i=1<<r,n|=t[r],e&=~i;return n}function $M(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UM(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xo(s),a=1<<o,c=i[o];c===-1?(!(a&r)||a&n)&&(i[o]=$M(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function Jb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QA(){var t=o0;return o0<<=1,!(o0&4194240)&&(o0=64),t}function Ty(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function vp(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xo(e),t[e]=r}function FM(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-xo(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function f3(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-xo(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Mr=0;function eI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tI,d3,rI,nI,iI,Xb=!1,c0=[],Mc=null,Oc=null,Lc=null,Oh=new Map,Lh=new Map,vc=[],jM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u6(t,e){switch(t){case"focusin":case"focusout":Mc=null;break;case"dragenter":case"dragleave":Oc=null;break;case"mouseover":case"mouseout":Lc=null;break;case"pointerover":case"pointerout":Oh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lh.delete(e.pointerId)}}function kd(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=_p(e),e!==null&&d3(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zM(t,e,r,n,i){switch(e){case"focusin":return Mc=kd(Mc,t,e,r,n,i),!0;case"dragenter":return Oc=kd(Oc,t,e,r,n,i),!0;case"mouseover":return Lc=kd(Lc,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Oh.set(s,kd(Oh.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Lh.set(s,kd(Lh.get(s)||null,t,e,r,n,i)),!0}return!1}function sI(t){var e=Tl(t.target);if(e!==null){var r=mu(e);if(r!==null){if(e=r.tag,e===13){if(e=VA(r),e!==null){t.blockedOn=e,iI(t.priority,function(){rI(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Y0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Zb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Hb=n,r.target.dispatchEvent(n),Hb=null}else return e=_p(r),e!==null&&d3(e),t.blockedOn=r,!1;e.shift()}return!0}function f6(t,e,r){Y0(t)&&r.delete(e)}function qM(){Xb=!1,Mc!==null&&Y0(Mc)&&(Mc=null),Oc!==null&&Y0(Oc)&&(Oc=null),Lc!==null&&Y0(Lc)&&(Lc=null),Oh.forEach(f6),Lh.forEach(f6)}function Cd(t,e){t.blockedOn===e&&(t.blockedOn=null,Xb||(Xb=!0,Ss.unstable_scheduleCallback(Ss.unstable_NormalPriority,qM)))}function Dh(t){function e(i){return Cd(i,t)}if(0<c0.length){Cd(c0[0],t);for(var r=1;r<c0.length;r++){var n=c0[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Mc!==null&&Cd(Mc,t),Oc!==null&&Cd(Oc,t),Lc!==null&&Cd(Lc,t),Oh.forEach(e),Lh.forEach(e),r=0;r<vc.length;r++)n=vc[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<vc.length&&(r=vc[0],r.blockedOn===null);)sI(r),r.blockedOn===null&&vc.shift()}var hf=Qa.ReactCurrentBatchConfig,Bg=!0;function KM(t,e,r,n){var i=Mr,s=hf.transition;hf.transition=null;try{Mr=1,h3(t,e,r,n)}finally{Mr=i,hf.transition=s}}function WM(t,e,r,n){var i=Mr,s=hf.transition;hf.transition=null;try{Mr=4,h3(t,e,r,n)}finally{Mr=i,hf.transition=s}}function h3(t,e,r,n){if(Bg){var i=Zb(t,e,r,n);if(i===null)jy(t,e,n,$g,r),u6(t,n);else if(zM(i,t,e,r,n))n.stopPropagation();else if(u6(t,n),e&4&&-1<jM.indexOf(t)){for(;i!==null;){var s=_p(i);if(s!==null&&tI(s),s=Zb(t,e,r,n),s===null&&jy(t,e,n,$g,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else jy(t,e,n,null,r)}}var $g=null;function Zb(t,e,r,n){if($g=null,t=l3(n),t=Tl(t),t!==null)if(e=mu(t),e===null)t=null;else if(r=e.tag,r===13){if(t=VA(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $g=t,null}function oI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NM()){case u3:return 1;case XA:return 4;case Lg:case MM:return 16;case ZA:return 536870912;default:return 16}default:return 16}}var Ic=null,p3=null,J0=null;function aI(){if(J0)return J0;var t,e=p3,r=e.length,n,i="value"in Ic?Ic.value:Ic.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return J0=i.slice(t,1<n?1-n:void 0)}function X0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function l0(){return!0}function d6(){return!1}function As(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?l0:d6,this.isPropagationStopped=d6,this}return un(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=l0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=l0)},persist:function(){},isPersistent:l0}),e}var Yf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},g3=As(Yf),xp=un({},Yf,{view:0,detail:0}),HM=As(xp),Ny,My,Rd,V1=un({},xp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:m3,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rd&&(Rd&&t.type==="mousemove"?(Ny=t.screenX-Rd.screenX,My=t.screenY-Rd.screenY):My=Ny=0,Rd=t),Ny)},movementY:function(t){return"movementY"in t?t.movementY:My}}),h6=As(V1),VM=un({},V1,{dataTransfer:0}),GM=As(VM),YM=un({},xp,{relatedTarget:0}),Oy=As(YM),JM=un({},Yf,{animationName:0,elapsedTime:0,pseudoElement:0}),XM=As(JM),ZM=un({},Yf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QM=As(ZM),eO=un({},Yf,{data:0}),p6=As(eO),tO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nO[t])?!!e[t]:!1}function m3(){return iO}var sO=un({},xp,{key:function(t){if(t.key){var e=tO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=X0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:m3,charCode:function(t){return t.type==="keypress"?X0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?X0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oO=As(sO),aO=un({},V1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g6=As(aO),cO=un({},xp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:m3}),lO=As(cO),uO=un({},Yf,{propertyName:0,elapsedTime:0,pseudoElement:0}),fO=As(uO),dO=un({},V1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hO=As(dO),pO=[9,13,27,32],y3=Ka&&"CompositionEvent"in window,hh=null;Ka&&"documentMode"in document&&(hh=document.documentMode);var gO=Ka&&"TextEvent"in window&&!hh,cI=Ka&&(!y3||hh&&8<hh&&11>=hh),m6=" ",y6=!1;function lI(t,e){switch(t){case"keyup":return pO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yu=!1;function mO(t,e){switch(t){case"compositionend":return uI(e);case"keypress":return e.which!==32?null:(y6=!0,m6);case"textInput":return t=e.data,t===m6&&y6?null:t;default:return null}}function yO(t,e){if(Yu)return t==="compositionend"||!y3&&lI(t,e)?(t=aI(),J0=p3=Ic=null,Yu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cI&&e.locale!=="ko"?null:e.data;default:return null}}var wO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wO[t.type]:e==="textarea"}function fI(t,e,r,n){zA(n),e=Ug(e,"onChange"),0<e.length&&(r=new g3("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ph=null,Bh=null;function bO(t){_I(t,0)}function G1(t){var e=Zu(t);if(LA(e))return t}function vO(t,e){if(t==="change")return e}var dI=!1;if(Ka){var Ly;if(Ka){var Dy="oninput"in document;if(!Dy){var b6=document.createElement("div");b6.setAttribute("oninput","return;"),Dy=typeof b6.oninput=="function"}Ly=Dy}else Ly=!1;dI=Ly&&(!document.documentMode||9<document.documentMode)}function v6(){ph&&(ph.detachEvent("onpropertychange",hI),Bh=ph=null)}function hI(t){if(t.propertyName==="value"&&G1(Bh)){var e=[];fI(e,Bh,t,l3(t)),HA(bO,e)}}function xO(t,e,r){t==="focusin"?(v6(),ph=e,Bh=r,ph.attachEvent("onpropertychange",hI)):t==="focusout"&&v6()}function _O(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return G1(Bh)}function SO(t,e){if(t==="click")return G1(e)}function EO(t,e){if(t==="input"||t==="change")return G1(e)}function AO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Eo=typeof Object.is=="function"?Object.is:AO;function $h(t,e){if(Eo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ob.call(e,i)||!Eo(t[i],e[i]))return!1}return!0}function x6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _6(t,e){var r=x6(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=x6(r)}}function pI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gI(){for(var t=window,e=Ng();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ng(t.document)}return e}function w3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IO(t){var e=gI(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&pI(r.ownerDocument.documentElement,r)){if(n!==null&&w3(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=_6(r,s);var o=_6(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kO=Ka&&"documentMode"in document&&11>=document.documentMode,Ju=null,Qb=null,gh=null,ev=!1;function S6(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ev||Ju==null||Ju!==Ng(n)||(n=Ju,"selectionStart"in n&&w3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gh&&$h(gh,n)||(gh=n,n=Ug(Qb,"onSelect"),0<n.length&&(e=new g3("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ju)))}function u0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Xu={animationend:u0("Animation","AnimationEnd"),animationiteration:u0("Animation","AnimationIteration"),animationstart:u0("Animation","AnimationStart"),transitionend:u0("Transition","TransitionEnd")},By={},mI={};Ka&&(mI=document.createElement("div").style,"AnimationEvent"in window||(delete Xu.animationend.animation,delete Xu.animationiteration.animation,delete Xu.animationstart.animation),"TransitionEvent"in window||delete Xu.transitionend.transition);function Y1(t){if(By[t])return By[t];if(!Xu[t])return t;var e=Xu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in mI)return By[t]=e[r];return t}var yI=Y1("animationend"),wI=Y1("animationiteration"),bI=Y1("animationstart"),vI=Y1("transitionend"),xI=new Map,E6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nl(t,e){xI.set(t,e),gu(e,[t])}for(var $y=0;$y<E6.length;$y++){var Uy=E6[$y],CO=Uy.toLowerCase(),RO=Uy[0].toUpperCase()+Uy.slice(1);nl(CO,"on"+RO)}nl(yI,"onAnimationEnd");nl(wI,"onAnimationIteration");nl(bI,"onAnimationStart");nl("dblclick","onDoubleClick");nl("focusin","onFocus");nl("focusout","onBlur");nl(vI,"onTransitionEnd");kf("onMouseEnter",["mouseout","mouseover"]);kf("onMouseLeave",["mouseout","mouseover"]);kf("onPointerEnter",["pointerout","pointerover"]);kf("onPointerLeave",["pointerout","pointerover"]);gu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gu("onBeforeInput",["compositionend","keypress","textInput","paste"]);gu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ih="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ih));function A6(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,CM(n,e,void 0,t),t.currentTarget=null}function _I(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;A6(i,a,l),s=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;A6(i,a,l),s=c}}}if(Og)throw t=Yb,Og=!1,Yb=null,t}function Yr(t,e){var r=e[sv];r===void 0&&(r=e[sv]=new Set);var n=t+"__bubble";r.has(n)||(SI(e,t,2,!1),r.add(n))}function Fy(t,e,r){var n=0;e&&(n|=4),SI(r,t,n,e)}var f0="_reactListening"+Math.random().toString(36).slice(2);function Uh(t){if(!t[f0]){t[f0]=!0,PA.forEach(function(r){r!=="selectionchange"&&(PO.has(r)||Fy(r,!1,t),Fy(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[f0]||(e[f0]=!0,Fy("selectionchange",!1,e))}}function SI(t,e,r,n){switch(oI(e)){case 1:var i=KM;break;case 4:i=WM;break;default:i=h3}r=i.bind(null,e,r,t),i=void 0,!Gb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function jy(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Tl(a),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}a=a.parentNode}}n=n.return}HA(function(){var l=s,u=l3(r),f=[];e:{var h=xI.get(t);if(h!==void 0){var g=g3,y=t;switch(t){case"keypress":if(X0(r)===0)break e;case"keydown":case"keyup":g=oO;break;case"focusin":y="focus",g=Oy;break;case"focusout":y="blur",g=Oy;break;case"beforeblur":case"afterblur":g=Oy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=h6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=GM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=lO;break;case yI:case wI:case bI:g=XM;break;case vI:g=fO;break;case"scroll":g=HM;break;case"wheel":g=hO;break;case"copy":case"cut":case"paste":g=QM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=g6}var v=(e&4)!==0,T=!v&&t==="scroll",k=v?h!==null?h+"Capture":null:h;v=[];for(var C=l,I;C!==null;){I=C;var D=I.stateNode;if(I.tag===5&&D!==null&&(I=D,k!==null&&(D=Mh(C,k),D!=null&&v.push(Fh(C,D,I)))),T)break;C=C.return}0<v.length&&(h=new g(h,y,null,r,u),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&r!==Hb&&(y=r.relatedTarget||r.fromElement)&&(Tl(y)||y[Wa]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=l,y=y?Tl(y):null,y!==null&&(T=mu(y),y!==T||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=l),g!==y)){if(v=h6,D="onMouseLeave",k="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(v=g6,D="onPointerLeave",k="onPointerEnter",C="pointer"),T=g==null?h:Zu(g),I=y==null?h:Zu(y),h=new v(D,C+"leave",g,r,u),h.target=T,h.relatedTarget=I,D=null,Tl(u)===l&&(v=new v(k,C+"enter",y,r,u),v.target=I,v.relatedTarget=T,D=v),T=D,g&&y)t:{for(v=g,k=y,C=0,I=v;I;I=Nu(I))C++;for(I=0,D=k;D;D=Nu(D))I++;for(;0<C-I;)v=Nu(v),C--;for(;0<I-C;)k=Nu(k),I--;for(;C--;){if(v===k||k!==null&&v===k.alternate)break t;v=Nu(v),k=Nu(k)}v=null}else v=null;g!==null&&I6(f,h,g,v,!1),y!==null&&T!==null&&I6(f,T,y,v,!0)}}e:{if(h=l?Zu(l):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var O=vO;else if(w6(h))if(dI)O=EO;else{O=_O;var F=xO}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=SO);if(O&&(O=O(t,l))){fI(f,O,r,u);break e}F&&F(t,h,l),t==="focusout"&&(F=h._wrapperState)&&F.controlled&&h.type==="number"&&jb(h,"number",h.value)}switch(F=l?Zu(l):window,t){case"focusin":(w6(F)||F.contentEditable==="true")&&(Ju=F,Qb=l,gh=null);break;case"focusout":gh=Qb=Ju=null;break;case"mousedown":ev=!0;break;case"contextmenu":case"mouseup":case"dragend":ev=!1,S6(f,r,u);break;case"selectionchange":if(kO)break;case"keydown":case"keyup":S6(f,r,u)}var x;if(y3)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Yu?lI(t,r)&&(L="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(cI&&r.locale!=="ko"&&(Yu||L!=="onCompositionStart"?L==="onCompositionEnd"&&Yu&&(x=aI()):(Ic=u,p3="value"in Ic?Ic.value:Ic.textContent,Yu=!0)),F=Ug(l,L),0<F.length&&(L=new p6(L,t,null,r,u),f.push({event:L,listeners:F}),x?L.data=x:(x=uI(r),x!==null&&(L.data=x)))),(x=gO?mO(t,r):yO(t,r))&&(l=Ug(l,"onBeforeInput"),0<l.length&&(u=new p6("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:l}),u.data=x))}_I(f,e)})}function Fh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ug(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Mh(t,r),s!=null&&n.unshift(Fh(t,s,i)),s=Mh(t,e),s!=null&&n.push(Fh(t,s,i))),t=t.return}return n}function Nu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function I6(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,l=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&l!==null&&(a=l,i?(c=Mh(r,s),c!=null&&o.unshift(Fh(r,c,a))):i||(c=Mh(r,s),c!=null&&o.push(Fh(r,c,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var TO=/\r\n?/g,NO=/\u0000|\uFFFD/g;function k6(t){return(typeof t=="string"?t:""+t).replace(TO,`
`).replace(NO,"")}function d0(t,e,r){if(e=k6(e),k6(t)!==e&&r)throw Error(Ye(425))}function Fg(){}var tv=null,rv=null;function nv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var iv=typeof setTimeout=="function"?setTimeout:void 0,MO=typeof clearTimeout=="function"?clearTimeout:void 0,C6=typeof Promise=="function"?Promise:void 0,OO=typeof queueMicrotask=="function"?queueMicrotask:typeof C6<"u"?function(t){return C6.resolve(null).then(t).catch(LO)}:iv;function LO(t){setTimeout(function(){throw t})}function zy(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Dh(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Dh(e)}function Dc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function R6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Jf=Math.random().toString(36).slice(2),Vo="__reactFiber$"+Jf,jh="__reactProps$"+Jf,Wa="__reactContainer$"+Jf,sv="__reactEvents$"+Jf,DO="__reactListeners$"+Jf,BO="__reactHandles$"+Jf;function Tl(t){var e=t[Vo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Wa]||r[Vo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=R6(t);t!==null;){if(r=t[Vo])return r;t=R6(t)}return e}t=r,r=t.parentNode}return null}function _p(t){return t=t[Vo]||t[Wa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ye(33))}function J1(t){return t[jh]||null}var ov=[],Qu=-1;function il(t){return{current:t}}function Zr(t){0>Qu||(t.current=ov[Qu],ov[Qu]=null,Qu--)}function Wr(t,e){Qu++,ov[Qu]=t.current,t.current=e}var Yc={},Ti=il(Yc),es=il(!1),Zl=Yc;function Cf(t,e){var r=t.type.contextTypes;if(!r)return Yc;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ts(t){return t=t.childContextTypes,t!=null}function jg(){Zr(es),Zr(Ti)}function P6(t,e,r){if(Ti.current!==Yc)throw Error(Ye(168));Wr(Ti,e),Wr(es,r)}function EI(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Ye(108,xM(t)||"Unknown",i));return un({},r,n)}function zg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yc,Zl=Ti.current,Wr(Ti,t),Wr(es,es.current),!0}function T6(t,e,r){var n=t.stateNode;if(!n)throw Error(Ye(169));r?(t=EI(t,e,Zl),n.__reactInternalMemoizedMergedChildContext=t,Zr(es),Zr(Ti),Wr(Ti,t)):Zr(es),Wr(es,r)}var Ra=null,X1=!1,qy=!1;function AI(t){Ra===null?Ra=[t]:Ra.push(t)}function $O(t){X1=!0,AI(t)}function sl(){if(!qy&&Ra!==null){qy=!0;var t=0,e=Mr;try{var r=Ra;for(Mr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ra=null,X1=!1}catch(i){throw Ra!==null&&(Ra=Ra.slice(t+1)),JA(u3,sl),i}finally{Mr=e,qy=!1}}return null}var ef=[],tf=0,qg=null,Kg=0,Fs=[],js=0,Ql=null,Ba=1,$a="";function xl(t,e){ef[tf++]=Kg,ef[tf++]=qg,qg=t,Kg=e}function II(t,e,r){Fs[js++]=Ba,Fs[js++]=$a,Fs[js++]=Ql,Ql=t;var n=Ba;t=$a;var i=32-xo(n)-1;n&=~(1<<i),r+=1;var s=32-xo(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ba=1<<32-xo(e)+i|r<<i|n,$a=s+t}else Ba=1<<s|r<<i|n,$a=t}function b3(t){t.return!==null&&(xl(t,1),II(t,1,0))}function v3(t){for(;t===qg;)qg=ef[--tf],ef[tf]=null,Kg=ef[--tf],ef[tf]=null;for(;t===Ql;)Ql=Fs[--js],Fs[js]=null,$a=Fs[--js],Fs[js]=null,Ba=Fs[--js],Fs[js]=null}var xs=null,ys=null,nn=!1,wo=null;function kI(t,e){var r=Ks(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function N6(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xs=t,ys=Dc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xs=t,ys=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ql!==null?{id:Ba,overflow:$a}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ks(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,xs=t,ys=null,!0):!1;default:return!1}}function av(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cv(t){if(nn){var e=ys;if(e){var r=e;if(!N6(t,e)){if(av(t))throw Error(Ye(418));e=Dc(r.nextSibling);var n=xs;e&&N6(t,e)?kI(n,r):(t.flags=t.flags&-4097|2,nn=!1,xs=t)}}else{if(av(t))throw Error(Ye(418));t.flags=t.flags&-4097|2,nn=!1,xs=t}}}function M6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xs=t}function h0(t){if(t!==xs)return!1;if(!nn)return M6(t),nn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nv(t.type,t.memoizedProps)),e&&(e=ys)){if(av(t))throw CI(),Error(Ye(418));for(;e;)kI(t,e),e=Dc(e.nextSibling)}if(M6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ye(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ys=Dc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ys=null}}else ys=xs?Dc(t.stateNode.nextSibling):null;return!0}function CI(){for(var t=ys;t;)t=Dc(t.nextSibling)}function Rf(){ys=xs=null,nn=!1}function x3(t){wo===null?wo=[t]:wo.push(t)}var UO=Qa.ReactCurrentBatchConfig;function ho(t,e){if(t&&t.defaultProps){e=un({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Wg=il(null),Hg=null,rf=null,_3=null;function S3(){_3=rf=Hg=null}function E3(t){var e=Wg.current;Zr(Wg),t._currentValue=e}function lv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function pf(t,e){Hg=t,_3=rf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qi=!0),t.firstContext=null)}function Gs(t){var e=t._currentValue;if(_3!==t)if(t={context:t,memoizedValue:e,next:null},rf===null){if(Hg===null)throw Error(Ye(308));rf=t,Hg.dependencies={lanes:0,firstContext:t}}else rf=rf.next=t;return e}var Nl=null;function A3(t){Nl===null?Nl=[t]:Nl.push(t)}function RI(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,A3(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ha(t,n)}function Ha(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var gc=!1;function I3(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ja(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bc(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Er&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ha(t,r)}return i=n.interleaved,i===null?(e.next=e,A3(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ha(t,r)}function Z0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,f3(t,r)}}function O6(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Vg(t,e,r,n){var i=t.updateQueue;gc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?s=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,u=l=c=null,a=s;do{var h=a.lane,g=a.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(h=e,g=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(g,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(g,f,h):y,h==null)break e;f=un({},f,h);break e;case 2:gc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=g,c=f):u=u.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);tu|=o,t.lanes=o,t.memoizedState=f}}function L6(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ye(191,i));i.call(n)}}}var TI=new RA.Component().refs;function uv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:un({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Z1={isMounted:function(t){return(t=t._reactInternals)?mu(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=$i(),i=Uc(t),s=ja(n,i);s.payload=e,r!=null&&(s.callback=r),e=Bc(t,s,i),e!==null&&(_o(e,t,i,n),Z0(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=$i(),i=Uc(t),s=ja(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Bc(t,s,i),e!==null&&(_o(e,t,i,n),Z0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=$i(),n=Uc(t),i=ja(r,n);i.tag=2,e!=null&&(i.callback=e),e=Bc(t,i,n),e!==null&&(_o(e,t,n,r),Z0(e,t,n))}};function D6(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!$h(r,n)||!$h(i,s):!0}function NI(t,e,r){var n=!1,i=Yc,s=e.contextType;return typeof s=="object"&&s!==null?s=Gs(s):(i=ts(e)?Zl:Ti.current,n=e.contextTypes,s=(n=n!=null)?Cf(t,i):Yc),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Z1,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function B6(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Z1.enqueueReplaceState(e,e.state,null)}function fv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=TI,I3(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gs(s):(s=ts(e)?Zl:Ti.current,i.context=Cf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(uv(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Z1.enqueueReplaceState(i,i.state,null),Vg(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ye(309));var n=r.stateNode}if(!n)throw Error(Ye(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===TI&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ye(284));if(!r._owner)throw Error(Ye(290,t))}return t}function p0(t,e){throw t=Object.prototype.toString.call(e),Error(Ye(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $6(t){var e=t._init;return e(t._payload)}function MI(t){function e(k,C){if(t){var I=k.deletions;I===null?(k.deletions=[C],k.flags|=16):I.push(C)}}function r(k,C){if(!t)return null;for(;C!==null;)e(k,C),C=C.sibling;return null}function n(k,C){for(k=new Map;C!==null;)C.key!==null?k.set(C.key,C):k.set(C.index,C),C=C.sibling;return k}function i(k,C){return k=Fc(k,C),k.index=0,k.sibling=null,k}function s(k,C,I){return k.index=I,t?(I=k.alternate,I!==null?(I=I.index,I<C?(k.flags|=2,C):I):(k.flags|=2,C)):(k.flags|=1048576,C)}function o(k){return t&&k.alternate===null&&(k.flags|=2),k}function a(k,C,I,D){return C===null||C.tag!==6?(C=Jy(I,k.mode,D),C.return=k,C):(C=i(C,I),C.return=k,C)}function c(k,C,I,D){var O=I.type;return O===Gu?u(k,C,I.props.children,D,I.key):C!==null&&(C.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===pc&&$6(O)===C.type)?(D=i(C,I.props),D.ref=Pd(k,C,I),D.return=k,D):(D=ig(I.type,I.key,I.props,null,k.mode,D),D.ref=Pd(k,C,I),D.return=k,D)}function l(k,C,I,D){return C===null||C.tag!==4||C.stateNode.containerInfo!==I.containerInfo||C.stateNode.implementation!==I.implementation?(C=Xy(I,k.mode,D),C.return=k,C):(C=i(C,I.children||[]),C.return=k,C)}function u(k,C,I,D,O){return C===null||C.tag!==7?(C=jl(I,k.mode,D,O),C.return=k,C):(C=i(C,I),C.return=k,C)}function f(k,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Jy(""+C,k.mode,I),C.return=k,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case n0:return I=ig(C.type,C.key,C.props,null,k.mode,I),I.ref=Pd(k,null,C),I.return=k,I;case Vu:return C=Xy(C,k.mode,I),C.return=k,C;case pc:var D=C._init;return f(k,D(C._payload),I)}if(rh(C)||Ad(C))return C=jl(C,k.mode,I,null),C.return=k,C;p0(k,C)}return null}function h(k,C,I,D){var O=C!==null?C.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return O!==null?null:a(k,C,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case n0:return I.key===O?c(k,C,I,D):null;case Vu:return I.key===O?l(k,C,I,D):null;case pc:return O=I._init,h(k,C,O(I._payload),D)}if(rh(I)||Ad(I))return O!==null?null:u(k,C,I,D,null);p0(k,I)}return null}function g(k,C,I,D,O){if(typeof D=="string"&&D!==""||typeof D=="number")return k=k.get(I)||null,a(C,k,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case n0:return k=k.get(D.key===null?I:D.key)||null,c(C,k,D,O);case Vu:return k=k.get(D.key===null?I:D.key)||null,l(C,k,D,O);case pc:var F=D._init;return g(k,C,I,F(D._payload),O)}if(rh(D)||Ad(D))return k=k.get(I)||null,u(C,k,D,O,null);p0(C,D)}return null}function y(k,C,I,D){for(var O=null,F=null,x=C,L=C=0,J=null;x!==null&&L<I.length;L++){x.index>L?(J=x,x=null):J=x.sibling;var ne=h(k,x,I[L],D);if(ne===null){x===null&&(x=J);break}t&&x&&ne.alternate===null&&e(k,x),C=s(ne,C,L),F===null?O=ne:F.sibling=ne,F=ne,x=J}if(L===I.length)return r(k,x),nn&&xl(k,L),O;if(x===null){for(;L<I.length;L++)x=f(k,I[L],D),x!==null&&(C=s(x,C,L),F===null?O=x:F.sibling=x,F=x);return nn&&xl(k,L),O}for(x=n(k,x);L<I.length;L++)J=g(x,k,L,I[L],D),J!==null&&(t&&J.alternate!==null&&x.delete(J.key===null?L:J.key),C=s(J,C,L),F===null?O=J:F.sibling=J,F=J);return t&&x.forEach(function(j){return e(k,j)}),nn&&xl(k,L),O}function v(k,C,I,D){var O=Ad(I);if(typeof O!="function")throw Error(Ye(150));if(I=O.call(I),I==null)throw Error(Ye(151));for(var F=O=null,x=C,L=C=0,J=null,ne=I.next();x!==null&&!ne.done;L++,ne=I.next()){x.index>L?(J=x,x=null):J=x.sibling;var j=h(k,x,ne.value,D);if(j===null){x===null&&(x=J);break}t&&x&&j.alternate===null&&e(k,x),C=s(j,C,L),F===null?O=j:F.sibling=j,F=j,x=J}if(ne.done)return r(k,x),nn&&xl(k,L),O;if(x===null){for(;!ne.done;L++,ne=I.next())ne=f(k,ne.value,D),ne!==null&&(C=s(ne,C,L),F===null?O=ne:F.sibling=ne,F=ne);return nn&&xl(k,L),O}for(x=n(k,x);!ne.done;L++,ne=I.next())ne=g(x,k,L,ne.value,D),ne!==null&&(t&&ne.alternate!==null&&x.delete(ne.key===null?L:ne.key),C=s(ne,C,L),F===null?O=ne:F.sibling=ne,F=ne);return t&&x.forEach(function(w){return e(k,w)}),nn&&xl(k,L),O}function T(k,C,I,D){if(typeof I=="object"&&I!==null&&I.type===Gu&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case n0:e:{for(var O=I.key,F=C;F!==null;){if(F.key===O){if(O=I.type,O===Gu){if(F.tag===7){r(k,F.sibling),C=i(F,I.props.children),C.return=k,k=C;break e}}else if(F.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===pc&&$6(O)===F.type){r(k,F.sibling),C=i(F,I.props),C.ref=Pd(k,F,I),C.return=k,k=C;break e}r(k,F);break}else e(k,F);F=F.sibling}I.type===Gu?(C=jl(I.props.children,k.mode,D,I.key),C.return=k,k=C):(D=ig(I.type,I.key,I.props,null,k.mode,D),D.ref=Pd(k,C,I),D.return=k,k=D)}return o(k);case Vu:e:{for(F=I.key;C!==null;){if(C.key===F)if(C.tag===4&&C.stateNode.containerInfo===I.containerInfo&&C.stateNode.implementation===I.implementation){r(k,C.sibling),C=i(C,I.children||[]),C.return=k,k=C;break e}else{r(k,C);break}else e(k,C);C=C.sibling}C=Xy(I,k.mode,D),C.return=k,k=C}return o(k);case pc:return F=I._init,T(k,C,F(I._payload),D)}if(rh(I))return y(k,C,I,D);if(Ad(I))return v(k,C,I,D);p0(k,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,C!==null&&C.tag===6?(r(k,C.sibling),C=i(C,I),C.return=k,k=C):(r(k,C),C=Jy(I,k.mode,D),C.return=k,k=C),o(k)):r(k,C)}return T}var Pf=MI(!0),OI=MI(!1),Sp={},Qo=il(Sp),zh=il(Sp),qh=il(Sp);function Ml(t){if(t===Sp)throw Error(Ye(174));return t}function k3(t,e){switch(Wr(qh,e),Wr(zh,t),Wr(Qo,Sp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qb(e,t)}Zr(Qo),Wr(Qo,e)}function Tf(){Zr(Qo),Zr(zh),Zr(qh)}function LI(t){Ml(qh.current);var e=Ml(Qo.current),r=qb(e,t.type);e!==r&&(Wr(zh,t),Wr(Qo,r))}function C3(t){zh.current===t&&(Zr(Qo),Zr(zh))}var on=il(0);function Gg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ky=[];function R3(){for(var t=0;t<Ky.length;t++)Ky[t]._workInProgressVersionPrimary=null;Ky.length=0}var Q0=Qa.ReactCurrentDispatcher,Wy=Qa.ReactCurrentBatchConfig,eu=0,ln=null,On=null,Wn=null,Yg=!1,mh=!1,Kh=0,FO=0;function bi(){throw Error(Ye(321))}function P3(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Eo(t[r],e[r]))return!1;return!0}function T3(t,e,r,n,i,s){if(eu=s,ln=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Q0.current=t===null||t.memoizedState===null?KO:WO,t=r(n,i),mh){s=0;do{if(mh=!1,Kh=0,25<=s)throw Error(Ye(301));s+=1,Wn=On=null,e.updateQueue=null,Q0.current=HO,t=r(n,i)}while(mh)}if(Q0.current=Jg,e=On!==null&&On.next!==null,eu=0,Wn=On=ln=null,Yg=!1,e)throw Error(Ye(300));return t}function N3(){var t=Kh!==0;return Kh=0,t}function Uo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?ln.memoizedState=Wn=t:Wn=Wn.next=t,Wn}function Ys(){if(On===null){var t=ln.alternate;t=t!==null?t.memoizedState:null}else t=On.next;var e=Wn===null?ln.memoizedState:Wn.next;if(e!==null)Wn=e,On=t;else{if(t===null)throw Error(Ye(310));On=t,t={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Wn===null?ln.memoizedState=Wn=t:Wn=Wn.next=t}return Wn}function Wh(t,e){return typeof e=="function"?e(t):e}function Hy(t){var e=Ys(),r=e.queue;if(r===null)throw Error(Ye(311));r.lastRenderedReducer=t;var n=On,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,c=null,l=s;do{var u=l.lane;if((eu&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var f={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=f,o=n):c=c.next=f,ln.lanes|=u,tu|=u}l=l.next}while(l!==null&&l!==s);c===null?o=n:c.next=a,Eo(n,e.memoizedState)||(Qi=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,ln.lanes|=s,tu|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Vy(t){var e=Ys(),r=e.queue;if(r===null)throw Error(Ye(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Eo(s,e.memoizedState)||(Qi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function DI(){}function BI(t,e){var r=ln,n=Ys(),i=e(),s=!Eo(n.memoizedState,i);if(s&&(n.memoizedState=i,Qi=!0),n=n.queue,M3(FI.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Wn!==null&&Wn.memoizedState.tag&1){if(r.flags|=2048,Hh(9,UI.bind(null,r,n,i,e),void 0,null),Yn===null)throw Error(Ye(349));eu&30||$I(r,e,i)}return i}function $I(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ln.updateQueue,e===null?(e={lastEffect:null,stores:null},ln.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function UI(t,e,r,n){e.value=r,e.getSnapshot=n,jI(e)&&zI(t)}function FI(t,e,r){return r(function(){jI(e)&&zI(t)})}function jI(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Eo(t,r)}catch{return!0}}function zI(t){var e=Ha(t,1);e!==null&&_o(e,t,1,-1)}function U6(t){var e=Uo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wh,lastRenderedState:t},e.queue=t,t=t.dispatch=qO.bind(null,ln,t),[e.memoizedState,t]}function Hh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ln.updateQueue,e===null?(e={lastEffect:null,stores:null},ln.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function qI(){return Ys().memoizedState}function eg(t,e,r,n){var i=Uo();ln.flags|=t,i.memoizedState=Hh(1|e,r,void 0,n===void 0?null:n)}function Q1(t,e,r,n){var i=Ys();n=n===void 0?null:n;var s=void 0;if(On!==null){var o=On.memoizedState;if(s=o.destroy,n!==null&&P3(n,o.deps)){i.memoizedState=Hh(e,r,s,n);return}}ln.flags|=t,i.memoizedState=Hh(1|e,r,s,n)}function F6(t,e){return eg(8390656,8,t,e)}function M3(t,e){return Q1(2048,8,t,e)}function KI(t,e){return Q1(4,2,t,e)}function WI(t,e){return Q1(4,4,t,e)}function HI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VI(t,e,r){return r=r!=null?r.concat([t]):null,Q1(4,4,HI.bind(null,e,t),r)}function O3(){}function GI(t,e){var r=Ys();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&P3(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function YI(t,e){var r=Ys();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&P3(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function JI(t,e,r){return eu&21?(Eo(r,e)||(r=QA(),ln.lanes|=r,tu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qi=!0),t.memoizedState=r)}function jO(t,e){var r=Mr;Mr=r!==0&&4>r?r:4,t(!0);var n=Wy.transition;Wy.transition={};try{t(!1),e()}finally{Mr=r,Wy.transition=n}}function XI(){return Ys().memoizedState}function zO(t,e,r){var n=Uc(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ZI(t))QI(e,r);else if(r=RI(t,e,r,n),r!==null){var i=$i();_o(r,t,n,i),ek(r,e,n)}}function qO(t,e,r){var n=Uc(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ZI(t))QI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Eo(a,o)){var c=e.interleaved;c===null?(i.next=i,A3(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=RI(t,e,i,n),r!==null&&(i=$i(),_o(r,t,n,i),ek(r,e,n))}}function ZI(t){var e=t.alternate;return t===ln||e!==null&&e===ln}function QI(t,e){mh=Yg=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function ek(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,f3(t,r)}}var Jg={readContext:Gs,useCallback:bi,useContext:bi,useEffect:bi,useImperativeHandle:bi,useInsertionEffect:bi,useLayoutEffect:bi,useMemo:bi,useReducer:bi,useRef:bi,useState:bi,useDebugValue:bi,useDeferredValue:bi,useTransition:bi,useMutableSource:bi,useSyncExternalStore:bi,useId:bi,unstable_isNewReconciler:!1},KO={readContext:Gs,useCallback:function(t,e){return Uo().memoizedState=[t,e===void 0?null:e],t},useContext:Gs,useEffect:F6,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,eg(4194308,4,HI.bind(null,e,t),r)},useLayoutEffect:function(t,e){return eg(4194308,4,t,e)},useInsertionEffect:function(t,e){return eg(4,2,t,e)},useMemo:function(t,e){var r=Uo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Uo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=zO.bind(null,ln,t),[n.memoizedState,t]},useRef:function(t){var e=Uo();return t={current:t},e.memoizedState=t},useState:U6,useDebugValue:O3,useDeferredValue:function(t){return Uo().memoizedState=t},useTransition:function(){var t=U6(!1),e=t[0];return t=jO.bind(null,t[1]),Uo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ln,i=Uo();if(nn){if(r===void 0)throw Error(Ye(407));r=r()}else{if(r=e(),Yn===null)throw Error(Ye(349));eu&30||$I(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,F6(FI.bind(null,n,s,t),[t]),n.flags|=2048,Hh(9,UI.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Uo(),e=Yn.identifierPrefix;if(nn){var r=$a,n=Ba;r=(n&~(1<<32-xo(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Kh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=FO++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WO={readContext:Gs,useCallback:GI,useContext:Gs,useEffect:M3,useImperativeHandle:VI,useInsertionEffect:KI,useLayoutEffect:WI,useMemo:YI,useReducer:Hy,useRef:qI,useState:function(){return Hy(Wh)},useDebugValue:O3,useDeferredValue:function(t){var e=Ys();return JI(e,On.memoizedState,t)},useTransition:function(){var t=Hy(Wh)[0],e=Ys().memoizedState;return[t,e]},useMutableSource:DI,useSyncExternalStore:BI,useId:XI,unstable_isNewReconciler:!1},HO={readContext:Gs,useCallback:GI,useContext:Gs,useEffect:M3,useImperativeHandle:VI,useInsertionEffect:KI,useLayoutEffect:WI,useMemo:YI,useReducer:Vy,useRef:qI,useState:function(){return Vy(Wh)},useDebugValue:O3,useDeferredValue:function(t){var e=Ys();return On===null?e.memoizedState=t:JI(e,On.memoizedState,t)},useTransition:function(){var t=Vy(Wh)[0],e=Ys().memoizedState;return[t,e]},useMutableSource:DI,useSyncExternalStore:BI,useId:XI,unstable_isNewReconciler:!1};function Nf(t,e){try{var r="",n=e;do r+=vM(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Gy(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function dv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var VO=typeof WeakMap=="function"?WeakMap:Map;function tk(t,e,r){r=ja(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Zg||(Zg=!0,_v=n),dv(t,e)},r}function rk(t,e,r){r=ja(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){dv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){dv(t,e),typeof n!="function"&&($c===null?$c=new Set([this]):$c.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function j6(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new VO;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=aL.bind(null,t,e,r),e.then(t,t))}function z6(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function q6(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ja(-1,1),e.tag=2,Bc(r,e,1))),r.lanes|=1),t)}var GO=Qa.ReactCurrentOwner,Qi=!1;function Li(t,e,r,n){e.child=t===null?OI(e,null,r,n):Pf(e,t.child,r,n)}function K6(t,e,r,n,i){r=r.render;var s=e.ref;return pf(e,i),n=T3(t,e,r,n,s,i),r=N3(),t!==null&&!Qi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Va(t,e,i)):(nn&&r&&b3(e),e.flags|=1,Li(t,e,n,i),e.child)}function W6(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!z3(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,nk(t,e,s,n,i)):(t=ig(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:$h,r(o,n)&&t.ref===e.ref)return Va(t,e,i)}return e.flags|=1,t=Fc(s,n),t.ref=e.ref,t.return=e,e.child=t}function nk(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if($h(s,n)&&t.ref===e.ref)if(Qi=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Qi=!0);else return e.lanes=t.lanes,Va(t,e,i)}return hv(t,e,r,n,i)}function ik(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wr(sf,fs),fs|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Wr(sf,fs),fs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Wr(sf,fs),fs|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Wr(sf,fs),fs|=n;return Li(t,e,i,r),e.child}function sk(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function hv(t,e,r,n,i){var s=ts(r)?Zl:Ti.current;return s=Cf(e,s),pf(e,i),r=T3(t,e,r,n,s,i),n=N3(),t!==null&&!Qi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Va(t,e,i)):(nn&&n&&b3(e),e.flags|=1,Li(t,e,r,i),e.child)}function H6(t,e,r,n,i){if(ts(r)){var s=!0;zg(e)}else s=!1;if(pf(e,i),e.stateNode===null)tg(t,e),NI(e,r,n),fv(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=Gs(l):(l=ts(r)?Zl:Ti.current,l=Cf(e,l));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==l)&&B6(e,o,n,l),gc=!1;var h=e.memoizedState;o.state=h,Vg(e,n,o,i),c=e.memoizedState,a!==n||h!==c||es.current||gc?(typeof u=="function"&&(uv(e,r,u,n),c=e.memoizedState),(a=gc||D6(e,r,a,n,h,c,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,PI(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:ho(e.type,a),o.props=l,f=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Gs(c):(c=ts(r)?Zl:Ti.current,c=Cf(e,c));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==c)&&B6(e,o,n,c),gc=!1,h=e.memoizedState,o.state=h,Vg(e,n,o,i);var y=e.memoizedState;a!==f||h!==y||es.current||gc?(typeof g=="function"&&(uv(e,r,g,n),y=e.memoizedState),(l=gc||D6(e,r,l,n,h,y,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return pv(t,e,r,n,s,i)}function pv(t,e,r,n,i,s){sk(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&T6(e,r,!1),Va(t,e,s);n=e.stateNode,GO.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Pf(e,t.child,null,s),e.child=Pf(e,null,a,s)):Li(t,e,a,s),e.memoizedState=n.state,i&&T6(e,r,!0),e.child}function ok(t){var e=t.stateNode;e.pendingContext?P6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&P6(t,e.context,!1),k3(t,e.containerInfo)}function V6(t,e,r,n,i){return Rf(),x3(i),e.flags|=256,Li(t,e,r,n),e.child}var gv={dehydrated:null,treeContext:null,retryLane:0};function mv(t){return{baseLanes:t,cachePool:null,transitions:null}}function ak(t,e,r){var n=e.pendingProps,i=on.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Wr(on,i&1),t===null)return cv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=rm(o,n,0,null),t=jl(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=mv(r),e.memoizedState=gv,t):L3(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return YO(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Fc(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Fc(a,s):(s=jl(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?mv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=gv,n}return s=t.child,t=s.sibling,n=Fc(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function L3(t,e){return e=rm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function g0(t,e,r,n){return n!==null&&x3(n),Pf(e,t.child,null,r),t=L3(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function YO(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Gy(Error(Ye(422))),g0(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=rm({mode:"visible",children:n.children},i,0,null),s=jl(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Pf(e,t.child,null,o),e.child.memoizedState=mv(o),e.memoizedState=gv,s);if(!(e.mode&1))return g0(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(Ye(419)),n=Gy(s,n,void 0),g0(t,e,o,n)}if(a=(o&t.childLanes)!==0,Qi||a){if(n=Yn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ha(t,i),_o(n,t,i,-1))}return j3(),n=Gy(Error(Ye(421))),g0(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=cL.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ys=Dc(i.nextSibling),xs=e,nn=!0,wo=null,t!==null&&(Fs[js++]=Ba,Fs[js++]=$a,Fs[js++]=Ql,Ba=t.id,$a=t.overflow,Ql=e),e=L3(e,n.children),e.flags|=4096,e)}function G6(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),lv(t.return,e,r)}function Yy(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function ck(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Li(t,e,n.children,r),n=on.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G6(t,r,e);else if(t.tag===19)G6(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Wr(on,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Gg(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Yy(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gg(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Yy(e,!0,r,null,s);break;case"together":Yy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Va(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),tu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ye(153));if(e.child!==null){for(t=e.child,r=Fc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Fc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function JO(t,e,r){switch(e.tag){case 3:ok(e),Rf();break;case 5:LI(e);break;case 1:ts(e.type)&&zg(e);break;case 4:k3(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Wr(Wg,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Wr(on,on.current&1),e.flags|=128,null):r&e.child.childLanes?ak(t,e,r):(Wr(on,on.current&1),t=Va(t,e,r),t!==null?t.sibling:null);Wr(on,on.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ck(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wr(on,on.current),n)break;return null;case 22:case 23:return e.lanes=0,ik(t,e,r)}return Va(t,e,r)}var lk,yv,uk,fk;lk=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yv=function(){};uk=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ml(Qo.current);var s=null;switch(r){case"input":i=Ub(t,i),n=Ub(t,n),s=[];break;case"select":i=un({},i,{value:void 0}),n=un({},n,{value:void 0}),s=[];break;case"textarea":i=zb(t,i),n=zb(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Fg)}Kb(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Th.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var c=n[l];if(a=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Th.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Yr("scroll",t),s||a===c||(s=[])):(s=s||[]).push(l,c))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};fk=function(t,e,r,n){r!==n&&(e.flags|=4)};function Td(t,e){if(!nn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function vi(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function XO(t,e,r){var n=e.pendingProps;switch(v3(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(e),null;case 1:return ts(e.type)&&jg(),vi(e),null;case 3:return n=e.stateNode,Tf(),Zr(es),Zr(Ti),R3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(h0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wo!==null&&(Av(wo),wo=null))),yv(t,e),vi(e),null;case 5:C3(e);var i=Ml(qh.current);if(r=e.type,t!==null&&e.stateNode!=null)uk(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ye(166));return vi(e),null}if(t=Ml(Qo.current),h0(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Vo]=e,n[jh]=s,t=(e.mode&1)!==0,r){case"dialog":Yr("cancel",n),Yr("close",n);break;case"iframe":case"object":case"embed":Yr("load",n);break;case"video":case"audio":for(i=0;i<ih.length;i++)Yr(ih[i],n);break;case"source":Yr("error",n);break;case"img":case"image":case"link":Yr("error",n),Yr("load",n);break;case"details":Yr("toggle",n);break;case"input":n6(n,s),Yr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Yr("invalid",n);break;case"textarea":s6(n,s),Yr("invalid",n)}Kb(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&d0(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&d0(n.textContent,a,t),i=["children",""+a]):Th.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Yr("scroll",n)}switch(r){case"input":i0(n),i6(n,s,!0);break;case"textarea":i0(n),o6(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Fg)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$A(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Vo]=e,t[jh]=n,lk(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wb(r,n),r){case"dialog":Yr("cancel",t),Yr("close",t),i=n;break;case"iframe":case"object":case"embed":Yr("load",t),i=n;break;case"video":case"audio":for(i=0;i<ih.length;i++)Yr(ih[i],t);i=n;break;case"source":Yr("error",t),i=n;break;case"img":case"image":case"link":Yr("error",t),Yr("load",t),i=n;break;case"details":Yr("toggle",t),i=n;break;case"input":n6(t,n),i=Ub(t,n),Yr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=un({},n,{value:void 0}),Yr("invalid",t);break;case"textarea":s6(t,n),i=zb(t,n),Yr("invalid",t);break;default:i=n}Kb(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?jA(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&UA(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Nh(t,c):typeof c=="number"&&Nh(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Th.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Yr("scroll",t):c!=null&&s3(t,s,c,o))}switch(r){case"input":i0(t),i6(t,n,!1);break;case"textarea":i0(t),o6(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Gc(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?uf(t,!!n.multiple,s,!1):n.defaultValue!=null&&uf(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vi(e),null;case 6:if(t&&e.stateNode!=null)fk(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ye(166));if(r=Ml(qh.current),Ml(Qo.current),h0(e)){if(n=e.stateNode,r=e.memoizedProps,n[Vo]=e,(s=n.nodeValue!==r)&&(t=xs,t!==null))switch(t.tag){case 3:d0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&d0(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vo]=e,e.stateNode=n}return vi(e),null;case 13:if(Zr(on),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nn&&ys!==null&&e.mode&1&&!(e.flags&128))CI(),Rf(),e.flags|=98560,s=!1;else if(s=h0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Ye(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ye(317));s[Vo]=e}else Rf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vi(e),s=!1}else wo!==null&&(Av(wo),wo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||on.current&1?Dn===0&&(Dn=3):j3())),e.updateQueue!==null&&(e.flags|=4),vi(e),null);case 4:return Tf(),yv(t,e),t===null&&Uh(e.stateNode.containerInfo),vi(e),null;case 10:return E3(e.type._context),vi(e),null;case 17:return ts(e.type)&&jg(),vi(e),null;case 19:if(Zr(on),s=e.memoizedState,s===null)return vi(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Td(s,!1);else{if(Dn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gg(t),o!==null){for(e.flags|=128,Td(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Wr(on,on.current&1|2),e.child}t=t.sibling}s.tail!==null&&En()>Mf&&(e.flags|=128,n=!0,Td(s,!1),e.lanes=4194304)}else{if(!n)if(t=Gg(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Td(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!nn)return vi(e),null}else 2*En()-s.renderingStartTime>Mf&&r!==1073741824&&(e.flags|=128,n=!0,Td(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=En(),e.sibling=null,r=on.current,Wr(on,n?r&1|2:r&1),e):(vi(e),null);case 22:case 23:return F3(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?fs&1073741824&&(vi(e),e.subtreeFlags&6&&(e.flags|=8192)):vi(e),null;case 24:return null;case 25:return null}throw Error(Ye(156,e.tag))}function ZO(t,e){switch(v3(e),e.tag){case 1:return ts(e.type)&&jg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Tf(),Zr(es),Zr(Ti),R3(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return C3(e),null;case 13:if(Zr(on),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ye(340));Rf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Zr(on),null;case 4:return Tf(),null;case 10:return E3(e.type._context),null;case 22:case 23:return F3(),null;case 24:return null;default:return null}}var m0=!1,Ci=!1,QO=typeof WeakSet=="function"?WeakSet:Set,St=null;function nf(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){yn(t,e,n)}else r.current=null}function wv(t,e,r){try{r()}catch(n){yn(t,e,n)}}var Y6=!1;function eL(t,e){if(tv=Bg,t=gI(),w3(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,l=0,u=0,f=t,h=null;t:for(;;){for(var g;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===r&&++l===i&&(a=o),h===s&&++u===n&&(c=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(rv={focusedElem:t,selectionRange:r},Bg=!1,St=e;St!==null;)if(e=St,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,St=t;else for(;St!==null;){e=St;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,T=y.memoizedState,k=e.stateNode,C=k.getSnapshotBeforeUpdate(e.elementType===e.type?v:ho(e.type,v),T);k.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ye(163))}}catch(D){yn(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,St=t;break}St=e.return}return y=Y6,Y6=!1,y}function yh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wv(e,r,s)}i=i.next}while(i!==n)}}function em(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function bv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function dk(t){var e=t.alternate;e!==null&&(t.alternate=null,dk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vo],delete e[jh],delete e[sv],delete e[DO],delete e[BO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hk(t){return t.tag===5||t.tag===3||t.tag===4}function J6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Fg));else if(n!==4&&(t=t.child,t!==null))for(vv(t,e,r),t=t.sibling;t!==null;)vv(t,e,r),t=t.sibling}function xv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(xv(t,e,r),t=t.sibling;t!==null;)xv(t,e,r),t=t.sibling}var ii=null,mo=!1;function nc(t,e,r){for(r=r.child;r!==null;)pk(t,e,r),r=r.sibling}function pk(t,e,r){if(Zo&&typeof Zo.onCommitFiberUnmount=="function")try{Zo.onCommitFiberUnmount(H1,r)}catch{}switch(r.tag){case 5:Ci||nf(r,e);case 6:var n=ii,i=mo;ii=null,nc(t,e,r),ii=n,mo=i,ii!==null&&(mo?(t=ii,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ii.removeChild(r.stateNode));break;case 18:ii!==null&&(mo?(t=ii,r=r.stateNode,t.nodeType===8?zy(t.parentNode,r):t.nodeType===1&&zy(t,r),Dh(t)):zy(ii,r.stateNode));break;case 4:n=ii,i=mo,ii=r.stateNode.containerInfo,mo=!0,nc(t,e,r),ii=n,mo=i;break;case 0:case 11:case 14:case 15:if(!Ci&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wv(r,e,o),i=i.next}while(i!==n)}nc(t,e,r);break;case 1:if(!Ci&&(nf(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){yn(r,e,a)}nc(t,e,r);break;case 21:nc(t,e,r);break;case 22:r.mode&1?(Ci=(n=Ci)||r.memoizedState!==null,nc(t,e,r),Ci=n):nc(t,e,r);break;default:nc(t,e,r)}}function X6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new QO),e.forEach(function(n){var i=lL.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function io(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ii=a.stateNode,mo=!1;break e;case 3:ii=a.stateNode.containerInfo,mo=!0;break e;case 4:ii=a.stateNode.containerInfo,mo=!0;break e}a=a.return}if(ii===null)throw Error(Ye(160));pk(s,o,i),ii=null,mo=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){yn(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gk(e,t),e=e.sibling}function gk(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(io(e,t),To(t),n&4){try{yh(3,t,t.return),em(3,t)}catch(v){yn(t,t.return,v)}try{yh(5,t,t.return)}catch(v){yn(t,t.return,v)}}break;case 1:io(e,t),To(t),n&512&&r!==null&&nf(r,r.return);break;case 5:if(io(e,t),To(t),n&512&&r!==null&&nf(r,r.return),t.flags&32){var i=t.stateNode;try{Nh(i,"")}catch(v){yn(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&DA(i,s),Wb(a,o);var l=Wb(a,s);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?jA(i,f):u==="dangerouslySetInnerHTML"?UA(i,f):u==="children"?Nh(i,f):s3(i,u,f,l)}switch(a){case"input":Fb(i,s);break;case"textarea":BA(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?uf(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?uf(i,!!s.multiple,s.defaultValue,!0):uf(i,!!s.multiple,s.multiple?[]:"",!1))}i[jh]=s}catch(v){yn(t,t.return,v)}}break;case 6:if(io(e,t),To(t),n&4){if(t.stateNode===null)throw Error(Ye(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){yn(t,t.return,v)}}break;case 3:if(io(e,t),To(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Dh(e.containerInfo)}catch(v){yn(t,t.return,v)}break;case 4:io(e,t),To(t);break;case 13:io(e,t),To(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($3=En())),n&4&&X6(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Ci=(l=Ci)||u,io(e,t),Ci=l):io(e,t),To(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(St=t,u=t.child;u!==null;){for(f=St=u;St!==null;){switch(h=St,g=h.child,h.tag){case 0:case 11:case 14:case 15:yh(4,h,h.return);break;case 1:nf(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){yn(n,r,v)}}break;case 5:nf(h,h.return);break;case 22:if(h.memoizedState!==null){Q6(f);continue}}g!==null?(g.return=h,St=g):Q6(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=FA("display",o))}catch(v){yn(t,t.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(v){yn(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:io(e,t),To(t),n&4&&X6(t);break;case 21:break;default:io(e,t),To(t)}}function To(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(hk(r)){var n=r;break e}r=r.return}throw Error(Ye(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Nh(i,""),n.flags&=-33);var s=J6(t);xv(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=J6(t);vv(t,a,o);break;default:throw Error(Ye(161))}}catch(c){yn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tL(t,e,r){St=t,mk(t)}function mk(t,e,r){for(var n=(t.mode&1)!==0;St!==null;){var i=St,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||m0;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Ci;a=m0;var l=Ci;if(m0=o,(Ci=c)&&!l)for(St=i;St!==null;)o=St,c=o.child,o.tag===22&&o.memoizedState!==null?e5(i):c!==null?(c.return=o,St=c):e5(i);for(;s!==null;)St=s,mk(s),s=s.sibling;St=i,m0=a,Ci=l}Z6(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,St=s):Z6(t)}}function Z6(t){for(;St!==null;){var e=St;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ci||em(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ci)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ho(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&L6(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}L6(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Dh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ye(163))}Ci||e.flags&512&&bv(e)}catch(h){yn(e,e.return,h)}}if(e===t){St=null;break}if(r=e.sibling,r!==null){r.return=e.return,St=r;break}St=e.return}}function Q6(t){for(;St!==null;){var e=St;if(e===t){St=null;break}var r=e.sibling;if(r!==null){r.return=e.return,St=r;break}St=e.return}}function e5(t){for(;St!==null;){var e=St;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{em(4,e)}catch(c){yn(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){yn(e,i,c)}}var s=e.return;try{bv(e)}catch(c){yn(e,s,c)}break;case 5:var o=e.return;try{bv(e)}catch(c){yn(e,o,c)}}}catch(c){yn(e,e.return,c)}if(e===t){St=null;break}var a=e.sibling;if(a!==null){a.return=e.return,St=a;break}St=e.return}}var rL=Math.ceil,Xg=Qa.ReactCurrentDispatcher,D3=Qa.ReactCurrentOwner,Hs=Qa.ReactCurrentBatchConfig,Er=0,Yn=null,Rn=null,li=0,fs=0,sf=il(0),Dn=0,Vh=null,tu=0,tm=0,B3=0,wh=null,Ji=null,$3=0,Mf=1/0,Ca=null,Zg=!1,_v=null,$c=null,y0=!1,kc=null,Qg=0,bh=0,Sv=null,rg=-1,ng=0;function $i(){return Er&6?En():rg!==-1?rg:rg=En()}function Uc(t){return t.mode&1?Er&2&&li!==0?li&-li:UO.transition!==null?(ng===0&&(ng=QA()),ng):(t=Mr,t!==0||(t=window.event,t=t===void 0?16:oI(t.type)),t):1}function _o(t,e,r,n){if(50<bh)throw bh=0,Sv=null,Error(Ye(185));vp(t,r,n),(!(Er&2)||t!==Yn)&&(t===Yn&&(!(Er&2)&&(tm|=r),Dn===4&&xc(t,li)),rs(t,n),r===1&&Er===0&&!(e.mode&1)&&(Mf=En()+500,X1&&sl()))}function rs(t,e){var r=t.callbackNode;UM(t,e);var n=Dg(t,t===Yn?li:0);if(n===0)r!==null&&l6(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&l6(r),e===1)t.tag===0?$O(t5.bind(null,t)):AI(t5.bind(null,t)),OO(function(){!(Er&6)&&sl()}),r=null;else{switch(eI(n)){case 1:r=u3;break;case 4:r=XA;break;case 16:r=Lg;break;case 536870912:r=ZA;break;default:r=Lg}r=Ek(r,yk.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function yk(t,e){if(rg=-1,ng=0,Er&6)throw Error(Ye(327));var r=t.callbackNode;if(gf()&&t.callbackNode!==r)return null;var n=Dg(t,t===Yn?li:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=e1(t,n);else{e=n;var i=Er;Er|=2;var s=bk();(Yn!==t||li!==e)&&(Ca=null,Mf=En()+500,Fl(t,e));do try{sL();break}catch(a){wk(t,a)}while(!0);S3(),Xg.current=s,Er=i,Rn!==null?e=0:(Yn=null,li=0,e=Dn)}if(e!==0){if(e===2&&(i=Jb(t),i!==0&&(n=i,e=Ev(t,i))),e===1)throw r=Vh,Fl(t,0),xc(t,n),rs(t,En()),r;if(e===6)xc(t,n);else{if(i=t.current.alternate,!(n&30)&&!nL(i)&&(e=e1(t,n),e===2&&(s=Jb(t),s!==0&&(n=s,e=Ev(t,s))),e===1))throw r=Vh,Fl(t,0),xc(t,n),rs(t,En()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Ye(345));case 2:_l(t,Ji,Ca);break;case 3:if(xc(t,n),(n&130023424)===n&&(e=$3+500-En(),10<e)){if(Dg(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){$i(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=iv(_l.bind(null,t,Ji,Ca),e);break}_l(t,Ji,Ca);break;case 4:if(xc(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-xo(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=En()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*rL(n/1960))-n,10<n){t.timeoutHandle=iv(_l.bind(null,t,Ji,Ca),n);break}_l(t,Ji,Ca);break;case 5:_l(t,Ji,Ca);break;default:throw Error(Ye(329))}}}return rs(t,En()),t.callbackNode===r?yk.bind(null,t):null}function Ev(t,e){var r=wh;return t.current.memoizedState.isDehydrated&&(Fl(t,e).flags|=256),t=e1(t,e),t!==2&&(e=Ji,Ji=r,e!==null&&Av(e)),t}function Av(t){Ji===null?Ji=t:Ji.push.apply(Ji,t)}function nL(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Eo(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xc(t,e){for(e&=~B3,e&=~tm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-xo(e),n=1<<r;t[r]=-1,e&=~n}}function t5(t){if(Er&6)throw Error(Ye(327));gf();var e=Dg(t,0);if(!(e&1))return rs(t,En()),null;var r=e1(t,e);if(t.tag!==0&&r===2){var n=Jb(t);n!==0&&(e=n,r=Ev(t,n))}if(r===1)throw r=Vh,Fl(t,0),xc(t,e),rs(t,En()),r;if(r===6)throw Error(Ye(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_l(t,Ji,Ca),rs(t,En()),null}function U3(t,e){var r=Er;Er|=1;try{return t(e)}finally{Er=r,Er===0&&(Mf=En()+500,X1&&sl())}}function ru(t){kc!==null&&kc.tag===0&&!(Er&6)&&gf();var e=Er;Er|=1;var r=Hs.transition,n=Mr;try{if(Hs.transition=null,Mr=1,t)return t()}finally{Mr=n,Hs.transition=r,Er=e,!(Er&6)&&sl()}}function F3(){fs=sf.current,Zr(sf)}function Fl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,MO(r)),Rn!==null)for(r=Rn.return;r!==null;){var n=r;switch(v3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jg();break;case 3:Tf(),Zr(es),Zr(Ti),R3();break;case 5:C3(n);break;case 4:Tf();break;case 13:Zr(on);break;case 19:Zr(on);break;case 10:E3(n.type._context);break;case 22:case 23:F3()}r=r.return}if(Yn=t,Rn=t=Fc(t.current,null),li=fs=e,Dn=0,Vh=null,B3=tm=tu=0,Ji=wh=null,Nl!==null){for(e=0;e<Nl.length;e++)if(r=Nl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Nl=null}return t}function wk(t,e){do{var r=Rn;try{if(S3(),Q0.current=Jg,Yg){for(var n=ln.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Yg=!1}if(eu=0,Wn=On=ln=null,mh=!1,Kh=0,D3.current=null,r===null||r.return===null){Dn=1,Vh=e,Rn=null;break}e:{var s=t,o=r.return,a=r,c=e;if(e=li,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=z6(o);if(g!==null){g.flags&=-257,q6(g,o,a,s,e),g.mode&1&&j6(s,l,e),e=g,c=l;var y=e.updateQueue;if(y===null){var v=new Set;v.add(c),e.updateQueue=v}else y.add(c);break e}else{if(!(e&1)){j6(s,l,e),j3();break e}c=Error(Ye(426))}}else if(nn&&a.mode&1){var T=z6(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),q6(T,o,a,s,e),x3(Nf(c,a));break e}}s=c=Nf(c,a),Dn!==4&&(Dn=2),wh===null?wh=[s]:wh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var k=tk(s,c,e);O6(s,k);break e;case 1:a=c;var C=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof C.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&($c===null||!$c.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=rk(s,a,e);O6(s,D);break e}}s=s.return}while(s!==null)}xk(r)}catch(O){e=O,Rn===r&&r!==null&&(Rn=r=r.return);continue}break}while(!0)}function bk(){var t=Xg.current;return Xg.current=Jg,t===null?Jg:t}function j3(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Yn===null||!(tu&268435455)&&!(tm&268435455)||xc(Yn,li)}function e1(t,e){var r=Er;Er|=2;var n=bk();(Yn!==t||li!==e)&&(Ca=null,Fl(t,e));do try{iL();break}catch(i){wk(t,i)}while(!0);if(S3(),Er=r,Xg.current=n,Rn!==null)throw Error(Ye(261));return Yn=null,li=0,Dn}function iL(){for(;Rn!==null;)vk(Rn)}function sL(){for(;Rn!==null&&!PM();)vk(Rn)}function vk(t){var e=Sk(t.alternate,t,fs);t.memoizedProps=t.pendingProps,e===null?xk(t):Rn=e,D3.current=null}function xk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ZO(r,e),r!==null){r.flags&=32767,Rn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dn=6,Rn=null;return}}else if(r=XO(r,e,fs),r!==null){Rn=r;return}if(e=e.sibling,e!==null){Rn=e;return}Rn=e=t}while(e!==null);Dn===0&&(Dn=5)}function _l(t,e,r){var n=Mr,i=Hs.transition;try{Hs.transition=null,Mr=1,oL(t,e,r,n)}finally{Hs.transition=i,Mr=n}return null}function oL(t,e,r,n){do gf();while(kc!==null);if(Er&6)throw Error(Ye(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ye(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(FM(t,s),t===Yn&&(Rn=Yn=null,li=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||y0||(y0=!0,Ek(Lg,function(){return gf(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Hs.transition,Hs.transition=null;var o=Mr;Mr=1;var a=Er;Er|=4,D3.current=null,eL(t,r),gk(r,t),IO(rv),Bg=!!tv,rv=tv=null,t.current=r,tL(r),TM(),Er=a,Mr=o,Hs.transition=s}else t.current=r;if(y0&&(y0=!1,kc=t,Qg=i),s=t.pendingLanes,s===0&&($c=null),OM(r.stateNode),rs(t,En()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Zg)throw Zg=!1,t=_v,_v=null,t;return Qg&1&&t.tag!==0&&gf(),s=t.pendingLanes,s&1?t===Sv?bh++:(bh=0,Sv=t):bh=0,sl(),null}function gf(){if(kc!==null){var t=eI(Qg),e=Hs.transition,r=Mr;try{if(Hs.transition=null,Mr=16>t?16:t,kc===null)var n=!1;else{if(t=kc,kc=null,Qg=0,Er&6)throw Error(Ye(331));var i=Er;for(Er|=4,St=t.current;St!==null;){var s=St,o=s.child;if(St.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(St=l;St!==null;){var u=St;switch(u.tag){case 0:case 11:case 15:yh(8,u,s)}var f=u.child;if(f!==null)f.return=u,St=f;else for(;St!==null;){u=St;var h=u.sibling,g=u.return;if(dk(u),u===l){St=null;break}if(h!==null){h.return=g,St=h;break}St=g}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var T=v.sibling;v.sibling=null,v=T}while(v!==null)}}St=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,St=o;else e:for(;St!==null;){if(s=St,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yh(9,s,s.return)}var k=s.sibling;if(k!==null){k.return=s.return,St=k;break e}St=s.return}}var C=t.current;for(St=C;St!==null;){o=St;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,St=I;else e:for(o=C;St!==null;){if(a=St,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:em(9,a)}}catch(O){yn(a,a.return,O)}if(a===o){St=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,St=D;break e}St=a.return}}if(Er=i,sl(),Zo&&typeof Zo.onPostCommitFiberRoot=="function")try{Zo.onPostCommitFiberRoot(H1,t)}catch{}n=!0}return n}finally{Mr=r,Hs.transition=e}}return!1}function r5(t,e,r){e=Nf(r,e),e=tk(t,e,1),t=Bc(t,e,1),e=$i(),t!==null&&(vp(t,1,e),rs(t,e))}function yn(t,e,r){if(t.tag===3)r5(t,t,r);else for(;e!==null;){if(e.tag===3){r5(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($c===null||!$c.has(n))){t=Nf(r,t),t=rk(e,t,1),e=Bc(e,t,1),t=$i(),e!==null&&(vp(e,1,t),rs(e,t));break}}e=e.return}}function aL(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=$i(),t.pingedLanes|=t.suspendedLanes&r,Yn===t&&(li&r)===r&&(Dn===4||Dn===3&&(li&130023424)===li&&500>En()-$3?Fl(t,0):B3|=r),rs(t,e)}function _k(t,e){e===0&&(t.mode&1?(e=a0,a0<<=1,!(a0&130023424)&&(a0=4194304)):e=1);var r=$i();t=Ha(t,e),t!==null&&(vp(t,e,r),rs(t,r))}function cL(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),_k(t,r)}function lL(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ye(314))}n!==null&&n.delete(e),_k(t,r)}var Sk;Sk=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||es.current)Qi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Qi=!1,JO(t,e,r);Qi=!!(t.flags&131072)}else Qi=!1,nn&&e.flags&1048576&&II(e,Kg,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;tg(t,e),t=e.pendingProps;var i=Cf(e,Ti.current);pf(e,r),i=T3(null,e,n,t,i,r);var s=N3();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ts(n)?(s=!0,zg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,I3(e),i.updater=Z1,e.stateNode=i,i._reactInternals=e,fv(e,n,t,r),e=pv(null,e,n,!0,s,r)):(e.tag=0,nn&&s&&b3(e),Li(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(tg(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=fL(n),t=ho(n,t),i){case 0:e=hv(null,e,n,t,r);break e;case 1:e=H6(null,e,n,t,r);break e;case 11:e=K6(null,e,n,t,r);break e;case 14:e=W6(null,e,n,ho(n.type,t),r);break e}throw Error(Ye(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ho(n,i),hv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ho(n,i),H6(t,e,n,i,r);case 3:e:{if(ok(e),t===null)throw Error(Ye(387));n=e.pendingProps,s=e.memoizedState,i=s.element,PI(t,e),Vg(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Nf(Error(Ye(423)),e),e=V6(t,e,n,r,i);break e}else if(n!==i){i=Nf(Error(Ye(424)),e),e=V6(t,e,n,r,i);break e}else for(ys=Dc(e.stateNode.containerInfo.firstChild),xs=e,nn=!0,wo=null,r=OI(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rf(),n===i){e=Va(t,e,r);break e}Li(t,e,n,r)}e=e.child}return e;case 5:return LI(e),t===null&&cv(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,nv(n,i)?o=null:s!==null&&nv(n,s)&&(e.flags|=32),sk(t,e),Li(t,e,o,r),e.child;case 6:return t===null&&cv(e),null;case 13:return ak(t,e,r);case 4:return k3(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Pf(e,null,n,r):Li(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ho(n,i),K6(t,e,n,i,r);case 7:return Li(t,e,e.pendingProps,r),e.child;case 8:return Li(t,e,e.pendingProps.children,r),e.child;case 12:return Li(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Wr(Wg,n._currentValue),n._currentValue=o,s!==null)if(Eo(s.value,o)){if(s.children===i.children&&!es.current){e=Va(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=ja(-1,r&-r),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),lv(s.return,r,e),a.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ye(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),lv(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Li(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,pf(e,r),i=Gs(i),n=n(i),e.flags|=1,Li(t,e,n,r),e.child;case 14:return n=e.type,i=ho(n,e.pendingProps),i=ho(n.type,i),W6(t,e,n,i,r);case 15:return nk(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ho(n,i),tg(t,e),e.tag=1,ts(n)?(t=!0,zg(e)):t=!1,pf(e,r),NI(e,n,i),fv(e,n,i,r),pv(null,e,n,!0,t,r);case 19:return ck(t,e,r);case 22:return ik(t,e,r)}throw Error(Ye(156,e.tag))};function Ek(t,e){return JA(t,e)}function uL(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(t,e,r,n){return new uL(t,e,r,n)}function z3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fL(t){if(typeof t=="function")return z3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===a3)return 11;if(t===c3)return 14}return 2}function Fc(t,e){var r=t.alternate;return r===null?(r=Ks(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ig(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")z3(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Gu:return jl(r.children,i,s,e);case o3:o=8,i|=8;break;case Lb:return t=Ks(12,r,e,i|2),t.elementType=Lb,t.lanes=s,t;case Db:return t=Ks(13,r,e,i),t.elementType=Db,t.lanes=s,t;case Bb:return t=Ks(19,r,e,i),t.elementType=Bb,t.lanes=s,t;case MA:return rm(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TA:o=10;break e;case NA:o=9;break e;case a3:o=11;break e;case c3:o=14;break e;case pc:o=16,n=null;break e}throw Error(Ye(130,t==null?t:typeof t,""))}return e=Ks(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function jl(t,e,r,n){return t=Ks(7,t,n,e),t.lanes=r,t}function rm(t,e,r,n){return t=Ks(22,t,n,e),t.elementType=MA,t.lanes=r,t.stateNode={isHidden:!1},t}function Jy(t,e,r){return t=Ks(6,t,null,e),t.lanes=r,t}function Xy(t,e,r){return e=Ks(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dL(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ty(0),this.expirationTimes=Ty(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ty(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function q3(t,e,r,n,i,s,o,a,c){return t=new dL(t,e,r,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ks(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},I3(s),t}function hL(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vu,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Ak(t){if(!t)return Yc;t=t._reactInternals;e:{if(mu(t)!==t||t.tag!==1)throw Error(Ye(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ts(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ye(171))}if(t.tag===1){var r=t.type;if(ts(r))return EI(t,r,e)}return e}function Ik(t,e,r,n,i,s,o,a,c){return t=q3(r,n,!0,t,i,s,o,a,c),t.context=Ak(null),r=t.current,n=$i(),i=Uc(r),s=ja(n,i),s.callback=e??null,Bc(r,s,i),t.current.lanes=i,vp(t,i,n),rs(t,n),t}function nm(t,e,r,n){var i=e.current,s=$i(),o=Uc(i);return r=Ak(r),e.context===null?e.context=r:e.pendingContext=r,e=ja(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Bc(i,e,o),t!==null&&(_o(t,i,o,s),Z0(t,i,o)),o}function t1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function n5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function K3(t,e){n5(t,e),(t=t.alternate)&&n5(t,e)}function pL(){return null}var kk=typeof reportError=="function"?reportError:function(t){console.error(t)};function W3(t){this._internalRoot=t}im.prototype.render=W3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ye(409));nm(t,e,null,null)};im.prototype.unmount=W3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ru(function(){nm(null,t,null,null)}),e[Wa]=null}};function im(t){this._internalRoot=t}im.prototype.unstable_scheduleHydration=function(t){if(t){var e=nI();t={blockedOn:null,target:t,priority:e};for(var r=0;r<vc.length&&e!==0&&e<vc[r].priority;r++);vc.splice(r,0,t),r===0&&sI(t)}};function H3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function i5(){}function gL(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=t1(o);s.call(l)}}var o=Ik(e,n,t,0,null,!1,!1,"",i5);return t._reactRootContainer=o,t[Wa]=o.current,Uh(t.nodeType===8?t.parentNode:t),ru(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=t1(c);a.call(l)}}var c=q3(t,0,!1,null,null,!1,!1,"",i5);return t._reactRootContainer=c,t[Wa]=c.current,Uh(t.nodeType===8?t.parentNode:t),ru(function(){nm(e,c,r,n)}),c}function om(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=t1(o);a.call(c)}}nm(e,o,t,i)}else o=gL(r,e,t,i,n);return t1(o)}tI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=nh(e.pendingLanes);r!==0&&(f3(e,r|1),rs(e,En()),!(Er&6)&&(Mf=En()+500,sl()))}break;case 13:ru(function(){var n=Ha(t,1);if(n!==null){var i=$i();_o(n,t,1,i)}}),K3(t,1)}};d3=function(t){if(t.tag===13){var e=Ha(t,134217728);if(e!==null){var r=$i();_o(e,t,134217728,r)}K3(t,134217728)}};rI=function(t){if(t.tag===13){var e=Uc(t),r=Ha(t,e);if(r!==null){var n=$i();_o(r,t,e,n)}K3(t,e)}};nI=function(){return Mr};iI=function(t,e){var r=Mr;try{return Mr=t,e()}finally{Mr=r}};Vb=function(t,e,r){switch(e){case"input":if(Fb(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=J1(n);if(!i)throw Error(Ye(90));LA(n),Fb(n,i)}}}break;case"textarea":BA(t,r);break;case"select":e=r.value,e!=null&&uf(t,!!r.multiple,e,!1)}};KA=U3;WA=ru;var mL={usingClientEntryPoint:!1,Events:[_p,Zu,J1,zA,qA,U3]},Nd={findFiberByHostInstance:Tl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},yL={bundleType:Nd.bundleType,version:Nd.version,rendererPackageName:Nd.rendererPackageName,rendererConfig:Nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=GA(t),t===null?null:t.stateNode},findFiberByHostInstance:Nd.findFiberByHostInstance||pL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var w0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!w0.isDisabled&&w0.supportsFiber)try{H1=w0.inject(yL),Zo=w0}catch{}}Es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mL;Es.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!H3(e))throw Error(Ye(200));return hL(t,e,null,r)};Es.createRoot=function(t,e){if(!H3(t))throw Error(Ye(299));var r=!1,n="",i=kk;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=q3(t,1,!1,null,null,r,!1,n,i),t[Wa]=e.current,Uh(t.nodeType===8?t.parentNode:t),new W3(e)};Es.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ye(188)):(t=Object.keys(t).join(","),Error(Ye(268,t)));return t=GA(e),t=t===null?null:t.stateNode,t};Es.flushSync=function(t){return ru(t)};Es.hydrate=function(t,e,r){if(!sm(e))throw Error(Ye(200));return om(null,t,e,!0,r)};Es.hydrateRoot=function(t,e,r){if(!H3(t))throw Error(Ye(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=kk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Ik(e,null,t,1,r??null,i,!1,s,o),t[Wa]=e.current,Uh(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new im(e)};Es.render=function(t,e,r){if(!sm(e))throw Error(Ye(200));return om(null,t,e,!1,r)};Es.unmountComponentAtNode=function(t){if(!sm(t))throw Error(Ye(40));return t._reactRootContainer?(ru(function(){om(null,null,t,!1,function(){t._reactRootContainer=null,t[Wa]=null})}),!0):!1};Es.unstable_batchedUpdates=U3;Es.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!sm(r))throw Error(Ye(200));if(t==null||t._reactInternals===void 0)throw Error(Ye(38));return om(t,e,r,!1,n)};Es.version="18.2.0-next-9e3b772b8-20220608";function Ck(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ck)}catch(t){console.error(t)}}Ck(),IA.exports=Es;var Rk=IA.exports;const s5=An(Rk);var Pk,o5=Rk;Pk=Mb.createRoot=o5.createRoot,Mb.hydrateRoot=o5.hydrateRoot;function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function wL(t,e){if(Gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bL(t){var e=wL(t,"string");return Gh(e)=="symbol"?e:e+""}function Pe(t,e,r){return(e=bL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vL(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function xL(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var _L=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tk=function(t){_L(e,t);function e(r,n){var i=this.constructor,s=t.call(this,r,n)||this;return Object.defineProperty(s,"name",{value:i.name,enumerable:!1,configurable:!0}),vL(s,i.prototype),xL(s),s}return e}(Error);function SL(t){const e=t.findIndex(s=>s instanceof Error),r=t.findIndex(s=>typeof s=="string"),n=t.findIndex(s=>s&&typeof s=="object"&&"status"in s&&"type"in s);let i;if(n!==-1){const s=t[n];i=new Error(`${s.status} ${s.type.toString()} ${s.statusText}`)}else e!==-1?i=t.splice(e,1)[0]:r!==-1?i=new Error(t.splice(r,1)[0]):i=new Error("Unknown error");return[i,t]}class nu extends Tk{constructor(e,r,n){super(r),Pe(this,"code",void 0),Pe(this,"message",void 0),Pe(this,"cause",void 0),this.code=e,this.message=r||"",this.cause=n,Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:SL([this.cause])}}toString(){return JSON.stringify(this.toJSON())}}class st extends nu{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e,r="",n){return new st(e,`${st.messages[e]}, ${r}`,n)}static notFound(e="",r){return st.fromCode(5001,e,r)}static notInstalled(e="",r){return st.fromCode(5002,e,r)}static notReady(e="",r){return st.fromCode(5003,e,r)}static windowBlocked(e="",r){return st.fromCode(5004,e,r)}static windowClosed(e="",r){return st.fromCode(5005,e,r)}static incompatibleChainNameSpace(e="",r){return st.fromCode(5006,e,r)}static duplicateAdapterError(e="",r){return st.fromCode(5007,e,r)}static invalidProviderConfigError(e="",r){return st.fromCode(5008,e,r)}static providerNotReadyError(e="",r){return st.fromCode(5009,e,r)}static rpcConnectionError(e="",r){return st.fromCode(5010,e,r)}static invalidParams(e="",r){return st.fromCode(5011,e,r)}static invalidNetwork(e="",r){return st.fromCode(5013,e,r)}}Pe(st,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class Kt extends nu{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e,r="",n){return new Kt(e,`${Kt.messages[e]}. ${r}`,n)}static connectionError(e="",r){return Kt.fromCode(5111,e,r)}static disconnectionError(e="",r){return Kt.fromCode(5112,e,r)}static notConnectedError(e="",r){return Kt.fromCode(5113,e,r)}static popupClosed(e="",r){return Kt.fromCode(5114,e,r)}static mfaEnabled(e="",r){return Kt.fromCode(5115,e,r)}static chainConfigNotAdded(e="",r){return Kt.fromCode(5116,e,r)}static unsupportedOperation(e="",r){return Kt.fromCode(5117,e,r)}static coreKitKeyNotFound(e="",r){return Kt.fromCode(5118,e,r)}static userNotLoggedIn(e="",r){return Kt.fromCode(5119,e,r)}}Pe(Kt,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useCoreKitKey flag is enabled but coreKitKey is not available",5119:"User not logged in."});class qs extends nu{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e,r="",n){return new qs(e,`${qs.messages[e]}, ${r}`,n)}static chainIDNotAllowed(e="",r){return qs.fromCode(5201,e,r)}static operationNotAllowed(e="",r){return qs.fromCode(5202,e,r)}static chainNamespaceNotAllowed(e="",r){return qs.fromCode(5203,e,r)}}Pe(qs,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class Pa extends nu{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e,r="",n){return new qs(e,`${Pa.messages[e]}, ${r}`,n)}static invalidRequestArgs(e="",r){return qs.fromCode(5301,e,r)}static invalidRequestMethod(e="",r){return qs.fromCode(5302,e,r)}static invalidRequestParams(e="",r){return qs.fromCode(5303,e,r)}}Pe(Pa,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."});const Vt={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",OTHER:"other"},Yh={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",MULTICHAIN:"multichain"},EL=t=>{if(t===Vt.EIP155)return 1;if(t===Vt.SOLANA)return 1;if(t===Vt.XRPL)return 1;throw st.invalidParams(`Chain namespace ${t} is not supported`)},AL=t=>{const e=Vt.EIP155;return t===1?{logo:"https://images.toruswallet.io/eth.svg",chainNamespace:e,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/eth",displayName:"Ethereum Mainnet",blockExplorerUrl:"https://etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:t===5?{logo:"https://images.toruswallet.io/eth.svg",chainNamespace:e,chainId:"0x5",rpcTarget:"https://rpc.ankr.com/eth_goerli",displayName:"Goerli Testnet",blockExplorerUrl:"https://goerli.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:t===11155111?{logo:"https://images.toruswallet.io/eth.svg",chainNamespace:e,chainId:"0xaa36a7",rpcTarget:"https://rpc.ankr.com/eth_sepolia",displayName:"Sepolia Testnet",blockExplorerUrl:"https://sepolia.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:t===137?{logo:"https://images.toruswallet.io/polygon.svg",chainNamespace:e,chainId:"0x89",rpcTarget:"https://rpc.ankr.com/polygon",displayName:"Polygon Mainnet",blockExplorerUrl:"https://polygonscan.com",ticker:"POL",tickerName:"Polygon Ecosystem Token"}:t===80002?{logo:"https://images.toruswallet.io/polygon.svg",chainNamespace:e,chainId:"0x13882",rpcTarget:"https://rpc.ankr.com/polygon_amoy",displayName:"Polygon Amoy Testnet",blockExplorerUrl:"https://www.oklink.com/amoy",ticker:"POL",tickerName:"Polygon Ecosystem Token",decimals:18}:t===56?{logo:"https://images.toruswallet.io/bnb.png",chainNamespace:e,chainId:"0x38",rpcTarget:"https://rpc.ankr.com/bsc",displayName:"Binance SmartChain Mainnet",blockExplorerUrl:"https://bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:t===97?{logo:"https://images.toruswallet.io/bnb.png",chainNamespace:e,chainId:"0x61",rpcTarget:"https://rpc.ankr.com/bsc_testnet_chapel",displayName:"Binance SmartChain Testnet",blockExplorerUrl:"https://testnet.bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:t===25?{logo:"https://images.toruswallet.io/cro.svg",chainNamespace:e,chainId:"0x19",rpcTarget:"https://rpc.cronos.org",displayName:"Cronos Mainnet",blockExplorerUrl:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos"}:t===338?{logo:"https://images.toruswallet.io/cro.svg",chainNamespace:e,chainId:"0x152",rpcTarget:"https://rpc-t3.cronos.org/",displayName:"Cronos Testnet",blockExplorerUrl:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos",decimals:18}:t===8217?{logo:"https://images.toruswallet.io/klay.svg",chainNamespace:e,chainId:"0x2019",rpcTarget:"https://public-node-api.klaytnapi.com/v1/cypress",displayName:"Klaytn Mainnet",blockExplorerUrl:"https://scope.klaytn.com",ticker:"KLAY",tickerName:"Klaytn",decimals:18}:t===1946?{chainNamespace:Vt.EIP155,chainId:"0x79a",rpcTarget:"https://rpc.minato.soneium.org",displayName:"Soneium Minato Testnet",blockExplorerUrl:"https://explorer-testnet.soneium.org",ticker:"ETH",tickerName:"ETH",logo:"https://cryptologos.cc/logos/soneium-logo.png"}:null},IL=t=>{const e=Vt.SOLANA;return t===1?{logo:"https://images.toruswallet.io/sol.svg",chainNamespace:e,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/solana",displayName:"Solana Mainnet",blockExplorerUrl:"https://explorer.solana.com",ticker:"SOL",tickerName:"Solana",decimals:9}:t===2?{logo:"https://images.toruswallet.io/sol.svg",chainNamespace:e,chainId:"0x2",rpcTarget:"https://api.testnet.solana.com",displayName:"Solana Testnet",blockExplorerUrl:"https://explorer.solana.com?cluster=testnet",ticker:"SOL",tickerName:"Solana",decimals:9}:t===3?{logo:"https://images.toruswallet.io/sol.svg",chainNamespace:e,chainId:"0x3",rpcTarget:"https://api.devnet.solana.com",displayName:"Solana Devnet",blockExplorerUrl:"https://explorer.solana.com?cluster=devnet",ticker:"SOL",tickerName:"Solana",decimals:9}:null},kL=t=>{const e=Vt.XRPL;return t===1?{chainNamespace:e,decimals:15,chainId:"0x1",logo:"https://images.toruswallet.io/XRP.svg",rpcTarget:"https://ripple-node.tor.us",wsTarget:"wss://s2.ripple.com",ticker:"XRP",tickerName:"XRPL",displayName:"xrpl mainnet",blockExplorerUrl:"https://livenet.xrpl.org"}:t===2?{chainNamespace:e,decimals:15,chainId:"0x2",logo:"https://images.toruswallet.io/XRP.svg",rpcTarget:"https://testnet-ripple-node.tor.us",wsTarget:"wss://s.altnet.rippletest.net",ticker:"XRP",tickerName:"XRPL",displayName:"xrpl testnet",blockExplorerUrl:"https://testnet.xrpl.org",isTestnet:!0}:t===3?{chainNamespace:e,decimals:15,chainId:"0x3",logo:"https://images.toruswallet.io/XRP.svg",rpcTarget:"https://devnet-ripple-node.tor.us",wsTarget:"wss://s.devnet.rippletest.net/",ticker:"XRP",tickerName:"XRPL",displayName:"xrpl devnet",blockExplorerUrl:"https://devnet.xrpl.org",isTestnet:!0}:null},Jc=(t,e)=>{if(t===Vt.OTHER)return null;const r=e?typeof e=="number"?e:parseInt(e,16):EL(t);return t===Vt.EIP155?AL(r):t===Vt.SOLANA?IL(r):t===Vt.XRPL?kL(r):null};var Nk={exports:{}};(function(t){(function(e,r){t.exports?t.exports=r():e.log=r()})(ui,function(){var e=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],s={},o=null;function a(v,T){var k=v[T];if(typeof k.bind=="function")return k.bind(v);try{return Function.prototype.bind.call(k,v)}catch{return function(){return Function.prototype.apply.apply(k,[v,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(v){return v==="debug"&&(v="log"),typeof console===r?!1:v==="trace"&&n?c:console[v]!==void 0?a(console,v):console.log!==void 0?a(console,"log"):e}function u(){for(var v=this.getLevel(),T=0;T<i.length;T++){var k=i[T];this[k]=T<v?e:this.methodFactory(k,v,this.name)}if(this.log=this.debug,typeof console===r&&v<this.levels.SILENT)return"No console available for logging"}function f(v){return function(){typeof console!==r&&(u.call(this),this[v].apply(this,arguments))}}function h(v,T,k){return l(v)||f.apply(this,arguments)}function g(v,T){var k=this,C,I,D,O="loglevel";typeof v=="string"?O+=":"+v:typeof v=="symbol"&&(O=void 0);function F(j){var w=(i[j]||"silent").toUpperCase();if(!(typeof window===r||!O)){try{window.localStorage[O]=w;return}catch{}try{window.document.cookie=encodeURIComponent(O)+"="+w+";"}catch{}}}function x(){var j;if(!(typeof window===r||!O)){try{j=window.localStorage[O]}catch{}if(typeof j===r)try{var w=window.document.cookie,m=encodeURIComponent(O),d=w.indexOf(m+"=");d!==-1&&(j=/^([^;]+)/.exec(w.slice(d+m.length+1))[1])}catch{}return k.levels[j]===void 0&&(j=void 0),j}}function L(){if(!(typeof window===r||!O)){try{window.localStorage.removeItem(O)}catch{}try{window.document.cookie=encodeURIComponent(O)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function J(j){var w=j;if(typeof w=="string"&&k.levels[w.toUpperCase()]!==void 0&&(w=k.levels[w.toUpperCase()]),typeof w=="number"&&w>=0&&w<=k.levels.SILENT)return w;throw new TypeError("log.setLevel() called with invalid level: "+j)}k.name=v,k.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},k.methodFactory=T||h,k.getLevel=function(){return D??I??C},k.setLevel=function(j,w){return D=J(j),w!==!1&&F(D),u.call(k)},k.setDefaultLevel=function(j){I=J(j),x()||k.setLevel(j,!1)},k.resetLevel=function(){D=null,L(),u.call(k)},k.enableAll=function(j){k.setLevel(k.levels.TRACE,j)},k.disableAll=function(j){k.setLevel(k.levels.SILENT,j)},k.rebuild=function(){if(o!==k&&(C=J(o.getLevel())),u.call(k),o===k)for(var j in s)s[j].rebuild()},C=J(o?o.getLevel():"WARN");var ne=x();ne!=null&&(D=J(ne)),u.call(k)}o=new g,o.getLogger=function(T){if(typeof T!="symbol"&&typeof T!="string"||T==="")throw new TypeError("You must supply a name when creating a logger.");var k=s[T];return k||(k=s[T]=new g(T,o.methodFactory)),k};var y=typeof window!==r?window.log:void 0;return o.noConflict=function(){return typeof window!==r&&window.log===o&&(window.log=y),o},o.getLoggers=function(){return s},o.default=o,o})})(Nk);var V3=Nk.exports;const am=An(V3);var dt=am.getLogger("web3auth-logger");function a5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(r),!0).forEach(function(n){Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c5(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function CL(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function G3(t,...e){if(!CL(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function r1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Mk(t,e){G3(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RL=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Zy=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),No=(t,e)=>t<<32-e|t>>>e,l5=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,PL=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function u5(t){for(let e=0;e<t.length;e++)t[e]=PL(t[e])}function TL(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Y3(t){return typeof t=="string"&&(t=TL(t)),G3(t),t}let Ok=class{clone(){return this._cloneInto()}};function Lk(t){const e=n=>t().update(Y3(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function NL(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}const ML=(t,e,r)=>t&e^~t&r,OL=(t,e,r)=>t&e^t&r^e&r;let LL=class extends Ok{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Zy(this.buffer)}update(e){r1(this);const{view:r,buffer:n,blockLen:i}=this;e=Y3(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Zy(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){r1(this),Mk(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;NL(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=Zy(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const DL=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ic=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),sc=new Uint32Array(64);let BL=class extends LL{constructor(){super(64,32,8,!1),this.A=ic[0]|0,this.B=ic[1]|0,this.C=ic[2]|0,this.D=ic[3]|0,this.E=ic[4]|0,this.F=ic[5]|0,this.G=ic[6]|0,this.H=ic[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)sc[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const h=sc[f-15],g=sc[f-2],y=No(h,7)^No(h,18)^h>>>3,v=No(g,17)^No(g,19)^g>>>10;sc[f]=v+sc[f-7]+y+sc[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const h=No(a,6)^No(a,11)^No(a,25),g=u+h+ML(a,c,l)+DL[f]+sc[f]|0,v=(No(n,2)^No(n,13)^No(n,22))+OL(n,i,s)|0;u=l,l=c,c=a,a=o+g|0,o=s,s=i,i=n,n=g+v|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,c,l,u)}roundClean(){sc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const f5=Lk(()=>new BL);var J3={exports:{}};const $L={},UL=Object.freeze(Object.defineProperty({__proto__:null,default:$L},Symbol.toStringTag,{value:"Module"})),Dk=wp(UL);J3.exports;(function(t){(function(e,r){function n(m,d){if(!m)throw new Error(d||"Assertion failed")}function i(m,d){m.super_=d;var p=function(){};p.prototype=d.prototype,m.prototype=new p,m.prototype.constructor=m}function s(m,d,p){if(s.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((d==="le"||d==="be")&&(p=d,d=10),this._init(m||0,d||10,p||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Dk.Buffer}catch{}s.isBN=function(d){return d instanceof s?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===s.wordSize&&Array.isArray(d.words)},s.max=function(d,p){return d.cmp(p)>0?d:p},s.min=function(d,p){return d.cmp(p)<0?d:p},s.prototype._init=function(d,p,_){if(typeof d=="number")return this._initNumber(d,p,_);if(typeof d=="object")return this._initArray(d,p,_);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),d=d.toString().replace(/\s+/g,"");var N=0;d[0]==="-"&&(N++,this.negative=1),N<d.length&&(p===16?this._parseHex(d,N,_):(this._parseBase(d,p,N),_==="le"&&this._initArray(this.toArray(),p,_)))},s.prototype._initNumber=function(d,p,_){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),p,_)},s.prototype._initArray=function(d,p,_){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var E,S,b=0;if(_==="be")for(N=d.length-1,E=0;N>=0;N-=3)S=d[N]|d[N-1]<<8|d[N-2]<<16,this.words[E]|=S<<b&67108863,this.words[E+1]=S>>>26-b&67108863,b+=24,b>=26&&(b-=26,E++);else if(_==="le")for(N=0,E=0;N<d.length;N+=3)S=d[N]|d[N+1]<<8|d[N+2]<<16,this.words[E]|=S<<b&67108863,this.words[E+1]=S>>>26-b&67108863,b+=24,b>=26&&(b-=26,E++);return this._strip()};function a(m,d){var p=m.charCodeAt(d);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+m)}function c(m,d,p){var _=a(m,p);return p-1>=d&&(_|=a(m,p-1)<<4),_}s.prototype._parseHex=function(d,p,_){this.length=Math.ceil((d.length-p)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var E=0,S=0,b;if(_==="be")for(N=d.length-1;N>=p;N-=2)b=c(d,p,N)<<E,this.words[S]|=b&67108863,E>=18?(E-=18,S+=1,this.words[S]|=b>>>26):E+=8;else{var R=d.length-p;for(N=R%2===0?p+1:p;N<d.length;N+=2)b=c(d,p,N)<<E,this.words[S]|=b&67108863,E>=18?(E-=18,S+=1,this.words[S]|=b>>>26):E+=8}this._strip()};function l(m,d,p,_){for(var N=0,E=0,S=Math.min(m.length,p),b=d;b<S;b++){var R=m.charCodeAt(b)-48;N*=_,R>=49?E=R-49+10:R>=17?E=R-17+10:E=R,n(R>=0&&E<_,"Invalid character"),N+=E}return N}s.prototype._parseBase=function(d,p,_){this.words=[0],this.length=1;for(var N=0,E=1;E<=67108863;E*=p)N++;N--,E=E/p|0;for(var S=d.length-_,b=S%N,R=Math.min(S,S-b)+_,P=0,q=_;q<R;q+=N)P=l(d,q,q+N,p),this.imuln(E),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P);if(b!==0){var ue=1;for(P=l(d,q,d.length,p),q=0;q<b;q++)ue*=p;this.imuln(ue),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P)}this._strip()},s.prototype.copy=function(d){d.words=new Array(this.length);for(var p=0;p<this.length;p++)d.words[p]=this.words[p];d.length=this.length,d.negative=this.negative,d.red=this.red};function u(m,d){m.words=d.words,m.length=d.length,m.negative=d.negative,m.red=d.red}if(s.prototype._move=function(d){u(d,this)},s.prototype.clone=function(){var d=new s(null);return this.copy(d),d},s.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(d,p){d=d||10,p=p|0||1;var _;if(d===16||d==="hex"){_="";for(var N=0,E=0,S=0;S<this.length;S++){var b=this.words[S],R=((b<<N|E)&16777215).toString(16);E=b>>>24-N&16777215,N+=2,N>=26&&(N-=26,S--),E!==0||S!==this.length-1?_=h[6-R.length]+R+_:_=R+_}for(E!==0&&(_=E.toString(16)+_);_.length%p!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(d===(d|0)&&d>=2&&d<=36){var P=g[d],q=y[d];_="";var ue=this.clone();for(ue.negative=0;!ue.isZero();){var $=ue.modrn(q).toString(d);ue=ue.idivn(q),ue.isZero()?_=$+_:_=h[P-$.length]+$+_}for(this.isZero()&&(_="0"+_);_.length%p!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(d,p){return this.toArrayLike(o,d,p)}),s.prototype.toArray=function(d,p){return this.toArrayLike(Array,d,p)};var v=function(d,p){return d.allocUnsafe?d.allocUnsafe(p):new d(p)};s.prototype.toArrayLike=function(d,p,_){this._strip();var N=this.byteLength(),E=_||Math.max(1,N);n(N<=E,"byte array longer than desired length"),n(E>0,"Requested array length <= 0");var S=v(d,E),b=p==="le"?"LE":"BE";return this["_toArrayLike"+b](S,N),S},s.prototype._toArrayLikeLE=function(d,p){for(var _=0,N=0,E=0,S=0;E<this.length;E++){var b=this.words[E]<<S|N;d[_++]=b&255,_<d.length&&(d[_++]=b>>8&255),_<d.length&&(d[_++]=b>>16&255),S===6?(_<d.length&&(d[_++]=b>>24&255),N=0,S=0):(N=b>>>24,S+=2)}if(_<d.length)for(d[_++]=N;_<d.length;)d[_++]=0},s.prototype._toArrayLikeBE=function(d,p){for(var _=d.length-1,N=0,E=0,S=0;E<this.length;E++){var b=this.words[E]<<S|N;d[_--]=b&255,_>=0&&(d[_--]=b>>8&255),_>=0&&(d[_--]=b>>16&255),S===6?(_>=0&&(d[_--]=b>>24&255),N=0,S=0):(N=b>>>24,S+=2)}if(_>=0)for(d[_--]=N;_>=0;)d[_--]=0},Math.clz32?s.prototype._countBits=function(d){return 32-Math.clz32(d)}:s.prototype._countBits=function(d){var p=d,_=0;return p>=4096&&(_+=13,p>>>=13),p>=64&&(_+=7,p>>>=7),p>=8&&(_+=4,p>>>=4),p>=2&&(_+=2,p>>>=2),_+p},s.prototype._zeroBits=function(d){if(d===0)return 26;var p=d,_=0;return p&8191||(_+=13,p>>>=13),p&127||(_+=7,p>>>=7),p&15||(_+=4,p>>>=4),p&3||(_+=2,p>>>=2),p&1||_++,_},s.prototype.bitLength=function(){var d=this.words[this.length-1],p=this._countBits(d);return(this.length-1)*26+p};function T(m){for(var d=new Array(m.bitLength()),p=0;p<d.length;p++){var _=p/26|0,N=p%26;d[p]=m.words[_]>>>N&1}return d}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,p=0;p<this.length;p++){var _=this._zeroBits(this.words[p]);if(d+=_,_!==26)break}return d},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},s.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]|d.words[p];return this._strip()},s.prototype.ior=function(d){return n((this.negative|d.negative)===0),this.iuor(d)},s.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},s.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},s.prototype.iuand=function(d){var p;this.length>d.length?p=d:p=this;for(var _=0;_<p.length;_++)this.words[_]=this.words[_]&d.words[_];return this.length=p.length,this._strip()},s.prototype.iand=function(d){return n((this.negative|d.negative)===0),this.iuand(d)},s.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},s.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},s.prototype.iuxor=function(d){var p,_;this.length>d.length?(p=this,_=d):(p=d,_=this);for(var N=0;N<_.length;N++)this.words[N]=p.words[N]^_.words[N];if(this!==p)for(;N<p.length;N++)this.words[N]=p.words[N];return this.length=p.length,this._strip()},s.prototype.ixor=function(d){return n((this.negative|d.negative)===0),this.iuxor(d)},s.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},s.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},s.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var p=Math.ceil(d/26)|0,_=d%26;this._expand(p),_>0&&p--;for(var N=0;N<p;N++)this.words[N]=~this.words[N]&67108863;return _>0&&(this.words[N]=~this.words[N]&67108863>>26-_),this._strip()},s.prototype.notn=function(d){return this.clone().inotn(d)},s.prototype.setn=function(d,p){n(typeof d=="number"&&d>=0);var _=d/26|0,N=d%26;return this._expand(_+1),p?this.words[_]=this.words[_]|1<<N:this.words[_]=this.words[_]&~(1<<N),this._strip()},s.prototype.iadd=function(d){var p;if(this.negative!==0&&d.negative===0)return this.negative=0,p=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,p=this.isub(d),d.negative=1,p._normSign();var _,N;this.length>d.length?(_=this,N=d):(_=d,N=this);for(var E=0,S=0;S<N.length;S++)p=(_.words[S]|0)+(N.words[S]|0)+E,this.words[S]=p&67108863,E=p>>>26;for(;E!==0&&S<_.length;S++)p=(_.words[S]|0)+E,this.words[S]=p&67108863,E=p>>>26;if(this.length=_.length,E!==0)this.words[this.length]=E,this.length++;else if(_!==this)for(;S<_.length;S++)this.words[S]=_.words[S];return this},s.prototype.add=function(d){var p;return d.negative!==0&&this.negative===0?(d.negative=0,p=this.sub(d),d.negative^=1,p):d.negative===0&&this.negative!==0?(this.negative=0,p=d.sub(this),this.negative=1,p):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},s.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var p=this.iadd(d);return d.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var _=this.cmp(d);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,E;_>0?(N=this,E=d):(N=d,E=this);for(var S=0,b=0;b<E.length;b++)p=(N.words[b]|0)-(E.words[b]|0)+S,S=p>>26,this.words[b]=p&67108863;for(;S!==0&&b<N.length;b++)p=(N.words[b]|0)+S,S=p>>26,this.words[b]=p&67108863;if(S===0&&b<N.length&&N!==this)for(;b<N.length;b++)this.words[b]=N.words[b];return this.length=Math.max(this.length,b),N!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(d){return this.clone().isub(d)};function k(m,d,p){p.negative=d.negative^m.negative;var _=m.length+d.length|0;p.length=_,_=_-1|0;var N=m.words[0]|0,E=d.words[0]|0,S=N*E,b=S&67108863,R=S/67108864|0;p.words[0]=b;for(var P=1;P<_;P++){for(var q=R>>>26,ue=R&67108863,$=Math.min(P,d.length-1),oe=Math.max(0,P-m.length+1);oe<=$;oe++){var ee=P-oe|0;N=m.words[ee]|0,E=d.words[oe]|0,S=N*E+ue,q+=S/67108864|0,ue=S&67108863}p.words[P]=ue|0,R=q|0}return R!==0?p.words[P]=R|0:p.length--,p._strip()}var C=function(d,p,_){var N=d.words,E=p.words,S=_.words,b=0,R,P,q,ue=N[0]|0,$=ue&8191,oe=ue>>>13,ee=N[1]|0,H=ee&8191,K=ee>>>13,A=N[2]|0,V=A&8191,se=A>>>13,X=N[3]|0,re=X&8191,ce=X>>>13,be=N[4]|0,Ee=be&8191,Ae=be>>>13,Ve=N[5]|0,De=Ve&8191,qe=Ve>>>13,Te=N[6]|0,et=Te&8191,We=Te>>>13,Ze=N[7]|0,ot=Ze&8191,W=Ze>>>13,B=N[8]|0,U=B&8191,Q=B>>>13,le=N[9]|0,he=le&8191,ge=le>>>13,je=E[0]|0,Je=je&8191,Qe=je>>>13,bt=E[1]|0,gt=bt&8191,vt=bt>>>13,er=E[2]|0,sr=er&8191,Lt=er>>>13,jt=E[3]|0,Et=jt&8191,lt=jt>>>13,Ot=E[4]|0,te=Ot&8191,ie=Ot>>>13,Ce=E[5]|0,Ne=Ce&8191,ke=Ce>>>13,xt=E[6]|0,z=xt&8191,G=xt>>>13,Y=E[7]|0,M=Y&8191,Z=Y>>>13,de=E[8]|0,me=de&8191,we=de>>>13,Me=E[9]|0,Ke=Me&8191,$e=Me>>>13;_.negative=d.negative^p.negative,_.length=19,R=Math.imul($,Je),P=Math.imul($,Qe),P=P+Math.imul(oe,Je)|0,q=Math.imul(oe,Qe);var Dt=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,R=Math.imul(H,Je),P=Math.imul(H,Qe),P=P+Math.imul(K,Je)|0,q=Math.imul(K,Qe),R=R+Math.imul($,gt)|0,P=P+Math.imul($,vt)|0,P=P+Math.imul(oe,gt)|0,q=q+Math.imul(oe,vt)|0;var Xe=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,R=Math.imul(V,Je),P=Math.imul(V,Qe),P=P+Math.imul(se,Je)|0,q=Math.imul(se,Qe),R=R+Math.imul(H,gt)|0,P=P+Math.imul(H,vt)|0,P=P+Math.imul(K,gt)|0,q=q+Math.imul(K,vt)|0,R=R+Math.imul($,sr)|0,P=P+Math.imul($,Lt)|0,P=P+Math.imul(oe,sr)|0,q=q+Math.imul(oe,Lt)|0;var Ct=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,R=Math.imul(re,Je),P=Math.imul(re,Qe),P=P+Math.imul(ce,Je)|0,q=Math.imul(ce,Qe),R=R+Math.imul(V,gt)|0,P=P+Math.imul(V,vt)|0,P=P+Math.imul(se,gt)|0,q=q+Math.imul(se,vt)|0,R=R+Math.imul(H,sr)|0,P=P+Math.imul(H,Lt)|0,P=P+Math.imul(K,sr)|0,q=q+Math.imul(K,Lt)|0,R=R+Math.imul($,Et)|0,P=P+Math.imul($,lt)|0,P=P+Math.imul(oe,Et)|0,q=q+Math.imul(oe,lt)|0;var Pt=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,R=Math.imul(Ee,Je),P=Math.imul(Ee,Qe),P=P+Math.imul(Ae,Je)|0,q=Math.imul(Ae,Qe),R=R+Math.imul(re,gt)|0,P=P+Math.imul(re,vt)|0,P=P+Math.imul(ce,gt)|0,q=q+Math.imul(ce,vt)|0,R=R+Math.imul(V,sr)|0,P=P+Math.imul(V,Lt)|0,P=P+Math.imul(se,sr)|0,q=q+Math.imul(se,Lt)|0,R=R+Math.imul(H,Et)|0,P=P+Math.imul(H,lt)|0,P=P+Math.imul(K,Et)|0,q=q+Math.imul(K,lt)|0,R=R+Math.imul($,te)|0,P=P+Math.imul($,ie)|0,P=P+Math.imul(oe,te)|0,q=q+Math.imul(oe,ie)|0;var At=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(At>>>26)|0,At&=67108863,R=Math.imul(De,Je),P=Math.imul(De,Qe),P=P+Math.imul(qe,Je)|0,q=Math.imul(qe,Qe),R=R+Math.imul(Ee,gt)|0,P=P+Math.imul(Ee,vt)|0,P=P+Math.imul(Ae,gt)|0,q=q+Math.imul(Ae,vt)|0,R=R+Math.imul(re,sr)|0,P=P+Math.imul(re,Lt)|0,P=P+Math.imul(ce,sr)|0,q=q+Math.imul(ce,Lt)|0,R=R+Math.imul(V,Et)|0,P=P+Math.imul(V,lt)|0,P=P+Math.imul(se,Et)|0,q=q+Math.imul(se,lt)|0,R=R+Math.imul(H,te)|0,P=P+Math.imul(H,ie)|0,P=P+Math.imul(K,te)|0,q=q+Math.imul(K,ie)|0,R=R+Math.imul($,Ne)|0,P=P+Math.imul($,ke)|0,P=P+Math.imul(oe,Ne)|0,q=q+Math.imul(oe,ke)|0;var zt=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(zt>>>26)|0,zt&=67108863,R=Math.imul(et,Je),P=Math.imul(et,Qe),P=P+Math.imul(We,Je)|0,q=Math.imul(We,Qe),R=R+Math.imul(De,gt)|0,P=P+Math.imul(De,vt)|0,P=P+Math.imul(qe,gt)|0,q=q+Math.imul(qe,vt)|0,R=R+Math.imul(Ee,sr)|0,P=P+Math.imul(Ee,Lt)|0,P=P+Math.imul(Ae,sr)|0,q=q+Math.imul(Ae,Lt)|0,R=R+Math.imul(re,Et)|0,P=P+Math.imul(re,lt)|0,P=P+Math.imul(ce,Et)|0,q=q+Math.imul(ce,lt)|0,R=R+Math.imul(V,te)|0,P=P+Math.imul(V,ie)|0,P=P+Math.imul(se,te)|0,q=q+Math.imul(se,ie)|0,R=R+Math.imul(H,Ne)|0,P=P+Math.imul(H,ke)|0,P=P+Math.imul(K,Ne)|0,q=q+Math.imul(K,ke)|0,R=R+Math.imul($,z)|0,P=P+Math.imul($,G)|0,P=P+Math.imul(oe,z)|0,q=q+Math.imul(oe,G)|0;var Bt=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,R=Math.imul(ot,Je),P=Math.imul(ot,Qe),P=P+Math.imul(W,Je)|0,q=Math.imul(W,Qe),R=R+Math.imul(et,gt)|0,P=P+Math.imul(et,vt)|0,P=P+Math.imul(We,gt)|0,q=q+Math.imul(We,vt)|0,R=R+Math.imul(De,sr)|0,P=P+Math.imul(De,Lt)|0,P=P+Math.imul(qe,sr)|0,q=q+Math.imul(qe,Lt)|0,R=R+Math.imul(Ee,Et)|0,P=P+Math.imul(Ee,lt)|0,P=P+Math.imul(Ae,Et)|0,q=q+Math.imul(Ae,lt)|0,R=R+Math.imul(re,te)|0,P=P+Math.imul(re,ie)|0,P=P+Math.imul(ce,te)|0,q=q+Math.imul(ce,ie)|0,R=R+Math.imul(V,Ne)|0,P=P+Math.imul(V,ke)|0,P=P+Math.imul(se,Ne)|0,q=q+Math.imul(se,ke)|0,R=R+Math.imul(H,z)|0,P=P+Math.imul(H,G)|0,P=P+Math.imul(K,z)|0,q=q+Math.imul(K,G)|0,R=R+Math.imul($,M)|0,P=P+Math.imul($,Z)|0,P=P+Math.imul(oe,M)|0,q=q+Math.imul(oe,Z)|0;var Ut=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,R=Math.imul(U,Je),P=Math.imul(U,Qe),P=P+Math.imul(Q,Je)|0,q=Math.imul(Q,Qe),R=R+Math.imul(ot,gt)|0,P=P+Math.imul(ot,vt)|0,P=P+Math.imul(W,gt)|0,q=q+Math.imul(W,vt)|0,R=R+Math.imul(et,sr)|0,P=P+Math.imul(et,Lt)|0,P=P+Math.imul(We,sr)|0,q=q+Math.imul(We,Lt)|0,R=R+Math.imul(De,Et)|0,P=P+Math.imul(De,lt)|0,P=P+Math.imul(qe,Et)|0,q=q+Math.imul(qe,lt)|0,R=R+Math.imul(Ee,te)|0,P=P+Math.imul(Ee,ie)|0,P=P+Math.imul(Ae,te)|0,q=q+Math.imul(Ae,ie)|0,R=R+Math.imul(re,Ne)|0,P=P+Math.imul(re,ke)|0,P=P+Math.imul(ce,Ne)|0,q=q+Math.imul(ce,ke)|0,R=R+Math.imul(V,z)|0,P=P+Math.imul(V,G)|0,P=P+Math.imul(se,z)|0,q=q+Math.imul(se,G)|0,R=R+Math.imul(H,M)|0,P=P+Math.imul(H,Z)|0,P=P+Math.imul(K,M)|0,q=q+Math.imul(K,Z)|0,R=R+Math.imul($,me)|0,P=P+Math.imul($,we)|0,P=P+Math.imul(oe,me)|0,q=q+Math.imul(oe,we)|0;var $t=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+($t>>>26)|0,$t&=67108863,R=Math.imul(he,Je),P=Math.imul(he,Qe),P=P+Math.imul(ge,Je)|0,q=Math.imul(ge,Qe),R=R+Math.imul(U,gt)|0,P=P+Math.imul(U,vt)|0,P=P+Math.imul(Q,gt)|0,q=q+Math.imul(Q,vt)|0,R=R+Math.imul(ot,sr)|0,P=P+Math.imul(ot,Lt)|0,P=P+Math.imul(W,sr)|0,q=q+Math.imul(W,Lt)|0,R=R+Math.imul(et,Et)|0,P=P+Math.imul(et,lt)|0,P=P+Math.imul(We,Et)|0,q=q+Math.imul(We,lt)|0,R=R+Math.imul(De,te)|0,P=P+Math.imul(De,ie)|0,P=P+Math.imul(qe,te)|0,q=q+Math.imul(qe,ie)|0,R=R+Math.imul(Ee,Ne)|0,P=P+Math.imul(Ee,ke)|0,P=P+Math.imul(Ae,Ne)|0,q=q+Math.imul(Ae,ke)|0,R=R+Math.imul(re,z)|0,P=P+Math.imul(re,G)|0,P=P+Math.imul(ce,z)|0,q=q+Math.imul(ce,G)|0,R=R+Math.imul(V,M)|0,P=P+Math.imul(V,Z)|0,P=P+Math.imul(se,M)|0,q=q+Math.imul(se,Z)|0,R=R+Math.imul(H,me)|0,P=P+Math.imul(H,we)|0,P=P+Math.imul(K,me)|0,q=q+Math.imul(K,we)|0,R=R+Math.imul($,Ke)|0,P=P+Math.imul($,$e)|0,P=P+Math.imul(oe,Ke)|0,q=q+Math.imul(oe,$e)|0;var ht=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(ht>>>26)|0,ht&=67108863,R=Math.imul(he,gt),P=Math.imul(he,vt),P=P+Math.imul(ge,gt)|0,q=Math.imul(ge,vt),R=R+Math.imul(U,sr)|0,P=P+Math.imul(U,Lt)|0,P=P+Math.imul(Q,sr)|0,q=q+Math.imul(Q,Lt)|0,R=R+Math.imul(ot,Et)|0,P=P+Math.imul(ot,lt)|0,P=P+Math.imul(W,Et)|0,q=q+Math.imul(W,lt)|0,R=R+Math.imul(et,te)|0,P=P+Math.imul(et,ie)|0,P=P+Math.imul(We,te)|0,q=q+Math.imul(We,ie)|0,R=R+Math.imul(De,Ne)|0,P=P+Math.imul(De,ke)|0,P=P+Math.imul(qe,Ne)|0,q=q+Math.imul(qe,ke)|0,R=R+Math.imul(Ee,z)|0,P=P+Math.imul(Ee,G)|0,P=P+Math.imul(Ae,z)|0,q=q+Math.imul(Ae,G)|0,R=R+Math.imul(re,M)|0,P=P+Math.imul(re,Z)|0,P=P+Math.imul(ce,M)|0,q=q+Math.imul(ce,Z)|0,R=R+Math.imul(V,me)|0,P=P+Math.imul(V,we)|0,P=P+Math.imul(se,me)|0,q=q+Math.imul(se,we)|0,R=R+Math.imul(H,Ke)|0,P=P+Math.imul(H,$e)|0,P=P+Math.imul(K,Ke)|0,q=q+Math.imul(K,$e)|0;var wt=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(wt>>>26)|0,wt&=67108863,R=Math.imul(he,sr),P=Math.imul(he,Lt),P=P+Math.imul(ge,sr)|0,q=Math.imul(ge,Lt),R=R+Math.imul(U,Et)|0,P=P+Math.imul(U,lt)|0,P=P+Math.imul(Q,Et)|0,q=q+Math.imul(Q,lt)|0,R=R+Math.imul(ot,te)|0,P=P+Math.imul(ot,ie)|0,P=P+Math.imul(W,te)|0,q=q+Math.imul(W,ie)|0,R=R+Math.imul(et,Ne)|0,P=P+Math.imul(et,ke)|0,P=P+Math.imul(We,Ne)|0,q=q+Math.imul(We,ke)|0,R=R+Math.imul(De,z)|0,P=P+Math.imul(De,G)|0,P=P+Math.imul(qe,z)|0,q=q+Math.imul(qe,G)|0,R=R+Math.imul(Ee,M)|0,P=P+Math.imul(Ee,Z)|0,P=P+Math.imul(Ae,M)|0,q=q+Math.imul(Ae,Z)|0,R=R+Math.imul(re,me)|0,P=P+Math.imul(re,we)|0,P=P+Math.imul(ce,me)|0,q=q+Math.imul(ce,we)|0,R=R+Math.imul(V,Ke)|0,P=P+Math.imul(V,$e)|0,P=P+Math.imul(se,Ke)|0,q=q+Math.imul(se,$e)|0;var at=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(at>>>26)|0,at&=67108863,R=Math.imul(he,Et),P=Math.imul(he,lt),P=P+Math.imul(ge,Et)|0,q=Math.imul(ge,lt),R=R+Math.imul(U,te)|0,P=P+Math.imul(U,ie)|0,P=P+Math.imul(Q,te)|0,q=q+Math.imul(Q,ie)|0,R=R+Math.imul(ot,Ne)|0,P=P+Math.imul(ot,ke)|0,P=P+Math.imul(W,Ne)|0,q=q+Math.imul(W,ke)|0,R=R+Math.imul(et,z)|0,P=P+Math.imul(et,G)|0,P=P+Math.imul(We,z)|0,q=q+Math.imul(We,G)|0,R=R+Math.imul(De,M)|0,P=P+Math.imul(De,Z)|0,P=P+Math.imul(qe,M)|0,q=q+Math.imul(qe,Z)|0,R=R+Math.imul(Ee,me)|0,P=P+Math.imul(Ee,we)|0,P=P+Math.imul(Ae,me)|0,q=q+Math.imul(Ae,we)|0,R=R+Math.imul(re,Ke)|0,P=P+Math.imul(re,$e)|0,P=P+Math.imul(ce,Ke)|0,q=q+Math.imul(ce,$e)|0;var mt=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(mt>>>26)|0,mt&=67108863,R=Math.imul(he,te),P=Math.imul(he,ie),P=P+Math.imul(ge,te)|0,q=Math.imul(ge,ie),R=R+Math.imul(U,Ne)|0,P=P+Math.imul(U,ke)|0,P=P+Math.imul(Q,Ne)|0,q=q+Math.imul(Q,ke)|0,R=R+Math.imul(ot,z)|0,P=P+Math.imul(ot,G)|0,P=P+Math.imul(W,z)|0,q=q+Math.imul(W,G)|0,R=R+Math.imul(et,M)|0,P=P+Math.imul(et,Z)|0,P=P+Math.imul(We,M)|0,q=q+Math.imul(We,Z)|0,R=R+Math.imul(De,me)|0,P=P+Math.imul(De,we)|0,P=P+Math.imul(qe,me)|0,q=q+Math.imul(qe,we)|0,R=R+Math.imul(Ee,Ke)|0,P=P+Math.imul(Ee,$e)|0,P=P+Math.imul(Ae,Ke)|0,q=q+Math.imul(Ae,$e)|0;var ut=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(ut>>>26)|0,ut&=67108863,R=Math.imul(he,Ne),P=Math.imul(he,ke),P=P+Math.imul(ge,Ne)|0,q=Math.imul(ge,ke),R=R+Math.imul(U,z)|0,P=P+Math.imul(U,G)|0,P=P+Math.imul(Q,z)|0,q=q+Math.imul(Q,G)|0,R=R+Math.imul(ot,M)|0,P=P+Math.imul(ot,Z)|0,P=P+Math.imul(W,M)|0,q=q+Math.imul(W,Z)|0,R=R+Math.imul(et,me)|0,P=P+Math.imul(et,we)|0,P=P+Math.imul(We,me)|0,q=q+Math.imul(We,we)|0,R=R+Math.imul(De,Ke)|0,P=P+Math.imul(De,$e)|0,P=P+Math.imul(qe,Ke)|0,q=q+Math.imul(qe,$e)|0;var nt=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(nt>>>26)|0,nt&=67108863,R=Math.imul(he,z),P=Math.imul(he,G),P=P+Math.imul(ge,z)|0,q=Math.imul(ge,G),R=R+Math.imul(U,M)|0,P=P+Math.imul(U,Z)|0,P=P+Math.imul(Q,M)|0,q=q+Math.imul(Q,Z)|0,R=R+Math.imul(ot,me)|0,P=P+Math.imul(ot,we)|0,P=P+Math.imul(W,me)|0,q=q+Math.imul(W,we)|0,R=R+Math.imul(et,Ke)|0,P=P+Math.imul(et,$e)|0,P=P+Math.imul(We,Ke)|0,q=q+Math.imul(We,$e)|0;var xe=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(xe>>>26)|0,xe&=67108863,R=Math.imul(he,M),P=Math.imul(he,Z),P=P+Math.imul(ge,M)|0,q=Math.imul(ge,Z),R=R+Math.imul(U,me)|0,P=P+Math.imul(U,we)|0,P=P+Math.imul(Q,me)|0,q=q+Math.imul(Q,we)|0,R=R+Math.imul(ot,Ke)|0,P=P+Math.imul(ot,$e)|0,P=P+Math.imul(W,Ke)|0,q=q+Math.imul(W,$e)|0;var _e=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(_e>>>26)|0,_e&=67108863,R=Math.imul(he,me),P=Math.imul(he,we),P=P+Math.imul(ge,me)|0,q=Math.imul(ge,we),R=R+Math.imul(U,Ke)|0,P=P+Math.imul(U,$e)|0,P=P+Math.imul(Q,Ke)|0,q=q+Math.imul(Q,$e)|0;var Ue=(b+R|0)+((P&8191)<<13)|0;b=(q+(P>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,R=Math.imul(he,Ke),P=Math.imul(he,$e),P=P+Math.imul(ge,Ke)|0,q=Math.imul(ge,$e);var Oe=(b+R|0)+((P&8191)<<13)|0;return b=(q+(P>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,S[0]=Dt,S[1]=Xe,S[2]=Ct,S[3]=Pt,S[4]=At,S[5]=zt,S[6]=Bt,S[7]=Ut,S[8]=$t,S[9]=ht,S[10]=wt,S[11]=at,S[12]=mt,S[13]=ut,S[14]=nt,S[15]=xe,S[16]=_e,S[17]=Ue,S[18]=Oe,b!==0&&(S[19]=b,_.length++),_};Math.imul||(C=k);function I(m,d,p){p.negative=d.negative^m.negative,p.length=m.length+d.length;for(var _=0,N=0,E=0;E<p.length-1;E++){var S=N;N=0;for(var b=_&67108863,R=Math.min(E,d.length-1),P=Math.max(0,E-m.length+1);P<=R;P++){var q=E-P,ue=m.words[q]|0,$=d.words[P]|0,oe=ue*$,ee=oe&67108863;S=S+(oe/67108864|0)|0,ee=ee+b|0,b=ee&67108863,S=S+(ee>>>26)|0,N+=S>>>26,S&=67108863}p.words[E]=b,_=S,S=N}return _!==0?p.words[E]=_:p.length--,p._strip()}function D(m,d,p){return I(m,d,p)}s.prototype.mulTo=function(d,p){var _,N=this.length+d.length;return this.length===10&&d.length===10?_=C(this,d,p):N<63?_=k(this,d,p):N<1024?_=I(this,d,p):_=D(this,d,p),_},s.prototype.mul=function(d){var p=new s(null);return p.words=new Array(this.length+d.length),this.mulTo(d,p)},s.prototype.mulf=function(d){var p=new s(null);return p.words=new Array(this.length+d.length),D(this,d,p)},s.prototype.imul=function(d){return this.clone().mulTo(d,this)},s.prototype.imuln=function(d){var p=d<0;p&&(d=-d),n(typeof d=="number"),n(d<67108864);for(var _=0,N=0;N<this.length;N++){var E=(this.words[N]|0)*d,S=(E&67108863)+(_&67108863);_>>=26,_+=E/67108864|0,_+=S>>>26,this.words[N]=S&67108863}return _!==0&&(this.words[N]=_,this.length++),p?this.ineg():this},s.prototype.muln=function(d){return this.clone().imuln(d)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(d){var p=T(d);if(p.length===0)return new s(1);for(var _=this,N=0;N<p.length&&p[N]===0;N++,_=_.sqr());if(++N<p.length)for(var E=_.sqr();N<p.length;N++,E=E.sqr())p[N]!==0&&(_=_.mul(E));return _},s.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var p=d%26,_=(d-p)/26,N=67108863>>>26-p<<26-p,E;if(p!==0){var S=0;for(E=0;E<this.length;E++){var b=this.words[E]&N,R=(this.words[E]|0)-b<<p;this.words[E]=R|S,S=b>>>26-p}S&&(this.words[E]=S,this.length++)}if(_!==0){for(E=this.length-1;E>=0;E--)this.words[E+_]=this.words[E];for(E=0;E<_;E++)this.words[E]=0;this.length+=_}return this._strip()},s.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},s.prototype.iushrn=function(d,p,_){n(typeof d=="number"&&d>=0);var N;p?N=(p-p%26)/26:N=0;var E=d%26,S=Math.min((d-E)/26,this.length),b=67108863^67108863>>>E<<E,R=_;if(N-=S,N=Math.max(0,N),R){for(var P=0;P<S;P++)R.words[P]=this.words[P];R.length=S}if(S!==0)if(this.length>S)for(this.length-=S,P=0;P<this.length;P++)this.words[P]=this.words[P+S];else this.words[0]=0,this.length=1;var q=0;for(P=this.length-1;P>=0&&(q!==0||P>=N);P--){var ue=this.words[P]|0;this.words[P]=q<<26-E|ue>>>E,q=ue&b}return R&&q!==0&&(R.words[R.length++]=q),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(d,p,_){return n(this.negative===0),this.iushrn(d,p,_)},s.prototype.shln=function(d){return this.clone().ishln(d)},s.prototype.ushln=function(d){return this.clone().iushln(d)},s.prototype.shrn=function(d){return this.clone().ishrn(d)},s.prototype.ushrn=function(d){return this.clone().iushrn(d)},s.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var p=d%26,_=(d-p)/26,N=1<<p;if(this.length<=_)return!1;var E=this.words[_];return!!(E&N)},s.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var p=d%26,_=(d-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(p!==0&&_++,this.length=Math.min(_,this.length),p!==0){var N=67108863^67108863>>>p<<p;this.words[this.length-1]&=N}return this._strip()},s.prototype.maskn=function(d){return this.clone().imaskn(d)},s.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},s.prototype._iaddn=function(d){this.words[0]+=d;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},s.prototype.addn=function(d){return this.clone().iaddn(d)},s.prototype.subn=function(d){return this.clone().isubn(d)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(d,p,_){var N=d.length+_,E;this._expand(N);var S,b=0;for(E=0;E<d.length;E++){S=(this.words[E+_]|0)+b;var R=(d.words[E]|0)*p;S-=R&67108863,b=(S>>26)-(R/67108864|0),this.words[E+_]=S&67108863}for(;E<this.length-_;E++)S=(this.words[E+_]|0)+b,b=S>>26,this.words[E+_]=S&67108863;if(b===0)return this._strip();for(n(b===-1),b=0,E=0;E<this.length;E++)S=-(this.words[E]|0)+b,b=S>>26,this.words[E]=S&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(d,p){var _=this.length-d.length,N=this.clone(),E=d,S=E.words[E.length-1]|0,b=this._countBits(S);_=26-b,_!==0&&(E=E.ushln(_),N.iushln(_),S=E.words[E.length-1]|0);var R=N.length-E.length,P;if(p!=="mod"){P=new s(null),P.length=R+1,P.words=new Array(P.length);for(var q=0;q<P.length;q++)P.words[q]=0}var ue=N.clone()._ishlnsubmul(E,1,R);ue.negative===0&&(N=ue,P&&(P.words[R]=1));for(var $=R-1;$>=0;$--){var oe=(N.words[E.length+$]|0)*67108864+(N.words[E.length+$-1]|0);for(oe=Math.min(oe/S|0,67108863),N._ishlnsubmul(E,oe,$);N.negative!==0;)oe--,N.negative=0,N._ishlnsubmul(E,1,$),N.isZero()||(N.negative^=1);P&&(P.words[$]=oe)}return P&&P._strip(),N._strip(),p!=="div"&&_!==0&&N.iushrn(_),{div:P||null,mod:N}},s.prototype.divmod=function(d,p,_){if(n(!d.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var N,E,S;return this.negative!==0&&d.negative===0?(S=this.neg().divmod(d,p),p!=="mod"&&(N=S.div.neg()),p!=="div"&&(E=S.mod.neg(),_&&E.negative!==0&&E.iadd(d)),{div:N,mod:E}):this.negative===0&&d.negative!==0?(S=this.divmod(d.neg(),p),p!=="mod"&&(N=S.div.neg()),{div:N,mod:S.mod}):this.negative&d.negative?(S=this.neg().divmod(d.neg(),p),p!=="div"&&(E=S.mod.neg(),_&&E.negative!==0&&E.isub(d)),{div:S.div,mod:E}):d.length>this.length||this.cmp(d)<0?{div:new s(0),mod:this}:d.length===1?p==="div"?{div:this.divn(d.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new s(this.modrn(d.words[0]))}:this._wordDiv(d,p)},s.prototype.div=function(d){return this.divmod(d,"div",!1).div},s.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},s.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},s.prototype.divRound=function(d){var p=this.divmod(d);if(p.mod.isZero())return p.div;var _=p.div.negative!==0?p.mod.isub(d):p.mod,N=d.ushrn(1),E=d.andln(1),S=_.cmp(N);return S<0||E===1&&S===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modrn=function(d){var p=d<0;p&&(d=-d),n(d<=67108863);for(var _=(1<<26)%d,N=0,E=this.length-1;E>=0;E--)N=(_*N+(this.words[E]|0))%d;return p?-N:N},s.prototype.modn=function(d){return this.modrn(d)},s.prototype.idivn=function(d){var p=d<0;p&&(d=-d),n(d<=67108863);for(var _=0,N=this.length-1;N>=0;N--){var E=(this.words[N]|0)+_*67108864;this.words[N]=E/d|0,_=E%d}return this._strip(),p?this.ineg():this},s.prototype.divn=function(d){return this.clone().idivn(d)},s.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var p=this,_=d.clone();p.negative!==0?p=p.umod(d):p=p.clone();for(var N=new s(1),E=new s(0),S=new s(0),b=new s(1),R=0;p.isEven()&&_.isEven();)p.iushrn(1),_.iushrn(1),++R;for(var P=_.clone(),q=p.clone();!p.isZero();){for(var ue=0,$=1;!(p.words[0]&$)&&ue<26;++ue,$<<=1);if(ue>0)for(p.iushrn(ue);ue-- >0;)(N.isOdd()||E.isOdd())&&(N.iadd(P),E.isub(q)),N.iushrn(1),E.iushrn(1);for(var oe=0,ee=1;!(_.words[0]&ee)&&oe<26;++oe,ee<<=1);if(oe>0)for(_.iushrn(oe);oe-- >0;)(S.isOdd()||b.isOdd())&&(S.iadd(P),b.isub(q)),S.iushrn(1),b.iushrn(1);p.cmp(_)>=0?(p.isub(_),N.isub(S),E.isub(b)):(_.isub(p),S.isub(N),b.isub(E))}return{a:S,b,gcd:_.iushln(R)}},s.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var p=this,_=d.clone();p.negative!==0?p=p.umod(d):p=p.clone();for(var N=new s(1),E=new s(0),S=_.clone();p.cmpn(1)>0&&_.cmpn(1)>0;){for(var b=0,R=1;!(p.words[0]&R)&&b<26;++b,R<<=1);if(b>0)for(p.iushrn(b);b-- >0;)N.isOdd()&&N.iadd(S),N.iushrn(1);for(var P=0,q=1;!(_.words[0]&q)&&P<26;++P,q<<=1);if(P>0)for(_.iushrn(P);P-- >0;)E.isOdd()&&E.iadd(S),E.iushrn(1);p.cmp(_)>=0?(p.isub(_),N.isub(E)):(_.isub(p),E.isub(N))}var ue;return p.cmpn(1)===0?ue=N:ue=E,ue.cmpn(0)<0&&ue.iadd(d),ue},s.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var p=this.clone(),_=d.clone();p.negative=0,_.negative=0;for(var N=0;p.isEven()&&_.isEven();N++)p.iushrn(1),_.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;_.isEven();)_.iushrn(1);var E=p.cmp(_);if(E<0){var S=p;p=_,_=S}else if(E===0||_.cmpn(1)===0)break;p.isub(_)}while(!0);return _.iushln(N)},s.prototype.invm=function(d){return this.egcd(d).a.umod(d)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(d){return this.words[0]&d},s.prototype.bincn=function(d){n(typeof d=="number");var p=d%26,_=(d-p)/26,N=1<<p;if(this.length<=_)return this._expand(_+1),this.words[_]|=N,this;for(var E=N,S=_;E!==0&&S<this.length;S++){var b=this.words[S]|0;b+=E,E=b>>>26,b&=67108863,this.words[S]=b}return E!==0&&(this.words[S]=E,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(d){var p=d<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var _;if(this.length>1)_=1;else{p&&(d=-d),n(d<=67108863,"Number is too big");var N=this.words[0]|0;_=N===d?0:N<d?-1:1}return this.negative!==0?-_|0:_},s.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var p=this.ucmp(d);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var p=0,_=this.length-1;_>=0;_--){var N=this.words[_]|0,E=d.words[_]|0;if(N!==E){N<E?p=-1:N>E&&(p=1);break}}return p},s.prototype.gtn=function(d){return this.cmpn(d)===1},s.prototype.gt=function(d){return this.cmp(d)===1},s.prototype.gten=function(d){return this.cmpn(d)>=0},s.prototype.gte=function(d){return this.cmp(d)>=0},s.prototype.ltn=function(d){return this.cmpn(d)===-1},s.prototype.lt=function(d){return this.cmp(d)===-1},s.prototype.lten=function(d){return this.cmpn(d)<=0},s.prototype.lte=function(d){return this.cmp(d)<=0},s.prototype.eqn=function(d){return this.cmpn(d)===0},s.prototype.eq=function(d){return this.cmp(d)===0},s.red=function(d){return new j(d)},s.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(d){return this.red=d,this},s.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},s.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},s.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},s.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},s.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},s.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},s.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},s.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var O={k256:null,p224:null,p192:null,p25519:null};function F(m,d){this.name=m,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}F.prototype._tmp=function(){var d=new s(null);return d.words=new Array(Math.ceil(this.n/13)),d},F.prototype.ireduce=function(d){var p=d,_;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),_=p.bitLength();while(_>this.n);var N=_<this.n?-1:p.ucmp(this.p);return N===0?(p.words[0]=0,p.length=1):N>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},F.prototype.split=function(d,p){d.iushrn(this.n,0,p)},F.prototype.imulK=function(d){return d.imul(this.k)};function x(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(x,F),x.prototype.split=function(d,p){for(var _=4194303,N=Math.min(d.length,9),E=0;E<N;E++)p.words[E]=d.words[E];if(p.length=N,d.length<=9){d.words[0]=0,d.length=1;return}var S=d.words[9];for(p.words[p.length++]=S&_,E=10;E<d.length;E++){var b=d.words[E]|0;d.words[E-10]=(b&_)<<4|S>>>22,S=b}S>>>=22,d.words[E-10]=S,S===0&&d.length>10?d.length-=10:d.length-=9},x.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var p=0,_=0;_<d.length;_++){var N=d.words[_]|0;p+=N*977,d.words[_]=p&67108863,p=N*64+(p/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function L(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(L,F);function J(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(J,F);function ne(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ne,F),ne.prototype.imulK=function(d){for(var p=0,_=0;_<d.length;_++){var N=(d.words[_]|0)*19+p,E=N&67108863;N>>>=26,d.words[_]=E,p=N}return p!==0&&(d.words[d.length++]=p),d},s._prime=function(d){if(O[d])return O[d];var p;if(d==="k256")p=new x;else if(d==="p224")p=new L;else if(d==="p192")p=new J;else if(d==="p25519")p=new ne;else throw new Error("Unknown prime "+d);return O[d]=p,p};function j(m){if(typeof m=="string"){var d=s._prime(m);this.m=d.p,this.prime=d}else n(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}j.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},j.prototype._verify2=function(d,p){n((d.negative|p.negative)===0,"red works only with positives"),n(d.red&&d.red===p.red,"red works only with red numbers")},j.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(u(d,d.umod(this.m)._forceRed(this)),d)},j.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},j.prototype.add=function(d,p){this._verify2(d,p);var _=d.add(p);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},j.prototype.iadd=function(d,p){this._verify2(d,p);var _=d.iadd(p);return _.cmp(this.m)>=0&&_.isub(this.m),_},j.prototype.sub=function(d,p){this._verify2(d,p);var _=d.sub(p);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},j.prototype.isub=function(d,p){this._verify2(d,p);var _=d.isub(p);return _.cmpn(0)<0&&_.iadd(this.m),_},j.prototype.shl=function(d,p){return this._verify1(d),this.imod(d.ushln(p))},j.prototype.imul=function(d,p){return this._verify2(d,p),this.imod(d.imul(p))},j.prototype.mul=function(d,p){return this._verify2(d,p),this.imod(d.mul(p))},j.prototype.isqr=function(d){return this.imul(d,d.clone())},j.prototype.sqr=function(d){return this.mul(d,d)},j.prototype.sqrt=function(d){if(d.isZero())return d.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var _=this.m.add(new s(1)).iushrn(2);return this.pow(d,_)}for(var N=this.m.subn(1),E=0;!N.isZero()&&N.andln(1)===0;)E++,N.iushrn(1);n(!N.isZero());var S=new s(1).toRed(this),b=S.redNeg(),R=this.m.subn(1).iushrn(1),P=this.m.bitLength();for(P=new s(2*P*P).toRed(this);this.pow(P,R).cmp(b)!==0;)P.redIAdd(b);for(var q=this.pow(P,N),ue=this.pow(d,N.addn(1).iushrn(1)),$=this.pow(d,N),oe=E;$.cmp(S)!==0;){for(var ee=$,H=0;ee.cmp(S)!==0;H++)ee=ee.redSqr();n(H<oe);var K=this.pow(q,new s(1).iushln(oe-H-1));ue=ue.redMul(K),q=K.redSqr(),$=$.redMul(q),oe=H}return ue},j.prototype.invm=function(d){var p=d._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},j.prototype.pow=function(d,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return d.clone();var _=4,N=new Array(1<<_);N[0]=new s(1).toRed(this),N[1]=d;for(var E=2;E<N.length;E++)N[E]=this.mul(N[E-1],d);var S=N[0],b=0,R=0,P=p.bitLength()%26;for(P===0&&(P=26),E=p.length-1;E>=0;E--){for(var q=p.words[E],ue=P-1;ue>=0;ue--){var $=q>>ue&1;if(S!==N[0]&&(S=this.sqr(S)),$===0&&b===0){R=0;continue}b<<=1,b|=$,R++,!(R!==_&&(E!==0||ue!==0))&&(S=this.mul(S,N[b]),R=0,b=0)}P=26}return S},j.prototype.convertTo=function(d){var p=d.umod(this.m);return p===d?p.clone():p},j.prototype.convertFrom=function(d){var p=d.clone();return p.red=null,p},s.mont=function(d){return new w(d)};function w(m){j.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(w,j),w.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},w.prototype.convertFrom=function(d){var p=this.imod(d.mul(this.rinv));return p.red=null,p},w.prototype.imul=function(d,p){if(d.isZero()||p.isZero())return d.words[0]=0,d.length=1,d;var _=d.imul(p),N=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=_.isub(N).iushrn(this.shift),S=E;return E.cmp(this.m)>=0?S=E.isub(this.m):E.cmpn(0)<0&&(S=E.iadd(this.m)),S._forceRed(this)},w.prototype.mul=function(d,p){if(d.isZero()||p.isZero())return new s(0)._forceRed(this);var _=d.mul(p),N=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=_.isub(N).iushrn(this.shift),S=E;return E.cmp(this.m)>=0?S=E.isub(this.m):E.cmpn(0)<0&&(S=E.iadd(this.m)),S._forceRed(this)},w.prototype.invm=function(d){var p=this.imod(d._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(t,ui)})(J3);var Bk=J3.exports;const Gt=An(Bk);function d5(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function FL(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function cm(t,...e){if(!FL(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function jL(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");d5(t.outputLen),d5(t.blockLen)}function n1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function zL(t,e){cm(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Qy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ew=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Mo=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function qL(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function X3(t){return typeof t=="string"&&(t=qL(t)),cm(t),t}function KL(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];cm(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let $k=class{clone(){return this._cloneInto()}};function Uk(t){const e=n=>t().update(X3(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Fk(t=32){if(Qy&&typeof Qy.getRandomValues=="function")return Qy.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function WL(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}const HL=(t,e,r)=>t&e^~t&r,VL=(t,e,r)=>t&e^t&r^e&r;class jk extends $k{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ew(this.buffer)}update(e){n1(this);const{view:r,buffer:n,blockLen:i}=this;e=X3(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=ew(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){n1(this),zL(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;WL(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=ew(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const GL=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),oc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ac=new Uint32Array(64);let YL=class extends jk{constructor(){super(64,32,8,!1),this.A=oc[0]|0,this.B=oc[1]|0,this.C=oc[2]|0,this.D=oc[3]|0,this.E=oc[4]|0,this.F=oc[5]|0,this.G=oc[6]|0,this.H=oc[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)ac[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const h=ac[f-15],g=ac[f-2],y=Mo(h,7)^Mo(h,18)^h>>>3,v=Mo(g,17)^Mo(g,19)^g>>>10;ac[f]=v+ac[f-7]+y+ac[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const h=Mo(a,6)^Mo(a,11)^Mo(a,25),g=u+h+HL(a,c,l)+GL[f]+ac[f]|0,v=(Mo(n,2)^Mo(n,13)^Mo(n,22))+VL(n,i,s)|0;u=l,l=c,c=a,a=o+g|0,o=s,s=i,i=n,n=g+v|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,c,l,u)}roundClean(){ac.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const JL=Uk(()=>new YL);let zk=class extends $k{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,jL(e);const n=X3(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return n1(this),this.iHash.update(e),this}digestInto(e){n1(this),cm(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const qk=(t,e,r)=>new zk(t,e).update(r).digest();qk.create=(t,e)=>new zk(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kk=BigInt(0),lm=BigInt(1),XL=BigInt(2);function iu(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Ep(t){if(!iu(t))throw new Error("Uint8Array expected")}const ZL=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function su(t){Ep(t);let e="";for(let r=0;r<t.length;r++)e+=ZL[t[r]];return e}function Wk(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Z3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const xa={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function h5(t){if(t>=xa._0&&t<=xa._9)return t-xa._0;if(t>=xa._A&&t<=xa._F)return t-(xa._A-10);if(t>=xa._a&&t<=xa._f)return t-(xa._a-10)}function Of(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=h5(t.charCodeAt(s)),a=h5(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function zl(t){return Z3(su(t))}function mf(t){return Ep(t),Z3(su(Uint8Array.from(t).reverse()))}function Lf(t,e){return Of(t.toString(16).padStart(e*2,"0"))}function Jh(t,e){return Lf(t,e).reverse()}function QL(t){return Of(Wk(t))}function Ln(t,e,r){let n;if(typeof e=="string")try{n=Of(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(iu(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function ou(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Ep(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}function eD(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function tD(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function rD(t){let e;for(e=0;t>Kk;t>>=lm,e+=1);return e}function nD(t,e){return t>>BigInt(e)&lm}function iD(t,e,r){return t|(r?lm:Kk)<<BigInt(e)}const Q3=t=>(XL<<BigInt(t-1))-lm,tw=t=>new Uint8Array(t),p5=t=>Uint8Array.from(t);function Hk(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=tw(t),i=tw(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),c=(f=tw())=>{i=a(p5([0]),f),n=a(),f.length!==0&&(i=a(p5([1]),f),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){n=a();const g=n.slice();h.push(g),f+=n.length}return ou(...h)};return(f,h)=>{o(),c(f);let g;for(;!(g=h(l()));)c();return o(),g}}const sD={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||iu(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Xf(t,e,r={}){const n=(i,s,o)=>{const a=sD[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const oD=Object.freeze(Object.defineProperty({__proto__:null,abytes:Ep,bitGet:nD,bitLen:rD,bitMask:Q3,bitSet:iD,bytesToHex:su,bytesToNumberBE:zl,bytesToNumberLE:mf,concatBytes:ou,createHmacDrbg:Hk,ensureBytes:Ln,equalBytes:eD,hexToBytes:Of,hexToNumber:Z3,isBytes:iu,numberToBytesBE:Lf,numberToBytesLE:Jh,numberToHexUnpadded:Wk,numberToVarBytesBE:QL,utf8ToBytes:tD,validateObject:Xf},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vn=BigInt(0),cn=BigInt(1),Al=BigInt(2),aD=BigInt(3),Iv=BigInt(4),g5=BigInt(5),m5=BigInt(8);BigInt(9);BigInt(16);function rn(t,e){const r=t%e;return r>=Vn?r:e+r}function cD(t,e,r){if(r<=Vn||e<Vn)throw new Error("Expected power/modulo > 0");if(r===cn)return Vn;let n=cn;for(;e>Vn;)e&cn&&(n=n*t%r),t=t*t%r,e>>=cn;return n}function gn(t,e,r){let n=t;for(;e-- >Vn;)n*=n,n%=r;return n}function kv(t,e){if(t===Vn||e<=Vn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=rn(t,e),n=e,i=Vn,s=cn;for(;r!==Vn;){const a=n/r,c=n%r,l=i-s*a;n=r,r=c,i=s,s=l}if(n!==cn)throw new Error("invert: does not exist");return rn(i,e)}function lD(t){const e=(t-cn)/Al;let r,n,i;for(r=t-cn,n=0;r%Al===Vn;r/=Al,n++);for(i=Al;i<t&&cD(i,e,t)!==t-cn;i++);if(n===1){const o=(t+cn)/Iv;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const s=(r+cn)/Al;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,u=a.pow(a.mul(a.ONE,i),r),f=a.pow(c,s),h=a.pow(c,r);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let g=1;for(let v=a.sqr(h);g<l&&!a.eql(v,a.ONE);g++)v=a.sqr(v);const y=a.pow(u,cn<<BigInt(l-g-1));u=a.sqr(y),f=a.mul(f,y),h=a.mul(h,u),l=g}return f}}function uD(t){if(t%Iv===aD){const e=(t+cn)/Iv;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%m5===g5){const e=(t-g5)/m5;return function(n,i){const s=n.mul(i,Al),o=n.pow(s,e),a=n.mul(i,o),c=n.mul(n.mul(a,Al),o),l=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return lD(t)}const fD=(t,e)=>(rn(t,e)&cn)===cn,dD=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function hD(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=dD.reduce((n,i)=>(n[i]="function",n),e);return Xf(t,r)}function pD(t,e,r){if(r<Vn)throw new Error("Expected power > 0");if(r===Vn)return t.ONE;if(r===cn)return e;let n=t.ONE,i=e;for(;r>Vn;)r&cn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=cn;return n}function gD(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function Vk(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Gk(t,e,r=!1,n={}){if(t<=Vn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=Vk(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=uD(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:Q3(i),ZERO:Vn,ONE:cn,create:c=>rn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Vn<=c&&c<t},is0:c=>c===Vn,isOdd:c=>(c&cn)===cn,neg:c=>rn(-c,t),eql:(c,l)=>c===l,sqr:c=>rn(c*c,t),add:(c,l)=>rn(c+l,t),sub:(c,l)=>rn(c-l,t),mul:(c,l)=>rn(c*l,t),pow:(c,l)=>pD(a,c,l),div:(c,l)=>rn(c*kv(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>kv(c,t),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>gD(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?Jh(c,s):Lf(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return r?mf(c):zl(c)}});return Object.freeze(a)}function Yk(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Jk(t){const e=Yk(t);return e+Math.ceil(e/2)}function mD(t,e,r=!1){const n=t.length,i=Yk(e),s=Jk(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?zl(t):mf(t),a=rn(o,e-cn)+cn;return r?Jh(a,i):Lf(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yD=BigInt(0),rw=BigInt(1);function Xk(t,e){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>yD;)s&rw&&(o=o.add(a)),a=a.double(),s>>=rw;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),c=[];let l=i,u=l;for(let f=0;f<o;f++){u=l,c.push(u);for(let h=1;h<a;h++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=n(i);let l=t.ZERO,u=t.BASE;const f=BigInt(2**i-1),h=2**i,g=BigInt(i);for(let y=0;y<a;y++){const v=y*c;let T=Number(o&f);o>>=g,T>c&&(T-=h,o+=rw);const k=v,C=v+Math.abs(T)-1,I=y%2!==0,D=T<0;T===0?u=u.add(r(I,s[k])):l=l.add(r(D,s[C]))}return{p:l,f:u}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&s.set(i,a(l))),this.wNAF(c,l,o)}}}function ex(t){return hD(t.Fp),Xf(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Vk(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function wD(t){const e=ex(t);Xf(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:bD,hexToBytes:vD}=oD,Ol={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Ol;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:bD(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Ol,r=typeof t=="string"?vD(t):t;Ep(r);let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Ol._parseInt(r.subarray(2)),{d:o,l:a}=Ol._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),c=r(o);return`30${r(o+s+4)}02${c}${i}02${a}${n}`}},Na=BigInt(0),Bs=BigInt(1);BigInt(2);const y5=BigInt(3);BigInt(4);function xD(t){const e=wD(t),{Fp:r}=e,n=e.toBytes||((y,v,T)=>{const k=v.toAffine();return ou(Uint8Array.from([4]),r.toBytes(k.x),r.toBytes(k.y))}),i=e.fromBytes||(y=>{const v=y.subarray(1),T=r.fromBytes(v.subarray(0,r.BYTES)),k=r.fromBytes(v.subarray(r.BYTES,2*r.BYTES));return{x:T,y:k}});function s(y){const{a:v,b:T}=e,k=r.sqr(y),C=r.mul(k,y);return r.add(r.add(C,r.mul(y,v)),T)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(y){return typeof y=="bigint"&&Na<y&&y<e.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(y){const{allowedPrivateKeyLengths:v,nByteLength:T,wrapPrivateKey:k,n:C}=e;if(v&&typeof y!="bigint"){if(iu(y)&&(y=su(y)),typeof y!="string"||!v.includes(y.length))throw new Error("Invalid key");y=y.padStart(T*2,"0")}let I;try{I=typeof y=="bigint"?y:zl(Ln("private key",y,T))}catch{throw new Error(`private key must be ${T} bytes, hex or bigint, not ${typeof y}`)}return k&&(I=rn(I,C)),a(I),I}const l=new Map;function u(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(v,T,k){if(this.px=v,this.py=T,this.pz=k,v==null||!r.isValid(v))throw new Error("x required");if(T==null||!r.isValid(T))throw new Error("y required");if(k==null||!r.isValid(k))throw new Error("z required")}static fromAffine(v){const{x:T,y:k}=v||{};if(!v||!r.isValid(T)||!r.isValid(k))throw new Error("invalid affine point");if(v instanceof f)throw new Error("projective point not allowed");const C=I=>r.eql(I,r.ZERO);return C(T)&&C(k)?f.ZERO:new f(T,k,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const T=r.invertBatch(v.map(k=>k.pz));return v.map((k,C)=>k.toAffine(T[C])).map(f.fromAffine)}static fromHex(v){const T=f.fromAffine(i(Ln("pointHex",v)));return T.assertValidity(),T}static fromPrivateKey(v){return f.BASE.multiply(c(v))}_setWindowSize(v){this._WINDOW_SIZE=v,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:T}=this.toAffine();if(!r.isValid(v)||!r.isValid(T))throw new Error("bad point: x or y not FE");const k=r.sqr(T),C=s(v);if(!r.eql(k,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(r.isOdd)return!r.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){u(v);const{px:T,py:k,pz:C}=this,{px:I,py:D,pz:O}=v,F=r.eql(r.mul(T,O),r.mul(I,C)),x=r.eql(r.mul(k,O),r.mul(D,C));return F&&x}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:v,b:T}=e,k=r.mul(T,y5),{px:C,py:I,pz:D}=this;let O=r.ZERO,F=r.ZERO,x=r.ZERO,L=r.mul(C,C),J=r.mul(I,I),ne=r.mul(D,D),j=r.mul(C,I);return j=r.add(j,j),x=r.mul(C,D),x=r.add(x,x),O=r.mul(v,x),F=r.mul(k,ne),F=r.add(O,F),O=r.sub(J,F),F=r.add(J,F),F=r.mul(O,F),O=r.mul(j,O),x=r.mul(k,x),ne=r.mul(v,ne),j=r.sub(L,ne),j=r.mul(v,j),j=r.add(j,x),x=r.add(L,L),L=r.add(x,L),L=r.add(L,ne),L=r.mul(L,j),F=r.add(F,L),ne=r.mul(I,D),ne=r.add(ne,ne),L=r.mul(ne,j),O=r.sub(O,L),x=r.mul(ne,J),x=r.add(x,x),x=r.add(x,x),new f(O,F,x)}add(v){u(v);const{px:T,py:k,pz:C}=this,{px:I,py:D,pz:O}=v;let F=r.ZERO,x=r.ZERO,L=r.ZERO;const J=e.a,ne=r.mul(e.b,y5);let j=r.mul(T,I),w=r.mul(k,D),m=r.mul(C,O),d=r.add(T,k),p=r.add(I,D);d=r.mul(d,p),p=r.add(j,w),d=r.sub(d,p),p=r.add(T,C);let _=r.add(I,O);return p=r.mul(p,_),_=r.add(j,m),p=r.sub(p,_),_=r.add(k,C),F=r.add(D,O),_=r.mul(_,F),F=r.add(w,m),_=r.sub(_,F),L=r.mul(J,p),F=r.mul(ne,m),L=r.add(F,L),F=r.sub(w,L),L=r.add(w,L),x=r.mul(F,L),w=r.add(j,j),w=r.add(w,j),m=r.mul(J,m),p=r.mul(ne,p),w=r.add(w,m),m=r.sub(j,m),m=r.mul(J,m),p=r.add(p,m),j=r.mul(w,p),x=r.add(x,j),j=r.mul(_,p),F=r.mul(d,F),F=r.sub(F,j),j=r.mul(d,w),L=r.mul(_,L),L=r.add(L,j),new f(F,x,L)}subtract(v){return this.add(v.negate())}is0(){return this.equals(f.ZERO)}wNAF(v){return g.wNAFCached(this,l,v,T=>{const k=r.invertBatch(T.map(C=>C.pz));return T.map((C,I)=>C.toAffine(k[I])).map(f.fromAffine)})}multiplyUnsafe(v){const T=f.ZERO;if(v===Na)return T;if(a(v),v===Bs)return this;const{endo:k}=e;if(!k)return g.unsafeLadder(this,v);let{k1neg:C,k1:I,k2neg:D,k2:O}=k.splitScalar(v),F=T,x=T,L=this;for(;I>Na||O>Na;)I&Bs&&(F=F.add(L)),O&Bs&&(x=x.add(L)),L=L.double(),I>>=Bs,O>>=Bs;return C&&(F=F.negate()),D&&(x=x.negate()),x=new f(r.mul(x.px,k.beta),x.py,x.pz),F.add(x)}multiply(v){a(v);let T=v,k,C;const{endo:I}=e;if(I){const{k1neg:D,k1:O,k2neg:F,k2:x}=I.splitScalar(T);let{p:L,f:J}=this.wNAF(O),{p:ne,f:j}=this.wNAF(x);L=g.constTimeNegate(D,L),ne=g.constTimeNegate(F,ne),ne=new f(r.mul(ne.px,I.beta),ne.py,ne.pz),k=L.add(ne),C=J.add(j)}else{const{p:D,f:O}=this.wNAF(T);k=D,C=O}return f.normalizeZ([k,C])[0]}multiplyAndAddUnsafe(v,T,k){const C=f.BASE,I=(O,F)=>F===Na||F===Bs||!O.equals(C)?O.multiplyUnsafe(F):O.multiply(F),D=I(this,T).add(I(v,k));return D.is0()?void 0:D}toAffine(v){const{px:T,py:k,pz:C}=this,I=this.is0();v==null&&(v=I?r.ONE:r.inv(C));const D=r.mul(T,v),O=r.mul(k,v),F=r.mul(C,v);if(I)return{x:r.ZERO,y:r.ZERO};if(!r.eql(F,r.ONE))throw new Error("invZ was invalid");return{x:D,y:O}}isTorsionFree(){const{h:v,isTorsionFree:T}=e;if(v===Bs)return!0;if(T)return T(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:T}=e;return v===Bs?this:T?T(f,this):this.multiplyUnsafe(e.h)}toRawBytes(v=!0){return this.assertValidity(),n(f,this,v)}toHex(v=!0){return su(this.toRawBytes(v))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const h=e.nBitLength,g=Xk(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function _D(t){const e=ex(t);return Xf(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function SD(t){const e=_D(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(p){return Na<p&&p<r.ORDER}function a(p){return rn(p,n)}function c(p){return kv(p,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:h}=xD({...e,toBytes(p,_,N){const E=_.toAffine(),S=r.toBytes(E.x),b=ou;return N?b(Uint8Array.from([_.hasEvenY()?2:3]),S):b(Uint8Array.from([4]),S,r.toBytes(E.y))},fromBytes(p){const _=p.length,N=p[0],E=p.subarray(1);if(_===i&&(N===2||N===3)){const S=zl(E);if(!o(S))throw new Error("Point is not on curve");const b=f(S);let R;try{R=r.sqrt(b)}catch(ue){const $=ue instanceof Error?": "+ue.message:"";throw new Error("Point is not on curve"+$)}const P=(R&Bs)===Bs;return(N&1)===1!==P&&(R=r.neg(R)),{x:S,y:R}}else if(_===s&&N===4){const S=r.fromBytes(E.subarray(0,r.BYTES)),b=r.fromBytes(E.subarray(r.BYTES,2*r.BYTES));return{x:S,y:b}}else throw new Error(`Point of length ${_} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),g=p=>su(Lf(p,e.nByteLength));function y(p){const _=n>>Bs;return p>_}function v(p){return y(p)?a(-p):p}const T=(p,_,N)=>zl(p.slice(_,N));class k{constructor(_,N,E){this.r=_,this.s=N,this.recovery=E,this.assertValidity()}static fromCompact(_){const N=e.nByteLength;return _=Ln("compactSignature",_,N*2),new k(T(_,0,N),T(_,N,2*N))}static fromDER(_){const{r:N,s:E}=Ol.toSig(Ln("DER",_));return new k(N,E)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(_){return new k(this.r,this.s,_)}recoverPublicKey(_){const{r:N,s:E,recovery:S}=this,b=x(Ln("msgHash",_));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");const R=S===2||S===3?N+e.n:N;if(R>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const P=S&1?"03":"02",q=l.fromHex(P+g(R)),ue=c(R),$=a(-b*ue),oe=a(E*ue),ee=l.BASE.multiplyAndAddUnsafe(q,$,oe);if(!ee)throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Of(this.toDERHex())}toDERHex(){return Ol.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Of(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const C={isValidPrivateKey(p){try{return u(p),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const p=Jk(e.n);return mD(e.randomBytes(p),e.n)},precompute(p=8,_=l.BASE){return _._setWindowSize(p),_.multiply(BigInt(3)),_}};function I(p,_=!0){return l.fromPrivateKey(p).toRawBytes(_)}function D(p){const _=iu(p),N=typeof p=="string",E=(_||N)&&p.length;return _?E===i||E===s:N?E===2*i||E===2*s:p instanceof l}function O(p,_,N=!0){if(D(p))throw new Error("first arg must be private key");if(!D(_))throw new Error("second arg must be public key");return l.fromHex(_).multiply(u(p)).toRawBytes(N)}const F=e.bits2int||function(p){const _=zl(p),N=p.length*8-e.nBitLength;return N>0?_>>BigInt(N):_},x=e.bits2int_modN||function(p){return a(F(p))},L=Q3(e.nBitLength);function J(p){if(typeof p!="bigint")throw new Error("bigint expected");if(!(Na<=p&&p<L))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Lf(p,e.nByteLength)}function ne(p,_,N=j){if(["recovered","canonical"].some(K=>K in N))throw new Error("sign() legacy options not supported");const{hash:E,randomBytes:S}=e;let{lowS:b,prehash:R,extraEntropy:P}=N;b==null&&(b=!0),p=Ln("msgHash",p),R&&(p=Ln("prehashed msgHash",E(p)));const q=x(p),ue=u(_),$=[J(ue),J(q)];if(P!=null&&P!==!1){const K=P===!0?S(r.BYTES):P;$.push(Ln("extraEntropy",K))}const oe=ou(...$),ee=q;function H(K){const A=F(K);if(!h(A))return;const V=c(A),se=l.BASE.multiply(A).toAffine(),X=a(se.x);if(X===Na)return;const re=a(V*a(ee+X*ue));if(re===Na)return;let ce=(se.x===X?0:2)|Number(se.y&Bs),be=re;return b&&y(re)&&(be=v(re),ce^=1),new k(X,be,ce)}return{seed:oe,k2sig:H}}const j={lowS:e.lowS,prehash:!1},w={lowS:e.lowS,prehash:!1};function m(p,_,N=j){const{seed:E,k2sig:S}=ne(p,_,N),b=e;return Hk(b.hash.outputLen,b.nByteLength,b.hmac)(E,S)}l.BASE._setWindowSize(8);function d(p,_,N,E=w){var se;const S=p;if(_=Ln("msgHash",_),N=Ln("publicKey",N),"strict"in E)throw new Error("options.strict was renamed to lowS");const{lowS:b,prehash:R}=E;let P,q;try{if(typeof S=="string"||iu(S))try{P=k.fromDER(S)}catch(X){if(!(X instanceof Ol.Err))throw X;P=k.fromCompact(S)}else if(typeof S=="object"&&typeof S.r=="bigint"&&typeof S.s=="bigint"){const{r:X,s:re}=S;P=new k(X,re)}else throw new Error("PARSE");q=l.fromHex(N)}catch(X){if(X.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(b&&P.hasHighS())return!1;R&&(_=e.hash(_));const{r:ue,s:$}=P,oe=x(_),ee=c($),H=a(oe*ee),K=a(ue*ee),A=(se=l.BASE.multiplyAndAddUnsafe(q,H,K))==null?void 0:se.toAffine();return A?a(A.x)===ue:!1}return{CURVE:e,getPublicKey:I,getSharedSecret:O,sign:m,verify:d,ProjectivePoint:l,Signature:k,utils:C}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ED(t){return{hash:t,hmac:(e,...r)=>qk(t,e,KL(...r)),randomBytes:Fk}}function AD(t,e){const r=n=>SD({...t,...ED(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Zk=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),w5=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ID=BigInt(1),Cv=BigInt(2),b5=(t,e)=>(t+e/Cv)/e;function kD(t){const e=Zk,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=gn(u,r,e)*u%e,h=gn(f,r,e)*u%e,g=gn(h,Cv,e)*l%e,y=gn(g,i,e)*g%e,v=gn(y,s,e)*y%e,T=gn(v,a,e)*v%e,k=gn(T,c,e)*T%e,C=gn(k,a,e)*v%e,I=gn(C,r,e)*u%e,D=gn(I,o,e)*y%e,O=gn(D,n,e)*l%e,F=gn(O,Cv,e);if(!Rv.eql(Rv.sqr(F),t))throw new Error("Cannot find square root");return F}const Rv=Gk(Zk,void 0,void 0,{sqrt:kD}),um=AD({a:BigInt(0),b:BigInt(7),Fp:Rv,n:w5,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=w5,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ID*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=b5(s*t,e),c=b5(-n*t,e);let l=rn(t-a*r-c*i,e),u=rn(-a*n-c*s,e);const f=l>o,h=u>o;if(f&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:l,k2neg:h,k2:u}}}},JL);BigInt(0);um.ProjectivePoint;var Ap={},yr={},yu=Qk;function Qk(t,e){if(!t)throw new Error(e||"Assertion failed")}Qk.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Pv={exports:{}};typeof Object.create=="function"?Pv.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Pv.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var fm=Pv.exports,CD=yu,RD=fm;yr.inherits=RD;function PD(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function TD(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):PD(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}yr.toArray=TD;function ND(t){for(var e="",r=0;r<t.length;r++)e+=t7(t[r].toString(16));return e}yr.toHex=ND;function e7(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}yr.htonl=e7;function MD(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=e7(i)),r+=r7(i.toString(16))}return r}yr.toHex32=MD;function t7(t){return t.length===1?"0"+t:t}yr.zero2=t7;function r7(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}yr.zero8=r7;function OD(t,e,r,n){var i=r-e;CD(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var c;n==="big"?c=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:c=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=c>>>0}return s}yr.join32=OD;function LD(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}yr.split32=LD;function DD(t,e){return t>>>e|t<<32-e}yr.rotr32=DD;function BD(t,e){return t<<e|t>>>32-e}yr.rotl32=BD;function $D(t,e){return t+e>>>0}yr.sum32=$D;function UD(t,e,r){return t+e+r>>>0}yr.sum32_3=UD;function FD(t,e,r,n){return t+e+r+n>>>0}yr.sum32_4=FD;function jD(t,e,r,n,i){return t+e+r+n+i>>>0}yr.sum32_5=jD;function zD(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}yr.sum64=zD;function qD(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}yr.sum64_hi=qD;function KD(t,e,r,n){var i=e+n;return i>>>0}yr.sum64_lo=KD;function WD(t,e,r,n,i,s,o,a){var c=0,l=e;l=l+n>>>0,c+=l<e?1:0,l=l+s>>>0,c+=l<s?1:0,l=l+a>>>0,c+=l<a?1:0;var u=t+r+i+o+c;return u>>>0}yr.sum64_4_hi=WD;function HD(t,e,r,n,i,s,o,a){var c=e+n+s+a;return c>>>0}yr.sum64_4_lo=HD;function VD(t,e,r,n,i,s,o,a,c,l){var u=0,f=e;f=f+n>>>0,u+=f<e?1:0,f=f+s>>>0,u+=f<s?1:0,f=f+a>>>0,u+=f<a?1:0,f=f+l>>>0,u+=f<l?1:0;var h=t+r+i+o+c+u;return h>>>0}yr.sum64_5_hi=VD;function GD(t,e,r,n,i,s,o,a,c,l){var u=e+n+s+a+l;return u>>>0}yr.sum64_5_lo=GD;function YD(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}yr.rotr64_hi=YD;function JD(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}yr.rotr64_lo=JD;function XD(t,e,r){return t>>>r}yr.shr64_hi=XD;function ZD(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}yr.shr64_lo=ZD;var Zf={},v5=yr,QD=yu;function dm(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Zf.BlockHash=dm;dm.prototype.update=function(e,r){if(e=v5.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=v5.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};dm.prototype.digest=function(e){return this.update(this._pad()),QD(this.pending===null),this._digest(e)};dm.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var Qf={},pa={},eB=yr,ea=eB.rotr32;function tB(t,e,r,n){if(t===0)return n7(e,r,n);if(t===1||t===3)return s7(e,r,n);if(t===2)return i7(e,r,n)}pa.ft_1=tB;function n7(t,e,r){return t&e^~t&r}pa.ch32=n7;function i7(t,e,r){return t&e^t&r^e&r}pa.maj32=i7;function s7(t,e,r){return t^e^r}pa.p32=s7;function rB(t){return ea(t,2)^ea(t,13)^ea(t,22)}pa.s0_256=rB;function nB(t){return ea(t,6)^ea(t,11)^ea(t,25)}pa.s1_256=nB;function iB(t){return ea(t,7)^ea(t,18)^t>>>3}pa.g0_256=iB;function sB(t){return ea(t,17)^ea(t,19)^t>>>10}pa.g1_256=sB;var Df=yr,oB=Zf,aB=pa,nw=Df.rotl32,Md=Df.sum32,cB=Df.sum32_5,lB=aB.ft_1,o7=oB.BlockHash,uB=[1518500249,1859775393,2400959708,3395469782];function aa(){if(!(this instanceof aa))return new aa;o7.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Df.inherits(aa,o7);var fB=aa;aa.blockSize=512;aa.outSize=160;aa.hmacStrength=80;aa.padLength=64;aa.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=nw(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),f=cB(nw(s,5),lB(u,o,a,c),l,n[i],uB[u]);l=c,c=a,a=nw(o,30),o=s,s=f}this.h[0]=Md(this.h[0],s),this.h[1]=Md(this.h[1],o),this.h[2]=Md(this.h[2],a),this.h[3]=Md(this.h[3],c),this.h[4]=Md(this.h[4],l)};aa.prototype._digest=function(e){return e==="hex"?Df.toHex32(this.h,"big"):Df.split32(this.h,"big")};var Bf=yr,dB=Zf,ed=pa,hB=yu,so=Bf.sum32,pB=Bf.sum32_4,gB=Bf.sum32_5,mB=ed.ch32,yB=ed.maj32,wB=ed.s0_256,bB=ed.s1_256,vB=ed.g0_256,xB=ed.g1_256,a7=dB.BlockHash,_B=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ca(){if(!(this instanceof ca))return new ca;a7.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_B,this.W=new Array(64)}Bf.inherits(ca,a7);var c7=ca;ca.blockSize=512;ca.outSize=256;ca.hmacStrength=192;ca.padLength=64;ca.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=pB(xB(n[i-2]),n[i-7],vB(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4],u=this.h[5],f=this.h[6],h=this.h[7];for(hB(this.k.length===n.length),i=0;i<n.length;i++){var g=gB(h,bB(l),mB(l,u,f),this.k[i],n[i]),y=so(wB(s),yB(s,o,a));h=f,f=u,u=l,l=so(c,g),c=a,a=o,o=s,s=so(g,y)}this.h[0]=so(this.h[0],s),this.h[1]=so(this.h[1],o),this.h[2]=so(this.h[2],a),this.h[3]=so(this.h[3],c),this.h[4]=so(this.h[4],l),this.h[5]=so(this.h[5],u),this.h[6]=so(this.h[6],f),this.h[7]=so(this.h[7],h)};ca.prototype._digest=function(e){return e==="hex"?Bf.toHex32(this.h,"big"):Bf.split32(this.h,"big")};var Tv=yr,l7=c7;function Ga(){if(!(this instanceof Ga))return new Ga;l7.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Tv.inherits(Ga,l7);var SB=Ga;Ga.blockSize=512;Ga.outSize=224;Ga.hmacStrength=192;Ga.padLength=64;Ga.prototype._digest=function(e){return e==="hex"?Tv.toHex32(this.h.slice(0,7),"big"):Tv.split32(this.h.slice(0,7),"big")};var ss=yr,EB=Zf,AB=yu,ta=ss.rotr64_hi,ra=ss.rotr64_lo,u7=ss.shr64_hi,f7=ss.shr64_lo,cc=ss.sum64,iw=ss.sum64_hi,sw=ss.sum64_lo,IB=ss.sum64_4_hi,kB=ss.sum64_4_lo,CB=ss.sum64_5_hi,RB=ss.sum64_5_lo,d7=EB.BlockHash,PB=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ao(){if(!(this instanceof Ao))return new Ao;d7.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=PB,this.W=new Array(160)}ss.inherits(Ao,d7);var h7=Ao;Ao.blockSize=1024;Ao.outSize=512;Ao.hmacStrength=192;Ao.padLength=128;Ao.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=jB(n[i-4],n[i-3]),o=zB(n[i-4],n[i-3]),a=n[i-14],c=n[i-13],l=UB(n[i-30],n[i-29]),u=FB(n[i-30],n[i-29]),f=n[i-32],h=n[i-31];n[i]=IB(s,o,a,c,l,u,f,h),n[i+1]=kB(s,o,a,c,l,u,f,h)}};Ao.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],u=this.h[6],f=this.h[7],h=this.h[8],g=this.h[9],y=this.h[10],v=this.h[11],T=this.h[12],k=this.h[13],C=this.h[14],I=this.h[15];AB(this.k.length===n.length);for(var D=0;D<n.length;D+=2){var O=C,F=I,x=BB(h,g),L=$B(h,g),J=TB(h,g,y,v,T),ne=NB(h,g,y,v,T,k),j=this.k[D],w=this.k[D+1],m=n[D],d=n[D+1],p=CB(O,F,x,L,J,ne,j,w,m,d),_=RB(O,F,x,L,J,ne,j,w,m,d);O=LB(i,s),F=DB(i,s),x=MB(i,s,o,a,c),L=OB(i,s,o,a,c,l);var N=iw(O,F,x,L),E=sw(O,F,x,L);C=T,I=k,T=y,k=v,y=h,v=g,h=iw(u,f,p,_),g=sw(f,f,p,_),u=c,f=l,c=o,l=a,o=i,a=s,i=iw(p,_,N,E),s=sw(p,_,N,E)}cc(this.h,0,i,s),cc(this.h,2,o,a),cc(this.h,4,c,l),cc(this.h,6,u,f),cc(this.h,8,h,g),cc(this.h,10,y,v),cc(this.h,12,T,k),cc(this.h,14,C,I)};Ao.prototype._digest=function(e){return e==="hex"?ss.toHex32(this.h,"big"):ss.split32(this.h,"big")};function TB(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function NB(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function MB(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function OB(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function LB(t,e){var r=ta(t,e,28),n=ta(e,t,2),i=ta(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function DB(t,e){var r=ra(t,e,28),n=ra(e,t,2),i=ra(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function BB(t,e){var r=ta(t,e,14),n=ta(t,e,18),i=ta(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function $B(t,e){var r=ra(t,e,14),n=ra(t,e,18),i=ra(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function UB(t,e){var r=ta(t,e,1),n=ta(t,e,8),i=u7(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function FB(t,e){var r=ra(t,e,1),n=ra(t,e,8),i=f7(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function jB(t,e){var r=ta(t,e,19),n=ta(e,t,29),i=u7(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function zB(t,e){var r=ra(t,e,19),n=ra(e,t,29),i=f7(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var Nv=yr,p7=h7;function Ya(){if(!(this instanceof Ya))return new Ya;p7.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Nv.inherits(Ya,p7);var qB=Ya;Ya.blockSize=1024;Ya.outSize=384;Ya.hmacStrength=192;Ya.padLength=128;Ya.prototype._digest=function(e){return e==="hex"?Nv.toHex32(this.h.slice(0,12),"big"):Nv.split32(this.h.slice(0,12),"big")};Qf.sha1=fB;Qf.sha224=SB;Qf.sha256=c7;Qf.sha384=qB;Qf.sha512=h7;var g7={},au=yr,KB=Zf,b0=au.rotl32,x5=au.sum32,Od=au.sum32_3,_5=au.sum32_4,m7=KB.BlockHash;function la(){if(!(this instanceof la))return new la;m7.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}au.inherits(la,m7);g7.ripemd160=la;la.blockSize=512;la.outSize=160;la.hmacStrength=192;la.padLength=64;la.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=n,l=i,u=s,f=o,h=a,g=0;g<80;g++){var y=x5(b0(_5(n,S5(g,i,s,o),e[VB[g]+r],WB(g)),YB[g]),a);n=a,a=o,o=b0(s,10),s=i,i=y,y=x5(b0(_5(c,S5(79-g,l,u,f),e[GB[g]+r],HB(g)),JB[g]),h),c=h,h=f,f=b0(u,10),u=l,l=y}y=Od(this.h[1],s,f),this.h[1]=Od(this.h[2],o,h),this.h[2]=Od(this.h[3],a,c),this.h[3]=Od(this.h[4],n,l),this.h[4]=Od(this.h[0],i,u),this.h[0]=y};la.prototype._digest=function(e){return e==="hex"?au.toHex32(this.h,"little"):au.split32(this.h,"little")};function S5(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function WB(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function HB(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var VB=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],GB=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],YB=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],JB=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],XB=yr,ZB=yu;function $f(t,e,r){if(!(this instanceof $f))return new $f(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(XB.toArray(e,r))}var QB=$f;$f.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),ZB(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};$f.prototype.update=function(e,r){return this.inner.update(e,r),this};$f.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=yr,e.common=Zf,e.sha=Qf,e.ripemd=g7,e.hmac=QB,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Ap);const Aa=An(Ap);var ow,E5;function tx(){return E5||(E5=1,ow=null),ow}var hm={};const e$="elliptic",t$="6.5.7",r$="EC cryptography",n$="lib/elliptic.js",i$=["lib"],s$={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},o$={type:"git",url:"git@github.com:indutny/elliptic"},a$=["EC","Elliptic","curve","Cryptography"],c$="Fedor Indutny <fedor@indutny.com>",l$="MIT",u$={url:"https://github.com/indutny/elliptic/issues"},f$="https://github.com/indutny/elliptic",d$={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},h$={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},p$={name:e$,version:t$,description:r$,main:n$,files:i$,scripts:s$,repository:o$,keywords:a$,author:c$,license:l$,bugs:u$,homepage:f$,devDependencies:d$,dependencies:h$};var Is={},rx={exports:{}};rx.exports;(function(t){(function(e,r){function n(j,w){if(!j)throw new Error(w||"Assertion failed")}function i(j,w){j.super_=w;var m=function(){};m.prototype=w.prototype,j.prototype=new m,j.prototype.constructor=j}function s(j,w,m){if(s.isBN(j))return j;this.negative=0,this.words=null,this.length=0,this.red=null,j!==null&&((w==="le"||w==="be")&&(m=w,w=10),this._init(j||0,w||10,m||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Dk.Buffer}catch{}s.isBN=function(w){return w instanceof s?!0:w!==null&&typeof w=="object"&&w.constructor.wordSize===s.wordSize&&Array.isArray(w.words)},s.max=function(w,m){return w.cmp(m)>0?w:m},s.min=function(w,m){return w.cmp(m)<0?w:m},s.prototype._init=function(w,m,d){if(typeof w=="number")return this._initNumber(w,m,d);if(typeof w=="object")return this._initArray(w,m,d);m==="hex"&&(m=16),n(m===(m|0)&&m>=2&&m<=36),w=w.toString().replace(/\s+/g,"");var p=0;w[0]==="-"&&(p++,this.negative=1),p<w.length&&(m===16?this._parseHex(w,p,d):(this._parseBase(w,m,p),d==="le"&&this._initArray(this.toArray(),m,d)))},s.prototype._initNumber=function(w,m,d){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[w&67108863],this.length=1):w<4503599627370496?(this.words=[w&67108863,w/67108864&67108863],this.length=2):(n(w<9007199254740992),this.words=[w&67108863,w/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),m,d)},s.prototype._initArray=function(w,m,d){if(n(typeof w.length=="number"),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var _,N,E=0;if(d==="be")for(p=w.length-1,_=0;p>=0;p-=3)N=w[p]|w[p-1]<<8|w[p-2]<<16,this.words[_]|=N<<E&67108863,this.words[_+1]=N>>>26-E&67108863,E+=24,E>=26&&(E-=26,_++);else if(d==="le")for(p=0,_=0;p<w.length;p+=3)N=w[p]|w[p+1]<<8|w[p+2]<<16,this.words[_]|=N<<E&67108863,this.words[_+1]=N>>>26-E&67108863,E+=24,E>=26&&(E-=26,_++);return this.strip()};function a(j,w){var m=j.charCodeAt(w);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function c(j,w,m){var d=a(j,m);return m-1>=w&&(d|=a(j,m-1)<<4),d}s.prototype._parseHex=function(w,m,d){this.length=Math.ceil((w.length-m)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var _=0,N=0,E;if(d==="be")for(p=w.length-1;p>=m;p-=2)E=c(w,m,p)<<_,this.words[N]|=E&67108863,_>=18?(_-=18,N+=1,this.words[N]|=E>>>26):_+=8;else{var S=w.length-m;for(p=S%2===0?m+1:m;p<w.length;p+=2)E=c(w,m,p)<<_,this.words[N]|=E&67108863,_>=18?(_-=18,N+=1,this.words[N]|=E>>>26):_+=8}this.strip()};function l(j,w,m,d){for(var p=0,_=Math.min(j.length,m),N=w;N<_;N++){var E=j.charCodeAt(N)-48;p*=d,E>=49?p+=E-49+10:E>=17?p+=E-17+10:p+=E}return p}s.prototype._parseBase=function(w,m,d){this.words=[0],this.length=1;for(var p=0,_=1;_<=67108863;_*=m)p++;p--,_=_/m|0;for(var N=w.length-d,E=N%p,S=Math.min(N,N-E)+d,b=0,R=d;R<S;R+=p)b=l(w,R,R+p,m),this.imuln(_),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(E!==0){var P=1;for(b=l(w,R,w.length,m),R=0;R<E;R++)P*=m;this.imuln(P),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this.strip()},s.prototype.copy=function(w){w.words=new Array(this.length);for(var m=0;m<this.length;m++)w.words[m]=this.words[m];w.length=this.length,w.negative=this.negative,w.red=this.red},s.prototype.clone=function(){var w=new s(null);return this.copy(w),w},s.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(w,m){w=w||10,m=m|0||1;var d;if(w===16||w==="hex"){d="";for(var p=0,_=0,N=0;N<this.length;N++){var E=this.words[N],S=((E<<p|_)&16777215).toString(16);_=E>>>24-p&16777215,_!==0||N!==this.length-1?d=u[6-S.length]+S+d:d=S+d,p+=2,p>=26&&(p-=26,N--)}for(_!==0&&(d=_.toString(16)+d);d.length%m!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(w===(w|0)&&w>=2&&w<=36){var b=f[w],R=h[w];d="";var P=this.clone();for(P.negative=0;!P.isZero();){var q=P.modn(R).toString(w);P=P.idivn(R),P.isZero()?d=q+d:d=u[b-q.length]+q+d}for(this.isZero()&&(d="0"+d);d.length%m!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var w=this.words[0];return this.length===2?w+=this.words[1]*67108864:this.length===3&&this.words[2]===1?w+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-w:w},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(w,m){return n(typeof o<"u"),this.toArrayLike(o,w,m)},s.prototype.toArray=function(w,m){return this.toArrayLike(Array,w,m)},s.prototype.toArrayLike=function(w,m,d){var p=this.byteLength(),_=d||Math.max(1,p);n(p<=_,"byte array longer than desired length"),n(_>0,"Requested array length <= 0"),this.strip();var N=m==="le",E=new w(_),S,b,R=this.clone();if(N){for(b=0;!R.isZero();b++)S=R.andln(255),R.iushrn(8),E[b]=S;for(;b<_;b++)E[b]=0}else{for(b=0;b<_-p;b++)E[b]=0;for(b=0;!R.isZero();b++)S=R.andln(255),R.iushrn(8),E[_-b-1]=S}return E},Math.clz32?s.prototype._countBits=function(w){return 32-Math.clz32(w)}:s.prototype._countBits=function(w){var m=w,d=0;return m>=4096&&(d+=13,m>>>=13),m>=64&&(d+=7,m>>>=7),m>=8&&(d+=4,m>>>=4),m>=2&&(d+=2,m>>>=2),d+m},s.prototype._zeroBits=function(w){if(w===0)return 26;var m=w,d=0;return m&8191||(d+=13,m>>>=13),m&127||(d+=7,m>>>=7),m&15||(d+=4,m>>>=4),m&3||(d+=2,m>>>=2),m&1||d++,d},s.prototype.bitLength=function(){var w=this.words[this.length-1],m=this._countBits(w);return(this.length-1)*26+m};function g(j){for(var w=new Array(j.bitLength()),m=0;m<w.length;m++){var d=m/26|0,p=m%26;w[m]=(j.words[d]&1<<p)>>>p}return w}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,m=0;m<this.length;m++){var d=this._zeroBits(this.words[m]);if(w+=d,d!==26)break}return w},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(w){return this.negative!==0?this.abs().inotn(w).iaddn(1):this.clone()},s.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var m=0;m<w.length;m++)this.words[m]=this.words[m]|w.words[m];return this.strip()},s.prototype.ior=function(w){return n((this.negative|w.negative)===0),this.iuor(w)},s.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},s.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},s.prototype.iuand=function(w){var m;this.length>w.length?m=w:m=this;for(var d=0;d<m.length;d++)this.words[d]=this.words[d]&w.words[d];return this.length=m.length,this.strip()},s.prototype.iand=function(w){return n((this.negative|w.negative)===0),this.iuand(w)},s.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},s.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},s.prototype.iuxor=function(w){var m,d;this.length>w.length?(m=this,d=w):(m=w,d=this);for(var p=0;p<d.length;p++)this.words[p]=m.words[p]^d.words[p];if(this!==m)for(;p<m.length;p++)this.words[p]=m.words[p];return this.length=m.length,this.strip()},s.prototype.ixor=function(w){return n((this.negative|w.negative)===0),this.iuxor(w)},s.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},s.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},s.prototype.inotn=function(w){n(typeof w=="number"&&w>=0);var m=Math.ceil(w/26)|0,d=w%26;this._expand(m),d>0&&m--;for(var p=0;p<m;p++)this.words[p]=~this.words[p]&67108863;return d>0&&(this.words[p]=~this.words[p]&67108863>>26-d),this.strip()},s.prototype.notn=function(w){return this.clone().inotn(w)},s.prototype.setn=function(w,m){n(typeof w=="number"&&w>=0);var d=w/26|0,p=w%26;return this._expand(d+1),m?this.words[d]=this.words[d]|1<<p:this.words[d]=this.words[d]&~(1<<p),this.strip()},s.prototype.iadd=function(w){var m;if(this.negative!==0&&w.negative===0)return this.negative=0,m=this.isub(w),this.negative^=1,this._normSign();if(this.negative===0&&w.negative!==0)return w.negative=0,m=this.isub(w),w.negative=1,m._normSign();var d,p;this.length>w.length?(d=this,p=w):(d=w,p=this);for(var _=0,N=0;N<p.length;N++)m=(d.words[N]|0)+(p.words[N]|0)+_,this.words[N]=m&67108863,_=m>>>26;for(;_!==0&&N<d.length;N++)m=(d.words[N]|0)+_,this.words[N]=m&67108863,_=m>>>26;if(this.length=d.length,_!==0)this.words[this.length]=_,this.length++;else if(d!==this)for(;N<d.length;N++)this.words[N]=d.words[N];return this},s.prototype.add=function(w){var m;return w.negative!==0&&this.negative===0?(w.negative=0,m=this.sub(w),w.negative^=1,m):w.negative===0&&this.negative!==0?(this.negative=0,m=w.sub(this),this.negative=1,m):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},s.prototype.isub=function(w){if(w.negative!==0){w.negative=0;var m=this.iadd(w);return w.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var d=this.cmp(w);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,_;d>0?(p=this,_=w):(p=w,_=this);for(var N=0,E=0;E<_.length;E++)m=(p.words[E]|0)-(_.words[E]|0)+N,N=m>>26,this.words[E]=m&67108863;for(;N!==0&&E<p.length;E++)m=(p.words[E]|0)+N,N=m>>26,this.words[E]=m&67108863;if(N===0&&E<p.length&&p!==this)for(;E<p.length;E++)this.words[E]=p.words[E];return this.length=Math.max(this.length,E),p!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(w){return this.clone().isub(w)};function y(j,w,m){m.negative=w.negative^j.negative;var d=j.length+w.length|0;m.length=d,d=d-1|0;var p=j.words[0]|0,_=w.words[0]|0,N=p*_,E=N&67108863,S=N/67108864|0;m.words[0]=E;for(var b=1;b<d;b++){for(var R=S>>>26,P=S&67108863,q=Math.min(b,w.length-1),ue=Math.max(0,b-j.length+1);ue<=q;ue++){var $=b-ue|0;p=j.words[$]|0,_=w.words[ue]|0,N=p*_+P,R+=N/67108864|0,P=N&67108863}m.words[b]=P|0,S=R|0}return S!==0?m.words[b]=S|0:m.length--,m.strip()}var v=function(w,m,d){var p=w.words,_=m.words,N=d.words,E=0,S,b,R,P=p[0]|0,q=P&8191,ue=P>>>13,$=p[1]|0,oe=$&8191,ee=$>>>13,H=p[2]|0,K=H&8191,A=H>>>13,V=p[3]|0,se=V&8191,X=V>>>13,re=p[4]|0,ce=re&8191,be=re>>>13,Ee=p[5]|0,Ae=Ee&8191,Ve=Ee>>>13,De=p[6]|0,qe=De&8191,Te=De>>>13,et=p[7]|0,We=et&8191,Ze=et>>>13,ot=p[8]|0,W=ot&8191,B=ot>>>13,U=p[9]|0,Q=U&8191,le=U>>>13,he=_[0]|0,ge=he&8191,je=he>>>13,Je=_[1]|0,Qe=Je&8191,bt=Je>>>13,gt=_[2]|0,vt=gt&8191,er=gt>>>13,sr=_[3]|0,Lt=sr&8191,jt=sr>>>13,Et=_[4]|0,lt=Et&8191,Ot=Et>>>13,te=_[5]|0,ie=te&8191,Ce=te>>>13,Ne=_[6]|0,ke=Ne&8191,xt=Ne>>>13,z=_[7]|0,G=z&8191,Y=z>>>13,M=_[8]|0,Z=M&8191,de=M>>>13,me=_[9]|0,we=me&8191,Me=me>>>13;d.negative=w.negative^m.negative,d.length=19,S=Math.imul(q,ge),b=Math.imul(q,je),b=b+Math.imul(ue,ge)|0,R=Math.imul(ue,je);var Ke=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,S=Math.imul(oe,ge),b=Math.imul(oe,je),b=b+Math.imul(ee,ge)|0,R=Math.imul(ee,je),S=S+Math.imul(q,Qe)|0,b=b+Math.imul(q,bt)|0,b=b+Math.imul(ue,Qe)|0,R=R+Math.imul(ue,bt)|0;var $e=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+($e>>>26)|0,$e&=67108863,S=Math.imul(K,ge),b=Math.imul(K,je),b=b+Math.imul(A,ge)|0,R=Math.imul(A,je),S=S+Math.imul(oe,Qe)|0,b=b+Math.imul(oe,bt)|0,b=b+Math.imul(ee,Qe)|0,R=R+Math.imul(ee,bt)|0,S=S+Math.imul(q,vt)|0,b=b+Math.imul(q,er)|0,b=b+Math.imul(ue,vt)|0,R=R+Math.imul(ue,er)|0;var Dt=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,S=Math.imul(se,ge),b=Math.imul(se,je),b=b+Math.imul(X,ge)|0,R=Math.imul(X,je),S=S+Math.imul(K,Qe)|0,b=b+Math.imul(K,bt)|0,b=b+Math.imul(A,Qe)|0,R=R+Math.imul(A,bt)|0,S=S+Math.imul(oe,vt)|0,b=b+Math.imul(oe,er)|0,b=b+Math.imul(ee,vt)|0,R=R+Math.imul(ee,er)|0,S=S+Math.imul(q,Lt)|0,b=b+Math.imul(q,jt)|0,b=b+Math.imul(ue,Lt)|0,R=R+Math.imul(ue,jt)|0;var Xe=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,S=Math.imul(ce,ge),b=Math.imul(ce,je),b=b+Math.imul(be,ge)|0,R=Math.imul(be,je),S=S+Math.imul(se,Qe)|0,b=b+Math.imul(se,bt)|0,b=b+Math.imul(X,Qe)|0,R=R+Math.imul(X,bt)|0,S=S+Math.imul(K,vt)|0,b=b+Math.imul(K,er)|0,b=b+Math.imul(A,vt)|0,R=R+Math.imul(A,er)|0,S=S+Math.imul(oe,Lt)|0,b=b+Math.imul(oe,jt)|0,b=b+Math.imul(ee,Lt)|0,R=R+Math.imul(ee,jt)|0,S=S+Math.imul(q,lt)|0,b=b+Math.imul(q,Ot)|0,b=b+Math.imul(ue,lt)|0,R=R+Math.imul(ue,Ot)|0;var Ct=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,S=Math.imul(Ae,ge),b=Math.imul(Ae,je),b=b+Math.imul(Ve,ge)|0,R=Math.imul(Ve,je),S=S+Math.imul(ce,Qe)|0,b=b+Math.imul(ce,bt)|0,b=b+Math.imul(be,Qe)|0,R=R+Math.imul(be,bt)|0,S=S+Math.imul(se,vt)|0,b=b+Math.imul(se,er)|0,b=b+Math.imul(X,vt)|0,R=R+Math.imul(X,er)|0,S=S+Math.imul(K,Lt)|0,b=b+Math.imul(K,jt)|0,b=b+Math.imul(A,Lt)|0,R=R+Math.imul(A,jt)|0,S=S+Math.imul(oe,lt)|0,b=b+Math.imul(oe,Ot)|0,b=b+Math.imul(ee,lt)|0,R=R+Math.imul(ee,Ot)|0,S=S+Math.imul(q,ie)|0,b=b+Math.imul(q,Ce)|0,b=b+Math.imul(ue,ie)|0,R=R+Math.imul(ue,Ce)|0;var Pt=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,S=Math.imul(qe,ge),b=Math.imul(qe,je),b=b+Math.imul(Te,ge)|0,R=Math.imul(Te,je),S=S+Math.imul(Ae,Qe)|0,b=b+Math.imul(Ae,bt)|0,b=b+Math.imul(Ve,Qe)|0,R=R+Math.imul(Ve,bt)|0,S=S+Math.imul(ce,vt)|0,b=b+Math.imul(ce,er)|0,b=b+Math.imul(be,vt)|0,R=R+Math.imul(be,er)|0,S=S+Math.imul(se,Lt)|0,b=b+Math.imul(se,jt)|0,b=b+Math.imul(X,Lt)|0,R=R+Math.imul(X,jt)|0,S=S+Math.imul(K,lt)|0,b=b+Math.imul(K,Ot)|0,b=b+Math.imul(A,lt)|0,R=R+Math.imul(A,Ot)|0,S=S+Math.imul(oe,ie)|0,b=b+Math.imul(oe,Ce)|0,b=b+Math.imul(ee,ie)|0,R=R+Math.imul(ee,Ce)|0,S=S+Math.imul(q,ke)|0,b=b+Math.imul(q,xt)|0,b=b+Math.imul(ue,ke)|0,R=R+Math.imul(ue,xt)|0;var At=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+(At>>>26)|0,At&=67108863,S=Math.imul(We,ge),b=Math.imul(We,je),b=b+Math.imul(Ze,ge)|0,R=Math.imul(Ze,je),S=S+Math.imul(qe,Qe)|0,b=b+Math.imul(qe,bt)|0,b=b+Math.imul(Te,Qe)|0,R=R+Math.imul(Te,bt)|0,S=S+Math.imul(Ae,vt)|0,b=b+Math.imul(Ae,er)|0,b=b+Math.imul(Ve,vt)|0,R=R+Math.imul(Ve,er)|0,S=S+Math.imul(ce,Lt)|0,b=b+Math.imul(ce,jt)|0,b=b+Math.imul(be,Lt)|0,R=R+Math.imul(be,jt)|0,S=S+Math.imul(se,lt)|0,b=b+Math.imul(se,Ot)|0,b=b+Math.imul(X,lt)|0,R=R+Math.imul(X,Ot)|0,S=S+Math.imul(K,ie)|0,b=b+Math.imul(K,Ce)|0,b=b+Math.imul(A,ie)|0,R=R+Math.imul(A,Ce)|0,S=S+Math.imul(oe,ke)|0,b=b+Math.imul(oe,xt)|0,b=b+Math.imul(ee,ke)|0,R=R+Math.imul(ee,xt)|0,S=S+Math.imul(q,G)|0,b=b+Math.imul(q,Y)|0,b=b+Math.imul(ue,G)|0,R=R+Math.imul(ue,Y)|0;var zt=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+(zt>>>26)|0,zt&=67108863,S=Math.imul(W,ge),b=Math.imul(W,je),b=b+Math.imul(B,ge)|0,R=Math.imul(B,je),S=S+Math.imul(We,Qe)|0,b=b+Math.imul(We,bt)|0,b=b+Math.imul(Ze,Qe)|0,R=R+Math.imul(Ze,bt)|0,S=S+Math.imul(qe,vt)|0,b=b+Math.imul(qe,er)|0,b=b+Math.imul(Te,vt)|0,R=R+Math.imul(Te,er)|0,S=S+Math.imul(Ae,Lt)|0,b=b+Math.imul(Ae,jt)|0,b=b+Math.imul(Ve,Lt)|0,R=R+Math.imul(Ve,jt)|0,S=S+Math.imul(ce,lt)|0,b=b+Math.imul(ce,Ot)|0,b=b+Math.imul(be,lt)|0,R=R+Math.imul(be,Ot)|0,S=S+Math.imul(se,ie)|0,b=b+Math.imul(se,Ce)|0,b=b+Math.imul(X,ie)|0,R=R+Math.imul(X,Ce)|0,S=S+Math.imul(K,ke)|0,b=b+Math.imul(K,xt)|0,b=b+Math.imul(A,ke)|0,R=R+Math.imul(A,xt)|0,S=S+Math.imul(oe,G)|0,b=b+Math.imul(oe,Y)|0,b=b+Math.imul(ee,G)|0,R=R+Math.imul(ee,Y)|0,S=S+Math.imul(q,Z)|0,b=b+Math.imul(q,de)|0,b=b+Math.imul(ue,Z)|0,R=R+Math.imul(ue,de)|0;var Bt=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,S=Math.imul(Q,ge),b=Math.imul(Q,je),b=b+Math.imul(le,ge)|0,R=Math.imul(le,je),S=S+Math.imul(W,Qe)|0,b=b+Math.imul(W,bt)|0,b=b+Math.imul(B,Qe)|0,R=R+Math.imul(B,bt)|0,S=S+Math.imul(We,vt)|0,b=b+Math.imul(We,er)|0,b=b+Math.imul(Ze,vt)|0,R=R+Math.imul(Ze,er)|0,S=S+Math.imul(qe,Lt)|0,b=b+Math.imul(qe,jt)|0,b=b+Math.imul(Te,Lt)|0,R=R+Math.imul(Te,jt)|0,S=S+Math.imul(Ae,lt)|0,b=b+Math.imul(Ae,Ot)|0,b=b+Math.imul(Ve,lt)|0,R=R+Math.imul(Ve,Ot)|0,S=S+Math.imul(ce,ie)|0,b=b+Math.imul(ce,Ce)|0,b=b+Math.imul(be,ie)|0,R=R+Math.imul(be,Ce)|0,S=S+Math.imul(se,ke)|0,b=b+Math.imul(se,xt)|0,b=b+Math.imul(X,ke)|0,R=R+Math.imul(X,xt)|0,S=S+Math.imul(K,G)|0,b=b+Math.imul(K,Y)|0,b=b+Math.imul(A,G)|0,R=R+Math.imul(A,Y)|0,S=S+Math.imul(oe,Z)|0,b=b+Math.imul(oe,de)|0,b=b+Math.imul(ee,Z)|0,R=R+Math.imul(ee,de)|0,S=S+Math.imul(q,we)|0,b=b+Math.imul(q,Me)|0,b=b+Math.imul(ue,we)|0,R=R+Math.imul(ue,Me)|0;var Ut=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,S=Math.imul(Q,Qe),b=Math.imul(Q,bt),b=b+Math.imul(le,Qe)|0,R=Math.imul(le,bt),S=S+Math.imul(W,vt)|0,b=b+Math.imul(W,er)|0,b=b+Math.imul(B,vt)|0,R=R+Math.imul(B,er)|0,S=S+Math.imul(We,Lt)|0,b=b+Math.imul(We,jt)|0,b=b+Math.imul(Ze,Lt)|0,R=R+Math.imul(Ze,jt)|0,S=S+Math.imul(qe,lt)|0,b=b+Math.imul(qe,Ot)|0,b=b+Math.imul(Te,lt)|0,R=R+Math.imul(Te,Ot)|0,S=S+Math.imul(Ae,ie)|0,b=b+Math.imul(Ae,Ce)|0,b=b+Math.imul(Ve,ie)|0,R=R+Math.imul(Ve,Ce)|0,S=S+Math.imul(ce,ke)|0,b=b+Math.imul(ce,xt)|0,b=b+Math.imul(be,ke)|0,R=R+Math.imul(be,xt)|0,S=S+Math.imul(se,G)|0,b=b+Math.imul(se,Y)|0,b=b+Math.imul(X,G)|0,R=R+Math.imul(X,Y)|0,S=S+Math.imul(K,Z)|0,b=b+Math.imul(K,de)|0,b=b+Math.imul(A,Z)|0,R=R+Math.imul(A,de)|0,S=S+Math.imul(oe,we)|0,b=b+Math.imul(oe,Me)|0,b=b+Math.imul(ee,we)|0,R=R+Math.imul(ee,Me)|0;var $t=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+($t>>>26)|0,$t&=67108863,S=Math.imul(Q,vt),b=Math.imul(Q,er),b=b+Math.imul(le,vt)|0,R=Math.imul(le,er),S=S+Math.imul(W,Lt)|0,b=b+Math.imul(W,jt)|0,b=b+Math.imul(B,Lt)|0,R=R+Math.imul(B,jt)|0,S=S+Math.imul(We,lt)|0,b=b+Math.imul(We,Ot)|0,b=b+Math.imul(Ze,lt)|0,R=R+Math.imul(Ze,Ot)|0,S=S+Math.imul(qe,ie)|0,b=b+Math.imul(qe,Ce)|0,b=b+Math.imul(Te,ie)|0,R=R+Math.imul(Te,Ce)|0,S=S+Math.imul(Ae,ke)|0,b=b+Math.imul(Ae,xt)|0,b=b+Math.imul(Ve,ke)|0,R=R+Math.imul(Ve,xt)|0,S=S+Math.imul(ce,G)|0,b=b+Math.imul(ce,Y)|0,b=b+Math.imul(be,G)|0,R=R+Math.imul(be,Y)|0,S=S+Math.imul(se,Z)|0,b=b+Math.imul(se,de)|0,b=b+Math.imul(X,Z)|0,R=R+Math.imul(X,de)|0,S=S+Math.imul(K,we)|0,b=b+Math.imul(K,Me)|0,b=b+Math.imul(A,we)|0,R=R+Math.imul(A,Me)|0;var ht=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(Q,Lt),b=Math.imul(Q,jt),b=b+Math.imul(le,Lt)|0,R=Math.imul(le,jt),S=S+Math.imul(W,lt)|0,b=b+Math.imul(W,Ot)|0,b=b+Math.imul(B,lt)|0,R=R+Math.imul(B,Ot)|0,S=S+Math.imul(We,ie)|0,b=b+Math.imul(We,Ce)|0,b=b+Math.imul(Ze,ie)|0,R=R+Math.imul(Ze,Ce)|0,S=S+Math.imul(qe,ke)|0,b=b+Math.imul(qe,xt)|0,b=b+Math.imul(Te,ke)|0,R=R+Math.imul(Te,xt)|0,S=S+Math.imul(Ae,G)|0,b=b+Math.imul(Ae,Y)|0,b=b+Math.imul(Ve,G)|0,R=R+Math.imul(Ve,Y)|0,S=S+Math.imul(ce,Z)|0,b=b+Math.imul(ce,de)|0,b=b+Math.imul(be,Z)|0,R=R+Math.imul(be,de)|0,S=S+Math.imul(se,we)|0,b=b+Math.imul(se,Me)|0,b=b+Math.imul(X,we)|0,R=R+Math.imul(X,Me)|0;var wt=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+(wt>>>26)|0,wt&=67108863,S=Math.imul(Q,lt),b=Math.imul(Q,Ot),b=b+Math.imul(le,lt)|0,R=Math.imul(le,Ot),S=S+Math.imul(W,ie)|0,b=b+Math.imul(W,Ce)|0,b=b+Math.imul(B,ie)|0,R=R+Math.imul(B,Ce)|0,S=S+Math.imul(We,ke)|0,b=b+Math.imul(We,xt)|0,b=b+Math.imul(Ze,ke)|0,R=R+Math.imul(Ze,xt)|0,S=S+Math.imul(qe,G)|0,b=b+Math.imul(qe,Y)|0,b=b+Math.imul(Te,G)|0,R=R+Math.imul(Te,Y)|0,S=S+Math.imul(Ae,Z)|0,b=b+Math.imul(Ae,de)|0,b=b+Math.imul(Ve,Z)|0,R=R+Math.imul(Ve,de)|0,S=S+Math.imul(ce,we)|0,b=b+Math.imul(ce,Me)|0,b=b+Math.imul(be,we)|0,R=R+Math.imul(be,Me)|0;var at=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+(at>>>26)|0,at&=67108863,S=Math.imul(Q,ie),b=Math.imul(Q,Ce),b=b+Math.imul(le,ie)|0,R=Math.imul(le,Ce),S=S+Math.imul(W,ke)|0,b=b+Math.imul(W,xt)|0,b=b+Math.imul(B,ke)|0,R=R+Math.imul(B,xt)|0,S=S+Math.imul(We,G)|0,b=b+Math.imul(We,Y)|0,b=b+Math.imul(Ze,G)|0,R=R+Math.imul(Ze,Y)|0,S=S+Math.imul(qe,Z)|0,b=b+Math.imul(qe,de)|0,b=b+Math.imul(Te,Z)|0,R=R+Math.imul(Te,de)|0,S=S+Math.imul(Ae,we)|0,b=b+Math.imul(Ae,Me)|0,b=b+Math.imul(Ve,we)|0,R=R+Math.imul(Ve,Me)|0;var mt=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+(mt>>>26)|0,mt&=67108863,S=Math.imul(Q,ke),b=Math.imul(Q,xt),b=b+Math.imul(le,ke)|0,R=Math.imul(le,xt),S=S+Math.imul(W,G)|0,b=b+Math.imul(W,Y)|0,b=b+Math.imul(B,G)|0,R=R+Math.imul(B,Y)|0,S=S+Math.imul(We,Z)|0,b=b+Math.imul(We,de)|0,b=b+Math.imul(Ze,Z)|0,R=R+Math.imul(Ze,de)|0,S=S+Math.imul(qe,we)|0,b=b+Math.imul(qe,Me)|0,b=b+Math.imul(Te,we)|0,R=R+Math.imul(Te,Me)|0;var ut=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+(ut>>>26)|0,ut&=67108863,S=Math.imul(Q,G),b=Math.imul(Q,Y),b=b+Math.imul(le,G)|0,R=Math.imul(le,Y),S=S+Math.imul(W,Z)|0,b=b+Math.imul(W,de)|0,b=b+Math.imul(B,Z)|0,R=R+Math.imul(B,de)|0,S=S+Math.imul(We,we)|0,b=b+Math.imul(We,Me)|0,b=b+Math.imul(Ze,we)|0,R=R+Math.imul(Ze,Me)|0;var nt=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+(nt>>>26)|0,nt&=67108863,S=Math.imul(Q,Z),b=Math.imul(Q,de),b=b+Math.imul(le,Z)|0,R=Math.imul(le,de),S=S+Math.imul(W,we)|0,b=b+Math.imul(W,Me)|0,b=b+Math.imul(B,we)|0,R=R+Math.imul(B,Me)|0;var xe=(E+S|0)+((b&8191)<<13)|0;E=(R+(b>>>13)|0)+(xe>>>26)|0,xe&=67108863,S=Math.imul(Q,we),b=Math.imul(Q,Me),b=b+Math.imul(le,we)|0,R=Math.imul(le,Me);var _e=(E+S|0)+((b&8191)<<13)|0;return E=(R+(b>>>13)|0)+(_e>>>26)|0,_e&=67108863,N[0]=Ke,N[1]=$e,N[2]=Dt,N[3]=Xe,N[4]=Ct,N[5]=Pt,N[6]=At,N[7]=zt,N[8]=Bt,N[9]=Ut,N[10]=$t,N[11]=ht,N[12]=wt,N[13]=at,N[14]=mt,N[15]=ut,N[16]=nt,N[17]=xe,N[18]=_e,E!==0&&(N[19]=E,d.length++),d};Math.imul||(v=y);function T(j,w,m){m.negative=w.negative^j.negative,m.length=j.length+w.length;for(var d=0,p=0,_=0;_<m.length-1;_++){var N=p;p=0;for(var E=d&67108863,S=Math.min(_,w.length-1),b=Math.max(0,_-j.length+1);b<=S;b++){var R=_-b,P=j.words[R]|0,q=w.words[b]|0,ue=P*q,$=ue&67108863;N=N+(ue/67108864|0)|0,$=$+E|0,E=$&67108863,N=N+($>>>26)|0,p+=N>>>26,N&=67108863}m.words[_]=E,d=N,N=p}return d!==0?m.words[_]=d:m.length--,m.strip()}function k(j,w,m){var d=new C;return d.mulp(j,w,m)}s.prototype.mulTo=function(w,m){var d,p=this.length+w.length;return this.length===10&&w.length===10?d=v(this,w,m):p<63?d=y(this,w,m):p<1024?d=T(this,w,m):d=k(this,w,m),d};function C(j,w){this.x=j,this.y=w}C.prototype.makeRBT=function(w){for(var m=new Array(w),d=s.prototype._countBits(w)-1,p=0;p<w;p++)m[p]=this.revBin(p,d,w);return m},C.prototype.revBin=function(w,m,d){if(w===0||w===d-1)return w;for(var p=0,_=0;_<m;_++)p|=(w&1)<<m-_-1,w>>=1;return p},C.prototype.permute=function(w,m,d,p,_,N){for(var E=0;E<N;E++)p[E]=m[w[E]],_[E]=d[w[E]]},C.prototype.transform=function(w,m,d,p,_,N){this.permute(N,w,m,d,p,_);for(var E=1;E<_;E<<=1)for(var S=E<<1,b=Math.cos(2*Math.PI/S),R=Math.sin(2*Math.PI/S),P=0;P<_;P+=S)for(var q=b,ue=R,$=0;$<E;$++){var oe=d[P+$],ee=p[P+$],H=d[P+$+E],K=p[P+$+E],A=q*H-ue*K;K=q*K+ue*H,H=A,d[P+$]=oe+H,p[P+$]=ee+K,d[P+$+E]=oe-H,p[P+$+E]=ee-K,$!==S&&(A=b*q-R*ue,ue=b*ue+R*q,q=A)}},C.prototype.guessLen13b=function(w,m){var d=Math.max(m,w)|1,p=d&1,_=0;for(d=d/2|0;d;d=d>>>1)_++;return 1<<_+1+p},C.prototype.conjugate=function(w,m,d){if(!(d<=1))for(var p=0;p<d/2;p++){var _=w[p];w[p]=w[d-p-1],w[d-p-1]=_,_=m[p],m[p]=-m[d-p-1],m[d-p-1]=-_}},C.prototype.normalize13b=function(w,m){for(var d=0,p=0;p<m/2;p++){var _=Math.round(w[2*p+1]/m)*8192+Math.round(w[2*p]/m)+d;w[p]=_&67108863,_<67108864?d=0:d=_/67108864|0}return w},C.prototype.convert13b=function(w,m,d,p){for(var _=0,N=0;N<m;N++)_=_+(w[N]|0),d[2*N]=_&8191,_=_>>>13,d[2*N+1]=_&8191,_=_>>>13;for(N=2*m;N<p;++N)d[N]=0;n(_===0),n((_&-8192)===0)},C.prototype.stub=function(w){for(var m=new Array(w),d=0;d<w;d++)m[d]=0;return m},C.prototype.mulp=function(w,m,d){var p=2*this.guessLen13b(w.length,m.length),_=this.makeRBT(p),N=this.stub(p),E=new Array(p),S=new Array(p),b=new Array(p),R=new Array(p),P=new Array(p),q=new Array(p),ue=d.words;ue.length=p,this.convert13b(w.words,w.length,E,p),this.convert13b(m.words,m.length,R,p),this.transform(E,N,S,b,p,_),this.transform(R,N,P,q,p,_);for(var $=0;$<p;$++){var oe=S[$]*P[$]-b[$]*q[$];b[$]=S[$]*q[$]+b[$]*P[$],S[$]=oe}return this.conjugate(S,b,p),this.transform(S,b,ue,N,p,_),this.conjugate(ue,N,p),this.normalize13b(ue,p),d.negative=w.negative^m.negative,d.length=w.length+m.length,d.strip()},s.prototype.mul=function(w){var m=new s(null);return m.words=new Array(this.length+w.length),this.mulTo(w,m)},s.prototype.mulf=function(w){var m=new s(null);return m.words=new Array(this.length+w.length),k(this,w,m)},s.prototype.imul=function(w){return this.clone().mulTo(w,this)},s.prototype.imuln=function(w){n(typeof w=="number"),n(w<67108864);for(var m=0,d=0;d<this.length;d++){var p=(this.words[d]|0)*w,_=(p&67108863)+(m&67108863);m>>=26,m+=p/67108864|0,m+=_>>>26,this.words[d]=_&67108863}return m!==0&&(this.words[d]=m,this.length++),this},s.prototype.muln=function(w){return this.clone().imuln(w)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(w){var m=g(w);if(m.length===0)return new s(1);for(var d=this,p=0;p<m.length&&m[p]===0;p++,d=d.sqr());if(++p<m.length)for(var _=d.sqr();p<m.length;p++,_=_.sqr())m[p]!==0&&(d=d.mul(_));return d},s.prototype.iushln=function(w){n(typeof w=="number"&&w>=0);var m=w%26,d=(w-m)/26,p=67108863>>>26-m<<26-m,_;if(m!==0){var N=0;for(_=0;_<this.length;_++){var E=this.words[_]&p,S=(this.words[_]|0)-E<<m;this.words[_]=S|N,N=E>>>26-m}N&&(this.words[_]=N,this.length++)}if(d!==0){for(_=this.length-1;_>=0;_--)this.words[_+d]=this.words[_];for(_=0;_<d;_++)this.words[_]=0;this.length+=d}return this.strip()},s.prototype.ishln=function(w){return n(this.negative===0),this.iushln(w)},s.prototype.iushrn=function(w,m,d){n(typeof w=="number"&&w>=0);var p;m?p=(m-m%26)/26:p=0;var _=w%26,N=Math.min((w-_)/26,this.length),E=67108863^67108863>>>_<<_,S=d;if(p-=N,p=Math.max(0,p),S){for(var b=0;b<N;b++)S.words[b]=this.words[b];S.length=N}if(N!==0)if(this.length>N)for(this.length-=N,b=0;b<this.length;b++)this.words[b]=this.words[b+N];else this.words[0]=0,this.length=1;var R=0;for(b=this.length-1;b>=0&&(R!==0||b>=p);b--){var P=this.words[b]|0;this.words[b]=R<<26-_|P>>>_,R=P&E}return S&&R!==0&&(S.words[S.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(w,m,d){return n(this.negative===0),this.iushrn(w,m,d)},s.prototype.shln=function(w){return this.clone().ishln(w)},s.prototype.ushln=function(w){return this.clone().iushln(w)},s.prototype.shrn=function(w){return this.clone().ishrn(w)},s.prototype.ushrn=function(w){return this.clone().iushrn(w)},s.prototype.testn=function(w){n(typeof w=="number"&&w>=0);var m=w%26,d=(w-m)/26,p=1<<m;if(this.length<=d)return!1;var _=this.words[d];return!!(_&p)},s.prototype.imaskn=function(w){n(typeof w=="number"&&w>=0);var m=w%26,d=(w-m)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(m!==0&&d++,this.length=Math.min(d,this.length),m!==0){var p=67108863^67108863>>>m<<m;this.words[this.length-1]&=p}return this.strip()},s.prototype.maskn=function(w){return this.clone().imaskn(w)},s.prototype.iaddn=function(w){return n(typeof w=="number"),n(w<67108864),w<0?this.isubn(-w):this.negative!==0?this.length===1&&(this.words[0]|0)<w?(this.words[0]=w-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},s.prototype._iaddn=function(w){this.words[0]+=w;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},s.prototype.isubn=function(w){if(n(typeof w=="number"),n(w<67108864),w<0)return this.iaddn(-w);if(this.negative!==0)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},s.prototype.addn=function(w){return this.clone().iaddn(w)},s.prototype.subn=function(w){return this.clone().isubn(w)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(w,m,d){var p=w.length+d,_;this._expand(p);var N,E=0;for(_=0;_<w.length;_++){N=(this.words[_+d]|0)+E;var S=(w.words[_]|0)*m;N-=S&67108863,E=(N>>26)-(S/67108864|0),this.words[_+d]=N&67108863}for(;_<this.length-d;_++)N=(this.words[_+d]|0)+E,E=N>>26,this.words[_+d]=N&67108863;if(E===0)return this.strip();for(n(E===-1),E=0,_=0;_<this.length;_++)N=-(this.words[_]|0)+E,E=N>>26,this.words[_]=N&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(w,m){var d=this.length-w.length,p=this.clone(),_=w,N=_.words[_.length-1]|0,E=this._countBits(N);d=26-E,d!==0&&(_=_.ushln(d),p.iushln(d),N=_.words[_.length-1]|0);var S=p.length-_.length,b;if(m!=="mod"){b=new s(null),b.length=S+1,b.words=new Array(b.length);for(var R=0;R<b.length;R++)b.words[R]=0}var P=p.clone()._ishlnsubmul(_,1,S);P.negative===0&&(p=P,b&&(b.words[S]=1));for(var q=S-1;q>=0;q--){var ue=(p.words[_.length+q]|0)*67108864+(p.words[_.length+q-1]|0);for(ue=Math.min(ue/N|0,67108863),p._ishlnsubmul(_,ue,q);p.negative!==0;)ue--,p.negative=0,p._ishlnsubmul(_,1,q),p.isZero()||(p.negative^=1);b&&(b.words[q]=ue)}return b&&b.strip(),p.strip(),m!=="div"&&d!==0&&p.iushrn(d),{div:b||null,mod:p}},s.prototype.divmod=function(w,m,d){if(n(!w.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var p,_,N;return this.negative!==0&&w.negative===0?(N=this.neg().divmod(w,m),m!=="mod"&&(p=N.div.neg()),m!=="div"&&(_=N.mod.neg(),d&&_.negative!==0&&_.iadd(w)),{div:p,mod:_}):this.negative===0&&w.negative!==0?(N=this.divmod(w.neg(),m),m!=="mod"&&(p=N.div.neg()),{div:p,mod:N.mod}):this.negative&w.negative?(N=this.neg().divmod(w.neg(),m),m!=="div"&&(_=N.mod.neg(),d&&_.negative!==0&&_.isub(w)),{div:N.div,mod:_}):w.length>this.length||this.cmp(w)<0?{div:new s(0),mod:this}:w.length===1?m==="div"?{div:this.divn(w.words[0]),mod:null}:m==="mod"?{div:null,mod:new s(this.modn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new s(this.modn(w.words[0]))}:this._wordDiv(w,m)},s.prototype.div=function(w){return this.divmod(w,"div",!1).div},s.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},s.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},s.prototype.divRound=function(w){var m=this.divmod(w);if(m.mod.isZero())return m.div;var d=m.div.negative!==0?m.mod.isub(w):m.mod,p=w.ushrn(1),_=w.andln(1),N=d.cmp(p);return N<0||_===1&&N===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},s.prototype.modn=function(w){n(w<=67108863);for(var m=(1<<26)%w,d=0,p=this.length-1;p>=0;p--)d=(m*d+(this.words[p]|0))%w;return d},s.prototype.idivn=function(w){n(w<=67108863);for(var m=0,d=this.length-1;d>=0;d--){var p=(this.words[d]|0)+m*67108864;this.words[d]=p/w|0,m=p%w}return this.strip()},s.prototype.divn=function(w){return this.clone().idivn(w)},s.prototype.egcd=function(w){n(w.negative===0),n(!w.isZero());var m=this,d=w.clone();m.negative!==0?m=m.umod(w):m=m.clone();for(var p=new s(1),_=new s(0),N=new s(0),E=new s(1),S=0;m.isEven()&&d.isEven();)m.iushrn(1),d.iushrn(1),++S;for(var b=d.clone(),R=m.clone();!m.isZero();){for(var P=0,q=1;!(m.words[0]&q)&&P<26;++P,q<<=1);if(P>0)for(m.iushrn(P);P-- >0;)(p.isOdd()||_.isOdd())&&(p.iadd(b),_.isub(R)),p.iushrn(1),_.iushrn(1);for(var ue=0,$=1;!(d.words[0]&$)&&ue<26;++ue,$<<=1);if(ue>0)for(d.iushrn(ue);ue-- >0;)(N.isOdd()||E.isOdd())&&(N.iadd(b),E.isub(R)),N.iushrn(1),E.iushrn(1);m.cmp(d)>=0?(m.isub(d),p.isub(N),_.isub(E)):(d.isub(m),N.isub(p),E.isub(_))}return{a:N,b:E,gcd:d.iushln(S)}},s.prototype._invmp=function(w){n(w.negative===0),n(!w.isZero());var m=this,d=w.clone();m.negative!==0?m=m.umod(w):m=m.clone();for(var p=new s(1),_=new s(0),N=d.clone();m.cmpn(1)>0&&d.cmpn(1)>0;){for(var E=0,S=1;!(m.words[0]&S)&&E<26;++E,S<<=1);if(E>0)for(m.iushrn(E);E-- >0;)p.isOdd()&&p.iadd(N),p.iushrn(1);for(var b=0,R=1;!(d.words[0]&R)&&b<26;++b,R<<=1);if(b>0)for(d.iushrn(b);b-- >0;)_.isOdd()&&_.iadd(N),_.iushrn(1);m.cmp(d)>=0?(m.isub(d),p.isub(_)):(d.isub(m),_.isub(p))}var P;return m.cmpn(1)===0?P=p:P=_,P.cmpn(0)<0&&P.iadd(w),P},s.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var m=this.clone(),d=w.clone();m.negative=0,d.negative=0;for(var p=0;m.isEven()&&d.isEven();p++)m.iushrn(1),d.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;d.isEven();)d.iushrn(1);var _=m.cmp(d);if(_<0){var N=m;m=d,d=N}else if(_===0||d.cmpn(1)===0)break;m.isub(d)}while(!0);return d.iushln(p)},s.prototype.invm=function(w){return this.egcd(w).a.umod(w)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(w){return this.words[0]&w},s.prototype.bincn=function(w){n(typeof w=="number");var m=w%26,d=(w-m)/26,p=1<<m;if(this.length<=d)return this._expand(d+1),this.words[d]|=p,this;for(var _=p,N=d;_!==0&&N<this.length;N++){var E=this.words[N]|0;E+=_,_=E>>>26,E&=67108863,this.words[N]=E}return _!==0&&(this.words[N]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(w){var m=w<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this.strip();var d;if(this.length>1)d=1;else{m&&(w=-w),n(w<=67108863,"Number is too big");var p=this.words[0]|0;d=p===w?0:p<w?-1:1}return this.negative!==0?-d|0:d},s.prototype.cmp=function(w){if(this.negative!==0&&w.negative===0)return-1;if(this.negative===0&&w.negative!==0)return 1;var m=this.ucmp(w);return this.negative!==0?-m|0:m},s.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var m=0,d=this.length-1;d>=0;d--){var p=this.words[d]|0,_=w.words[d]|0;if(p!==_){p<_?m=-1:p>_&&(m=1);break}}return m},s.prototype.gtn=function(w){return this.cmpn(w)===1},s.prototype.gt=function(w){return this.cmp(w)===1},s.prototype.gten=function(w){return this.cmpn(w)>=0},s.prototype.gte=function(w){return this.cmp(w)>=0},s.prototype.ltn=function(w){return this.cmpn(w)===-1},s.prototype.lt=function(w){return this.cmp(w)===-1},s.prototype.lten=function(w){return this.cmpn(w)<=0},s.prototype.lte=function(w){return this.cmp(w)<=0},s.prototype.eqn=function(w){return this.cmpn(w)===0},s.prototype.eq=function(w){return this.cmp(w)===0},s.red=function(w){return new J(w)},s.prototype.toRed=function(w){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),w.convertTo(this)._forceRed(w)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(w){return this.red=w,this},s.prototype.forceRed=function(w){return n(!this.red,"Already a number in reduction context"),this._forceRed(w)},s.prototype.redAdd=function(w){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},s.prototype.redIAdd=function(w){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},s.prototype.redSub=function(w){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},s.prototype.redISub=function(w){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},s.prototype.redShl=function(w){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},s.prototype.redMul=function(w){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},s.prototype.redIMul=function(w){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(w){return n(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var I={k256:null,p224:null,p192:null,p25519:null};function D(j,w){this.name=j,this.p=new s(w,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var w=new s(null);return w.words=new Array(Math.ceil(this.n/13)),w},D.prototype.ireduce=function(w){var m=w,d;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),d=m.bitLength();while(d>this.n);var p=d<this.n?-1:m.ucmp(this.p);return p===0?(m.words[0]=0,m.length=1):p>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},D.prototype.split=function(w,m){w.iushrn(this.n,0,m)},D.prototype.imulK=function(w){return w.imul(this.k)};function O(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(O,D),O.prototype.split=function(w,m){for(var d=4194303,p=Math.min(w.length,9),_=0;_<p;_++)m.words[_]=w.words[_];if(m.length=p,w.length<=9){w.words[0]=0,w.length=1;return}var N=w.words[9];for(m.words[m.length++]=N&d,_=10;_<w.length;_++){var E=w.words[_]|0;w.words[_-10]=(E&d)<<4|N>>>22,N=E}N>>>=22,w.words[_-10]=N,N===0&&w.length>10?w.length-=10:w.length-=9},O.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var m=0,d=0;d<w.length;d++){var p=w.words[d]|0;m+=p*977,w.words[d]=m&67108863,m=p*64+(m/67108864|0)}return w.words[w.length-1]===0&&(w.length--,w.words[w.length-1]===0&&w.length--),w};function F(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(F,D);function x(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(x,D);function L(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(L,D),L.prototype.imulK=function(w){for(var m=0,d=0;d<w.length;d++){var p=(w.words[d]|0)*19+m,_=p&67108863;p>>>=26,w.words[d]=_,m=p}return m!==0&&(w.words[w.length++]=m),w},s._prime=function(w){if(I[w])return I[w];var m;if(w==="k256")m=new O;else if(w==="p224")m=new F;else if(w==="p192")m=new x;else if(w==="p25519")m=new L;else throw new Error("Unknown prime "+w);return I[w]=m,m};function J(j){if(typeof j=="string"){var w=s._prime(j);this.m=w.p,this.prime=w}else n(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}J.prototype._verify1=function(w){n(w.negative===0,"red works only with positives"),n(w.red,"red works only with red numbers")},J.prototype._verify2=function(w,m){n((w.negative|m.negative)===0,"red works only with positives"),n(w.red&&w.red===m.red,"red works only with red numbers")},J.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):w.umod(this.m)._forceRed(this)},J.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},J.prototype.add=function(w,m){this._verify2(w,m);var d=w.add(m);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},J.prototype.iadd=function(w,m){this._verify2(w,m);var d=w.iadd(m);return d.cmp(this.m)>=0&&d.isub(this.m),d},J.prototype.sub=function(w,m){this._verify2(w,m);var d=w.sub(m);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},J.prototype.isub=function(w,m){this._verify2(w,m);var d=w.isub(m);return d.cmpn(0)<0&&d.iadd(this.m),d},J.prototype.shl=function(w,m){return this._verify1(w),this.imod(w.ushln(m))},J.prototype.imul=function(w,m){return this._verify2(w,m),this.imod(w.imul(m))},J.prototype.mul=function(w,m){return this._verify2(w,m),this.imod(w.mul(m))},J.prototype.isqr=function(w){return this.imul(w,w.clone())},J.prototype.sqr=function(w){return this.mul(w,w)},J.prototype.sqrt=function(w){if(w.isZero())return w.clone();var m=this.m.andln(3);if(n(m%2===1),m===3){var d=this.m.add(new s(1)).iushrn(2);return this.pow(w,d)}for(var p=this.m.subn(1),_=0;!p.isZero()&&p.andln(1)===0;)_++,p.iushrn(1);n(!p.isZero());var N=new s(1).toRed(this),E=N.redNeg(),S=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new s(2*b*b).toRed(this);this.pow(b,S).cmp(E)!==0;)b.redIAdd(E);for(var R=this.pow(b,p),P=this.pow(w,p.addn(1).iushrn(1)),q=this.pow(w,p),ue=_;q.cmp(N)!==0;){for(var $=q,oe=0;$.cmp(N)!==0;oe++)$=$.redSqr();n(oe<ue);var ee=this.pow(R,new s(1).iushln(ue-oe-1));P=P.redMul(ee),R=ee.redSqr(),q=q.redMul(R),ue=oe}return P},J.prototype.invm=function(w){var m=w._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},J.prototype.pow=function(w,m){if(m.isZero())return new s(1).toRed(this);if(m.cmpn(1)===0)return w.clone();var d=4,p=new Array(1<<d);p[0]=new s(1).toRed(this),p[1]=w;for(var _=2;_<p.length;_++)p[_]=this.mul(p[_-1],w);var N=p[0],E=0,S=0,b=m.bitLength()%26;for(b===0&&(b=26),_=m.length-1;_>=0;_--){for(var R=m.words[_],P=b-1;P>=0;P--){var q=R>>P&1;if(N!==p[0]&&(N=this.sqr(N)),q===0&&E===0){S=0;continue}E<<=1,E|=q,S++,!(S!==d&&(_!==0||P!==0))&&(N=this.mul(N,p[E]),S=0,E=0)}b=26}return N},J.prototype.convertTo=function(w){var m=w.umod(this.m);return m===w?m.clone():m},J.prototype.convertFrom=function(w){var m=w.clone();return m.red=null,m},s.mont=function(w){return new ne(w)};function ne(j){J.call(this,j),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ne,J),ne.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},ne.prototype.convertFrom=function(w){var m=this.imod(w.mul(this.rinv));return m.red=null,m},ne.prototype.imul=function(w,m){if(w.isZero()||m.isZero())return w.words[0]=0,w.length=1,w;var d=w.imul(m),p=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=d.isub(p).iushrn(this.shift),N=_;return _.cmp(this.m)>=0?N=_.isub(this.m):_.cmpn(0)<0&&(N=_.iadd(this.m)),N._forceRed(this)},ne.prototype.mul=function(w,m){if(w.isZero()||m.isZero())return new s(0)._forceRed(this);var d=w.mul(m),p=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=d.isub(p).iushrn(this.shift),N=_;return _.cmp(this.m)>=0?N=_.isub(this.m):_.cmpn(0)<0&&(N=_.iadd(this.m)),N._forceRed(this)},ne.prototype.invm=function(w){var m=this.imod(w._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,ui)})(rx);var ec=rx.exports,nx={};(function(t){var e=t;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var a=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)a[c]=s[c]|0;return a}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var c=0;c<s.length;c+=2)a.push(parseInt(s[c]+s[c+1],16))}else for(var c=0;c<s.length;c++){var l=s.charCodeAt(c),u=l>>8,f=l&255;u?a.push(u,f):a.push(f)}return a}e.toArray=r;function n(s){return s.length===1?"0"+s:s}e.zero2=n;function i(s){for(var o="",a=0;a<s.length;a++)o+=n(s[a].toString(16));return o}e.toHex=i,e.encode=function(o,a){return a==="hex"?i(o):o}})(nx);(function(t){var e=t,r=ec,n=yu,i=nx;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function s(u,f,h){var g=new Array(Math.max(u.bitLength(),h)+1),y;for(y=0;y<g.length;y+=1)g[y]=0;var v=1<<f+1,T=u.clone();for(y=0;y<g.length;y++){var k,C=T.andln(v-1);T.isOdd()?(C>(v>>1)-1?k=(v>>1)-C:k=C,T.isubn(k)):k=0,g[y]=k,T.iushrn(1)}return g}e.getNAF=s;function o(u,f){var h=[[],[]];u=u.clone(),f=f.clone();for(var g=0,y=0,v;u.cmpn(-g)>0||f.cmpn(-y)>0;){var T=u.andln(3)+g&3,k=f.andln(3)+y&3;T===3&&(T=-1),k===3&&(k=-1);var C;T&1?(v=u.andln(7)+g&7,(v===3||v===5)&&k===2?C=-T:C=T):C=0,h[0].push(C);var I;k&1?(v=f.andln(7)+y&7,(v===3||v===5)&&T===2?I=-k:I=k):I=0,h[1].push(I),2*g===C+1&&(g=1-g),2*y===I+1&&(y=1-y),u.iushrn(1),f.iushrn(1)}return h}e.getJSF=o;function a(u,f,h){var g="_"+f;u.prototype[f]=function(){return this[g]!==void 0?this[g]:this[g]=h.call(this)}}e.cachedProperty=a;function c(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=c;function l(u){return new r(u,"hex","le")}e.intFromLE=l})(Is);var ix={exports:{}},aw;ix.exports=function(e){return aw||(aw=new Cc(null)),aw.generate(e)};function Cc(t){this.rand=t}ix.exports.Rand=Cc;Cc.prototype.generate=function(e){return this._rand(e)};Cc.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Cc.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Cc.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Cc.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var A5=tx();if(typeof A5.randomBytes!="function")throw new Error("Not supported");Cc.prototype._rand=function(e){return A5.randomBytes(e)}}catch{}var y7=ix.exports,sx={},pl=ec,Ip=Is,i1=Ip.getNAF,g$=Ip.getJSF,s1=Ip.assert;function ol(t,e){this.type=t,this.p=new pl(e.p,16),this.red=e.prime?pl.red(e.prime):pl.mont(this.p),this.zero=new pl(0).toRed(this.red),this.one=new pl(1).toRed(this.red),this.two=new pl(2).toRed(this.red),this.n=e.n&&new pl(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var pm=ol;ol.prototype.point=function(){throw new Error("Not implemented")};ol.prototype.validate=function(){throw new Error("Not implemented")};ol.prototype._fixedNafMul=function(e,r){s1(e.precomputed);var n=e._getDoubles(),i=i1(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)c=o[a],c===h?f=f.mixedAdd(n.points[a]):c===-h&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};ol.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=i1(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];s1(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};ol.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,h;for(u=0;u<i;u++){h=r[u];var g=h._getNAFPoints(e);o[u]=g.wnd,a[u]=g.points}for(u=i-1;u>=1;u-=2){var y=u-1,v=u;if(o[y]!==1||o[v]!==1){c[y]=i1(n[y],o[y],this._bitLength),c[v]=i1(n[v],o[v],this._bitLength),l=Math.max(c[y].length,l),l=Math.max(c[v].length,l);continue}var T=[r[y],null,null,r[v]];r[y].y.cmp(r[v].y)===0?(T[1]=r[y].add(r[v]),T[2]=r[y].toJ().mixedAdd(r[v].neg())):r[y].y.cmp(r[v].y.redNeg())===0?(T[1]=r[y].toJ().mixedAdd(r[v]),T[2]=r[y].add(r[v].neg())):(T[1]=r[y].toJ().mixedAdd(r[v]),T[2]=r[y].toJ().mixedAdd(r[v].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],C=g$(n[y],n[v]);for(l=Math.max(C[0].length,l),c[y]=new Array(l),c[v]=new Array(l),f=0;f<l;f++){var I=C[0][f]|0,D=C[1][f]|0;c[y][f]=k[(I+1)*3+(D+1)],c[v][f]=0,a[y]=T}}var O=this.jpoint(null,null,null),F=this._wnafT4;for(u=l;u>=0;u--){for(var x=0;u>=0;){var L=!0;for(f=0;f<i;f++)F[f]=c[f][u]|0,F[f]!==0&&(L=!1);if(!L)break;x++,u--}if(u>=0&&x++,O=O.dblp(x),u<0)break;for(f=0;f<i;f++){var J=F[f];J!==0&&(J>0?h=a[f][J-1>>1]:J<0&&(h=a[f][-J-1>>1].neg()),h.type==="affine"?O=O.mixedAdd(h):O=O.add(h))}}for(u=0;u<i;u++)a[u]=null;return s?O:O.toP()};function Zs(t,e){this.curve=t,this.type=e,this.precomputed=null}ol.BasePoint=Zs;Zs.prototype.eq=function(){throw new Error("Not implemented")};Zs.prototype.validate=function(){return this.curve.validate(this)};ol.prototype.decodePoint=function(e,r){e=Ip.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?s1(e[e.length-1]%2===0):e[0]===7&&s1(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Zs.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Zs.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Zs.prototype.encode=function(e,r){return Ip.encode(this._encode(r),e)};Zs.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Zs.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Zs.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Zs.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Zs.prototype._getBeta=function(){return null};Zs.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var m$=Is,bn=ec,ox=fm,td=pm,y$=m$.assert;function Qs(t){td.call(this,"short",t),this.a=new bn(t.a,16).toRed(this.red),this.b=new bn(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ox(Qs,td);var w$=Qs;Qs.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new bn(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new bn(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],y$(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new bn(a.a,16),b:new bn(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Qs.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:bn.mont(e),n=new bn(2).toRed(r).redInvm(),i=n.redNeg(),s=new bn(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Qs.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new bn(1),o=new bn(0),a=new bn(0),c=new bn(1),l,u,f,h,g,y,v,T=0,k,C;n.cmpn(0)!==0;){var I=i.div(n);k=i.sub(I.mul(n)),C=a.sub(I.mul(s));var D=c.sub(I.mul(o));if(!f&&k.cmp(r)<0)l=v.neg(),u=s,f=k.neg(),h=C;else if(f&&++T===2)break;v=k,i=n,n=k,a=s,s=C,c=o,o=D}g=k.neg(),y=C;var O=f.sqr().add(h.sqr()),F=g.sqr().add(y.sqr());return F.cmp(O)>=0&&(g=l,y=u),f.negative&&(f=f.neg(),h=h.neg()),g.negative&&(g=g.neg(),y=y.neg()),[{a:f,b:h},{a:g,b:y}]};Qs.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),h=l.add(u).neg();return{k1:f,k2:h}};Qs.prototype.pointFromX=function(e,r){e=new bn(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Qs.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Qs.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function Qn(t,e,r,n){td.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new bn(e,16),this.y=new bn(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}ox(Qn,td.BasePoint);Qs.prototype.point=function(e,r,n){return new Qn(this,e,r,n)};Qs.prototype.pointFromJSON=function(e,r){return Qn.fromJSON(this,e,r)};Qn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Qn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Qn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Qn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Qn.prototype.isInfinity=function(){return this.inf};Qn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Qn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Qn.prototype.getX=function(){return this.x.fromRed()};Qn.prototype.getY=function(){return this.y.fromRed()};Qn.prototype.mul=function(e){return e=new bn(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Qn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Qn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Qn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Qn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Qn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function di(t,e,r,n){td.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new bn(0)):(this.x=new bn(e,16),this.y=new bn(r,16),this.z=new bn(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ox(di,td.BasePoint);Qs.prototype.jpoint=function(e,r,n){return new di(this,e,r,n)};di.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};di.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};di.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),h=i.redMul(u),g=l.redSqr().redIAdd(f).redISub(h).redISub(h),y=l.redMul(h.redISub(g)).redISub(o.redMul(f)),v=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(g,y,v)};di.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),h=c.redSqr().redIAdd(u).redISub(f).redISub(f),g=c.redMul(f.redISub(h)).redISub(s.redMul(u)),y=this.z.redMul(a);return this.curve.jpoint(h,g,y)};di.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),h=u.redSqr(),g=h.redSqr(),y=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),v=o.redMul(h),T=y.redSqr().redISub(v.redAdd(v)),k=v.redISub(T),C=y.redMul(k);C=C.redIAdd(C).redISub(g);var I=u.redMul(c);r+1<e&&(l=l.redMul(g)),o=T,c=I,u=C}return this.curve.jpoint(o,u.redMul(s),c)};di.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};di.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),y=this.x.redAdd(h).redSqr().redISub(f).redISub(g);y=y.redIAdd(y);var v=f.redAdd(f).redIAdd(f),T=v.redSqr(),k=g.redIAdd(g);k=k.redIAdd(k),k=k.redIAdd(k),e=T.redISub(y).redISub(y),r=v.redMul(y.redISub(e)).redISub(k),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};di.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),y=this.x.redSub(f).redMul(this.x.redAdd(f));y=y.redAdd(y).redIAdd(y);var v=g.redIAdd(g);v=v.redIAdd(v);var T=v.redAdd(v);e=y.redSqr().redISub(T),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var k=h.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),r=y.redMul(v.redISub(e)).redISub(k)}return this.curve.jpoint(e,r,n)};di.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(f),g=a.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var y=c.redMul(h).redISub(g),v=n.redAdd(n).redMul(i);return this.curve.jpoint(f,y,v)};di.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.x.redMul(c).redISub(f);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var y=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,g,y)};di.prototype.mul=function(e,r){return e=new bn(e,r),this.curve._wnafMul(this,e)};di.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};di.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};di.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};di.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var of=ec,w7=fm,gm=pm,b$=Is;function rd(t){gm.call(this,"mont",t),this.a=new of(t.a,16).toRed(this.red),this.b=new of(t.b,16).toRed(this.red),this.i4=new of(4).toRed(this.red).redInvm(),this.two=new of(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}w7(rd,gm);var v$=rd;rd.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function Zn(t,e,r){gm.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new of(e,16),this.z=new of(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}w7(Zn,gm.BasePoint);rd.prototype.decodePoint=function(e,r){return this.point(b$.toArray(e,r),1)};rd.prototype.point=function(e,r){return new Zn(this,e,r)};rd.prototype.pointFromJSON=function(e){return Zn.fromJSON(this,e)};Zn.prototype.precompute=function(){};Zn.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Zn.fromJSON=function(e,r){return new Zn(e,r[0],r[1]||e.one)};Zn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Zn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Zn.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),a=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};Zn.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Zn.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(n),c=s.redMul(i),l=r.z.redMul(a.redAdd(c).redSqr()),u=r.x.redMul(a.redISub(c).redSqr());return this.curve.point(l,u)};Zn.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};Zn.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Zn.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Zn.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Zn.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Zn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var x$=Is,Ua=ec,b7=fm,mm=pm,_$=x$.assert;function ga(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,mm.call(this,"edwards",t),this.a=new Ua(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Ua(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Ua(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),_$(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}b7(ga,mm);var S$=ga;ga.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};ga.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};ga.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};ga.prototype.pointFromX=function(e,r){e=new Ua(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var c=a.fromRed().isOdd();return(r&&!c||!r&&c)&&(a=a.redNeg()),this.point(e,a)};ga.prototype.pointFromY=function(e,r){e=new Ua(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)};ga.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function Vr(t,e,r,n,i){mm.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Ua(e,16),this.y=new Ua(r,16),this.z=n?new Ua(n,16):this.curve.one,this.t=i&&new Ua(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}b7(Vr,mm.BasePoint);ga.prototype.pointFromJSON=function(e){return Vr.fromJSON(this,e)};ga.prototype.point=function(e,r,n,i){return new Vr(this,e,r,n,i)};Vr.fromJSON=function(e,r){return new Vr(e,r[0],r[1],r[2])};Vr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Vr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Vr.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=i.redAdd(r),a=o.redSub(n),c=i.redSub(r),l=s.redMul(a),u=o.redMul(c),f=s.redMul(c),h=a.redMul(o);return this.curve.point(l,u,h,f)};Vr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,a,c,l;if(this.curve.twisted){a=this.curve._mulA(r);var u=a.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),s=u.redMul(a.redSub(n)),o=u.redSqr().redSub(u).redSub(u)):(c=this.z.redSqr(),l=u.redSub(c).redISub(c),i=e.redSub(r).redISub(n).redMul(l),s=u.redMul(a.redSub(n)),o=u.redMul(l))}else a=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),l=a.redSub(c).redSub(c),i=this.curve._mulC(e.redISub(a)).redMul(l),s=this.curve._mulC(a).redMul(r.redISub(n)),o=a.redMul(l);return this.curve.point(i,s,o)};Vr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Vr.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),a=s.redSub(i),c=s.redAdd(i),l=n.redAdd(r),u=o.redMul(a),f=c.redMul(l),h=o.redMul(l),g=a.redMul(c);return this.curve.point(u,f,g,h)};Vr.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),a=n.redSub(o),c=n.redAdd(o),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),u=r.redMul(a).redMul(l),f,h;return this.curve.twisted?(f=r.redMul(c).redMul(s.redSub(this.curve._mulA(i))),h=a.redMul(c)):(f=r.redMul(c).redMul(s.redSub(i)),h=this.curve._mulC(a).redMul(c)),this.curve.point(u,f,h)};Vr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Vr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Vr.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Vr.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Vr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Vr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Vr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Vr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Vr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Vr.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Vr.prototype.toP=Vr.prototype.normalize;Vr.prototype.mixedAdd=Vr.prototype.add;(function(t){var e=t;e.base=pm,e.short=w$,e.mont=v$,e.edwards=S$})(sx);var ym={},cw,I5;function E$(){return I5||(I5=1,cw={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),cw}(function(t){var e=t,r=Ap,n=sx,i=Is,s=i.assert;function o(l){l.type==="short"?this.curve=new n.short(l):l.type==="edwards"?this.curve=new n.edwards(l):this.curve=new n.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function a(l,u){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var f=new o(u);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:f}),f}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=E$()}catch{c=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(ym);var A$=Ap,ql=nx,v7=yu;function Xc(t){if(!(this instanceof Xc))return new Xc(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ql.toArray(t.entropy,t.entropyEnc||"hex"),r=ql.toArray(t.nonce,t.nonceEnc||"hex"),n=ql.toArray(t.pers,t.persEnc||"hex");v7(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var I$=Xc;Xc.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Xc.prototype._hmac=function(){return new A$.hmac(this.hash,this.K)};Xc.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Xc.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=ql.toArray(e,r),n=ql.toArray(n,i),v7(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Xc.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=ql.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,ql.encode(o,r)};var k$=ec,C$=Is,Mv=C$.assert;function Ri(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var R$=Ri;Ri.fromPublic=function(e,r,n){return r instanceof Ri?r:new Ri(e,{pub:r,pubEnc:n})};Ri.fromPrivate=function(e,r,n){return r instanceof Ri?r:new Ri(e,{priv:r,privEnc:n})};Ri.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ri.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ri.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ri.prototype._importPrivate=function(e,r){this.priv=new k$(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ri.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Mv(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Mv(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ri.prototype.derive=function(e){return e.validate()||Mv(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ri.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ri.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Ri.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var o1=ec,ax=Is,P$=ax.assert;function wm(t,e){if(t instanceof wm)return t;this._importDER(t,e)||(P$(t.r&&t.s,"Signature without r or s"),this.r=new o1(t.r,16),this.s=new o1(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var T$=wm;function N$(){this.place=0}function lw(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function k5(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}wm.prototype._importDER=function(e,r){e=ax.toArray(e,r);var n=new N$;if(e[n.place++]!==48)return!1;var i=lw(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=lw(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=lw(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new o1(o),this.s=new o1(c),this.recoveryParam=null,!0};function uw(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}wm.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=k5(r),n=k5(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];uw(i,r.length),i=i.concat(r),i.push(2),uw(i,n.length);var s=i.concat(n),o=[48];return uw(o,s.length),o=o.concat(s),ax.encode(o,e)};var Kl=ec,x7=I$,M$=Is,fw=ym,O$=y7,_7=M$.assert,cx=R$,bm=T$;function Js(t){if(!(this instanceof Js))return new Js(t);typeof t=="string"&&(_7(Object.prototype.hasOwnProperty.call(fw,t),"Unknown curve "+t),t=fw[t]),t instanceof fw.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var L$=Js;Js.prototype.keyPair=function(e){return new cx(this,e)};Js.prototype.keyFromPrivate=function(e,r){return cx.fromPrivate(this,e,r)};Js.prototype.keyFromPublic=function(e,r){return cx.fromPublic(this,e,r)};Js.prototype.genKeyPair=function(e){e||(e={});for(var r=new x7({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||O$(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Kl(2));;){var s=new Kl(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Js.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Js.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Kl(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),c=new x7({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new Kl(1)),u=0;;u++){var f=i.k?i.k(u):new Kl(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(l)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var g=h.getX(),y=g.umod(this.n);if(y.cmpn(0)!==0){var v=f.invm(this.n).mul(y.mul(r.getPrivate()).iadd(e));if(v=v.umod(this.n),v.cmpn(0)!==0){var T=(h.getY().isOdd()?1:0)|(g.cmp(y)!==0?2:0);return i.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),T^=1),new bm({r:y,s:v,recoveryParam:T})}}}}}};Js.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Kl(e,16)),n=this.keyFromPublic(n,i),r=new bm(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),c=a.mul(e).umod(this.n),l=a.mul(s).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(s)):(u=this.g.mulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(s)===0)};Js.prototype.recoverPubKey=function(t,e,r,n){_7((3&r)===r,"The recovery param is more than two bits"),e=new bm(e,n);var i=this.n,s=new Kl(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),h=a.mul(u).umod(i);return this.g.mulAdd(f,o,h)};Js.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new bm(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var kp=Is,S7=kp.assert,C5=kp.parseBytes,nd=kp.cachedProperty;function Jn(t,e){this.eddsa=t,this._secret=C5(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=C5(e.pub)}Jn.fromPublic=function(e,r){return r instanceof Jn?r:new Jn(e,{pub:r})};Jn.fromSecret=function(e,r){return r instanceof Jn?r:new Jn(e,{secret:r})};Jn.prototype.secret=function(){return this._secret};nd(Jn,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});nd(Jn,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});nd(Jn,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});nd(Jn,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});nd(Jn,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});nd(Jn,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Jn.prototype.sign=function(e){return S7(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Jn.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Jn.prototype.getSecret=function(e){return S7(this._secret,"KeyPair is public only"),kp.encode(this.secret(),e)};Jn.prototype.getPublic=function(e){return kp.encode(this.pubBytes(),e)};var D$=Jn,B$=ec,vm=Is,R5=vm.assert,xm=vm.cachedProperty,$$=vm.parseBytes;function wu(t,e){this.eddsa=t,typeof e!="object"&&(e=$$(e)),Array.isArray(e)&&(R5(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),R5(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof B$&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}xm(wu,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});xm(wu,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});xm(wu,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});xm(wu,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});wu.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};wu.prototype.toHex=function(){return vm.encode(this.toBytes(),"hex").toUpperCase()};var U$=wu,F$=Ap,j$=ym,Uf=Is,z$=Uf.assert,E7=Uf.parseBytes,A7=D$,P5=U$;function os(t){if(z$(t==="ed25519","only tested with ed25519 so far"),!(this instanceof os))return new os(t);t=j$[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=F$.sha512}var q$=os;os.prototype.sign=function(e,r){e=E7(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),o=this.encodePoint(s),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),c=i.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:c,Rencoded:o})};os.prototype.verify=function(e,r,n){if(e=E7(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),o=this.g.mul(r.S()),a=r.R().add(i.pub().mul(s));return a.eq(o)};os.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Uf.intFromLE(e.digest()).umod(this.curve.n)};os.prototype.keyFromPublic=function(e){return A7.fromPublic(this,e)};os.prototype.keyFromSecret=function(e){return A7.fromSecret(this,e)};os.prototype.makeSignature=function(e){return e instanceof P5?e:new P5(this,e)};os.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};os.prototype.decodePoint=function(e){e=Uf.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=Uf.intFromLE(n);return this.curve.pointFromY(s,i)};os.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};os.prototype.decodeInt=function(e){return Uf.intFromLE(e)};os.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=p$.version,e.utils=Is,e.rand=y7,e.curve=sx,e.curves=ym,e.ec=L$,e.eddsa=q$})(hm);const Hr={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},_c={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};Hr.MAINNET+"",Hr.TESTNET+"",Hr.CYAN+"",Hr.AQUA+"",Hr.CELESTE+"";Hr.AQUA+"",_c.SAPPHIRE_MAINNET,Hr.CELESTE+"",_c.SAPPHIRE_MAINNET,Hr.CYAN+"",_c.SAPPHIRE_MAINNET,Hr.MAINNET+"",_c.SAPPHIRE_MAINNET,Hr.TESTNET+"",_c.SAPPHIRE_DEVNET;Hr.MAINNET+"",Hr.TESTNET+"",Hr.CYAN+"",Hr.AQUA+"",Hr.CELESTE+"";const K$={[_c.SAPPHIRE_MAINNET]:"https://signer.web3auth.io",[_c.SAPPHIRE_DEVNET]:"https://signer.web3auth.io",[Hr.MAINNET]:"https://signer.web3auth.io",[Hr.TESTNET]:"https://signer.web3auth.io",[Hr.CYAN]:"https://signer-polygon.web3auth.io",[Hr.AQUA]:"https://signer-polygon.web3auth.io",[Hr.CELESTE]:"https://signer-polygon.web3auth.io"};Hr.MAINNET+"",Hr.TESTNET+"",Hr.CYAN+"",Hr.AQUA+"",Hr.CELESTE+"";const W$="https://session.web3auth.io";var H$=function(e){return V$(e)&&!G$(e)};function V$(t){return!!t&&typeof t=="object"}function G$(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||X$(t)}var Y$=typeof Symbol=="function"&&Symbol.for,J$=Y$?Symbol.for("react.element"):60103;function X$(t){return t.$$typeof===J$}function Z$(t){return Array.isArray(t)?[]:{}}function Xh(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ff(Z$(t),t,e):t}function Q$(t,e,r){return t.concat(e).map(function(n){return Xh(n,r)})}function eU(t,e){if(!e.customMerge)return Ff;var r=e.customMerge(t);return typeof r=="function"?r:Ff}function tU(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function T5(t){return Object.keys(t).concat(tU(t))}function I7(t,e){try{return e in t}catch{return!1}}function rU(t,e){return I7(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function nU(t,e,r){var n={};return r.isMergeableObject(t)&&T5(t).forEach(function(i){n[i]=Xh(t[i],r)}),T5(e).forEach(function(i){rU(t,i)||(I7(t,i)&&r.isMergeableObject(e[i])?n[i]=eU(i,r)(t[i],e[i],r):n[i]=Xh(e[i],r))}),n}function Ff(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||Q$,r.isMergeableObject=r.isMergeableObject||H$,r.cloneUnlessOtherwiseSpecified=Xh;var n=Array.isArray(e),i=Array.isArray(t),s=n===i;return s?n?r.arrayMerge(t,e,r):nU(t,e,r):Xh(e,r)}Ff.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,i){return Ff(n,i,r)},{})};var iU=Ff,sU=iU;const Io=An(sU),Zh=am.getLogger("http-helpers");Zh.setLevel(V3.levels.INFO);let oU="torus-default";const aU="x-api-key";function cU(t){Zh.setLevel(t)}async function _m(t,e){let r=null;try{r=new URL(t)}catch{}return fetch(t,e)}function Sm(){const t={};return t[aU]=oU,t}function Em(t){Zh.info(`Response: ${t.status} ${t.statusText}`),Zh.info(`Url: ${t.url}`)}function lU(t){const e=t.headers.get("x-web3-correlation-id");e&&Zh.info(`Request tracing with traceID = ${e}`)}const uU=async(t,e)=>{let r=null;try{const n=new Promise((s,o)=>{r=setTimeout(()=>{o(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,n]);return r!=null&&clearTimeout(r),i}catch(n){throw r!=null&&clearTimeout(r),n}},Am=async(t,e={},r={})=>{const n={mode:"cors",headers:{}};r.useAPIKey&&(n.headers=Ie(Ie({},n.headers),Sm())),e.method="GET";const i=Io(n,e),s=await _m(t,i);if(s.ok){const o=s.headers.get("content-type");return o!=null&&o.includes("application/json")?s.json():s.text()}throw Em(s),s},Cp=(t,e={},r={},n={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=Ie(Ie({},i.headers),Sm())),r.method="POST";const s=Io(i,r);return n.isUrlEncodedData?(s.body=e,s.headers["Content-Type"]==="application/json; charset=utf-8"&&delete s.headers["Content-Type"]):s.body=JSON.stringify(e),uU(n.timeout||6e4,_m(t,s).then(o=>{if(n.logTracingHeader&&lU(o),o.ok){const a=o.headers.get("content-type");return a!=null&&a.includes("application/json")?o.json():o.text()}throw Em(o),o}))},fU=async(t,e={},r={},n={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=Ie(Ie({},i.headers),Sm())),r.method="PATCH";const s=Io(i,r);n.isUrlEncodedData?(s.body=e,s.headers["Content-Type"]==="application/json; charset=utf-8"&&delete s.headers["Content-Type"]):s.body=JSON.stringify(e);const o=await _m(t,s);if(o.ok){const a=o.headers.get("content-type");return a!=null&&a.includes("application/json")?o.json():o.text()}throw Em(o),o},dU=async(t,e={},r={},n={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=Ie(Ie({},i.headers),Sm())),r.method="PUT";const s=Io(i,r);n.isUrlEncodedData?(s.body=e,s.headers["Content-Type"]==="application/json; charset=utf-8"&&delete s.headers["Content-Type"]):s.body=JSON.stringify(e);const o=await _m(t,s);if(o.ok){const a=o.headers.get("content-type");return a!=null&&a.includes("application/json")?o.json():o.text()}throw Em(o),o};class hU{constructor(){Pe(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw new Error("Session id is required");this.sessionId=this.sessionId.padStart(64,"0")}request({method:e="GET",url:r,data:n={},headers:i={}}){const s={headers:i};switch(e){case"GET":return Am(r,s);case"POST":return Cp(r,n,s);case"PUT":return dU(r,n,s);case"PATCH":return fU(r,n,s)}throw new Error("Invalid method type")}}const jf=new hm.ec("secp256k1"),ws=globalThis.crypto||globalThis.msCrypto||{},Sc=ws.subtle||ws.webkitSubtle,pU=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),gU=Buffer.alloc(32,0);function kn(t,e){if(!t)throw new Error(e||"Assertion failed")}function mU(t){return Buffer.isBuffer(t)&&t.length===32}function id(t){return mU(t)?t.compare(gU)>0&&t.compare(pU)<0:!1}function yU(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function vh(t){if(typeof ws.getRandomValues>"u")return Buffer.from(ws.randomBytes(t));const e=new Uint8Array(t);return ws.getRandomValues(e),Buffer.from(e)}async function k7(t){if(!ws.createHash){const n=await Sc.digest("SHA-512",t);return new Uint8Array(n)}const r=ws.createHash("sha512").update(t).digest();return new Uint8Array(r)}function C7(t){return async function(e,r,n){if(Sc&&Sc[t]&&Sc.importKey){const i={name:"AES-CBC"},s=await Sc.importKey("raw",r,i,!1,[t]),o={name:"AES-CBC",iv:e},a=await Sc[t](o,s,n);return Buffer.from(new Uint8Array(a))}else if(t==="encrypt"&&ws.createCipheriv){const i=ws.createCipheriv("aes-256-cbc",r,e),s=i.update(n),o=i.final();return Buffer.concat([s,o])}else if(t==="decrypt"&&ws.createDecipheriv){const i=ws.createDecipheriv("aes-256-cbc",r,e),s=i.update(n),o=i.final();return Buffer.concat([s,o])}throw new Error(`Unsupported operation: ${t}`)}}const wU=C7("encrypt"),bU=C7("decrypt");async function R7(t,e){if(!ws.createHmac){const i={name:"HMAC",hash:{name:"SHA-256"}},s=await Sc.importKey("raw",new Uint8Array(t),i,!1,["sign","verify"]),o=await Sc.sign("HMAC",s,e);return Buffer.from(new Uint8Array(o))}const r=ws.createHmac("sha256",Buffer.from(t));return r.update(e),r.digest()}async function vU(t,e,r){const n=await R7(t,e);return yU(n,r)}const xU=function(){let t=vh(32);for(;!id(t);)t=vh(32);return t},Rc=function(t){return kn(t.length===32,"Bad private key"),kn(id(t),"Bad private key"),Buffer.from(jf.keyFromPrivate(t).getPublic("array"))},sg=async function(t,e){return kn(t.length===32,"Bad private key"),kn(id(t),"Bad private key"),kn(e.length>0,"Message should not be empty"),kn(e.length<=32,"Message is too long"),Buffer.from(jf.sign(e,t,{canonical:!0}).toDER())},_U=async function(t,e){kn(Buffer.isBuffer(t),"Bad private key"),kn(Buffer.isBuffer(e),"Bad public key"),kn(t.length===32,"Bad private key"),kn(id(t),"Bad private key"),kn(e.length===65||e.length===33,"Bad public key"),e.length===65&&kn(e[0]===4,"Bad public key"),e.length===33&&kn(e[0]===2||e[0]===3,"Bad public key");const r=jf.keyFromPrivate(t),n=jf.keyFromPublic(e),i=r.derive(n.getPublic());return Buffer.from(i.toArray())},P7=_U,SU=async function(t,e){kn(Buffer.isBuffer(t),"Bad private key"),kn(Buffer.isBuffer(e),"Bad public key"),kn(t.length===32,"Bad private key"),kn(id(t),"Bad private key"),kn(e.length===65||e.length===33,"Bad public key"),e.length===65&&kn(e[0]===4,"Bad public key"),e.length===33&&kn(e[0]===2||e[0]===3,"Bad public key");const r=jf.keyFromPrivate(t),n=jf.keyFromPublic(e),i=r.derive(n.getPublic());return Buffer.from(i.toString(16,64),"hex")},EU=async function(t,e,r){r=r||{};let n=r.ephemPrivateKey||vh(32);for(;!id(n);)n=r.ephemPrivateKey||vh(32);const i=Rc(n),s=await P7(n,t),o=await k7(s),a=r.iv||vh(16),c=o.slice(0,32),l=o.slice(32),f=await wU(a,Buffer.from(c),e),h=Buffer.concat([a,i,f]),g=await R7(Buffer.from(l),h);return{iv:a,ephemPublicKey:i,ciphertext:f,mac:g}},T7=async function(t,e,r){const n=r??!1,s=await(n?SU:P7)(t,e.ephemPublicKey),o=await k7(s),a=o.slice(0,32),c=o.slice(32),l=Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]),u=await vU(Buffer.from(c),l,e.mac);if(!u&&n===!1)return T7(t,e,!0);if(!u&&n===!0)throw new Error("bad MAC after trying padded");const f=await bU(e.iv,Buffer.from(a),e.ciphertext);return Buffer.from(new Uint8Array(f))};var v0={},dw,N5;function AU(){if(N5)return dw;N5=1;var t,e,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},n;function i(g){throw{name:"SyntaxError",message:g,at:t,text:n}}function s(g){return g&&g!==e&&i("Expected '"+g+"' instead of '"+e+"'"),e=n.charAt(t),t+=1,e}function o(){var g,y="";for(e==="-"&&(y="-",s("-"));e>="0"&&e<="9";)y+=e,s();if(e===".")for(y+=".";s()&&e>="0"&&e<="9";)y+=e;if(e==="e"||e==="E")for(y+=e,s(),(e==="-"||e==="+")&&(y+=e,s());e>="0"&&e<="9";)y+=e,s();return g=Number(y),isFinite(g)||i("Bad number"),g}function a(){var g,y,v="",T;if(e==='"')for(;s();){if(e==='"')return s(),v;if(e==="\\")if(s(),e==="u"){for(T=0,y=0;y<4&&(g=parseInt(s(),16),!!isFinite(g));y+=1)T=T*16+g;v+=String.fromCharCode(T)}else if(typeof r[e]=="string")v+=r[e];else break;else v+=e}i("Bad string")}function c(){for(;e&&e<=" ";)s()}function l(){switch(e){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null;default:i("Unexpected '"+e+"'")}}function u(){var g=[];if(e==="["){if(s("["),c(),e==="]")return s("]"),g;for(;e;){if(g.push(h()),c(),e==="]")return s("]"),g;s(","),c()}}i("Bad array")}function f(){var g,y={};if(e==="{"){if(s("{"),c(),e==="}")return s("}"),y;for(;e;){if(g=a(),c(),s(":"),Object.prototype.hasOwnProperty.call(y,g)&&i('Duplicate key "'+g+'"'),y[g]=h(),c(),e==="}")return s("}"),y;s(","),c()}}i("Bad object")}function h(){switch(c(),e){case"{":return f();case"[":return u();case'"':return a();case"-":return o();default:return e>="0"&&e<="9"?o():l()}}return dw=function(g,y){var v;return n=g,t=0,e=" ",v=h(),c(),e&&i("Syntax error"),typeof y=="function"?function T(k,C){var I,D,O=k[C];if(O&&typeof O=="object")for(I in h)Object.prototype.hasOwnProperty.call(O,I)&&(D=T(O,I),typeof D>"u"?delete O[I]:O[I]=D);return y.call(k,C,O)}({"":v},""):v},dw}var hw,M5;function IU(){if(M5)return hw;M5=1;var t=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,r,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;function s(a){return t.lastIndex=0,t.test(a)?'"'+a.replace(t,function(c){var l=n[c];return typeof l=="string"?l:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function o(a,c){var l,u,f,h,g=e,y,v=c[a];switch(v&&typeof v=="object"&&typeof v.toJSON=="function"&&(v=v.toJSON(a)),typeof i=="function"&&(v=i.call(c,a,v)),typeof v){case"string":return s(v);case"number":return isFinite(v)?String(v):"null";case"boolean":case"null":return String(v);case"object":if(!v)return"null";if(e+=r,y=[],Object.prototype.toString.apply(v)==="[object Array]"){for(h=v.length,l=0;l<h;l+=1)y[l]=o(l,v)||"null";return f=y.length===0?"[]":e?`[
`+e+y.join(`,
`+e)+`
`+g+"]":"["+y.join(",")+"]",e=g,f}if(i&&typeof i=="object")for(h=i.length,l=0;l<h;l+=1)u=i[l],typeof u=="string"&&(f=o(u,v),f&&y.push(s(u)+(e?": ":":")+f));else for(u in v)Object.prototype.hasOwnProperty.call(v,u)&&(f=o(u,v),f&&y.push(s(u)+(e?": ":":")+f));return f=y.length===0?"{}":e?`{
`+e+y.join(`,
`+e)+`
`+g+"}":"{"+y.join(",")+"}",e=g,f}}return hw=function(a,c,l){var u;if(e="",r="",typeof l=="number")for(u=0;u<l;u+=1)r+=" ";else typeof l=="string"&&(r=l);if(i=c,c&&typeof c!="function"&&(typeof c!="object"||typeof c.length!="number"))throw new Error("JSON.stringify");return o("",{"":a})},hw}var O5;function kU(){return O5||(O5=1,v0.parse=AU(),v0.stringify=IU()),v0}var CU={}.toString,RU=Array.isArray||function(t){return CU.call(t)=="[object Array]"},L5=Object.prototype.toString,N7=function(e){var r=L5.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&L5.call(e.callee)==="[object Function]"),n},pw,D5;function PU(){if(D5)return pw;D5=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=N7,i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(h){var g=h.constructor;return g&&g.prototype===h},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if(typeof window>"u")return!1;for(var h in window)try{if(!l["$"+h]&&e.call(window,h)&&window[h]!==null&&typeof window[h]=="object")try{c(window[h])}catch{return!0}}catch{return!0}return!1}(),f=function(h){if(typeof window>"u"||!u)return c(h);try{return c(h)}catch{return!1}};t=function(g){var y=g!==null&&typeof g=="object",v=r.call(g)==="[object Function]",T=n(g),k=y&&r.call(g)==="[object String]",C=[];if(!y&&!v&&!T)throw new TypeError("Object.keys called on a non-object");var I=o&&v;if(k&&g.length>0&&!e.call(g,0))for(var D=0;D<g.length;++D)C.push(String(D));if(T&&g.length>0)for(var O=0;O<g.length;++O)C.push(String(O));else for(var F in g)!(I&&F==="prototype")&&e.call(g,F)&&C.push(String(F));if(s)for(var x=f(g),L=0;L<a.length;++L)!(x&&a[L]==="constructor")&&e.call(g,a[L])&&C.push(a[L]);return C}}return pw=t,pw}var TU=Array.prototype.slice,NU=N7,B5=Object.keys,og=B5?function(e){return B5(e)}:PU(),$5=Object.keys;og.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return NU(n)?$5(TU.call(n)):$5(n)})}else Object.keys=og;return Object.keys||og};var MU=og,M7={exports:{}},OU="Function.prototype.bind called on incompatible ",LU=Object.prototype.toString,DU=Math.max,BU="[object Function]",U5=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},$U=function(e,r){for(var n=[],i=r,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},UU=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},FU=function(e){var r=this;if(typeof r!="function"||LU.apply(r)!==BU)throw new TypeError(OU+r);for(var n=$U(arguments,1),i,s=function(){if(this instanceof i){var u=r.apply(this,U5(n,arguments));return Object(u)===u?u:this}return r.apply(e,U5(n,arguments))},o=DU(0,r.length-n.length),a=[],c=0;c<o;c++)a[c]="$"+c;if(i=Function("binder","return function ("+UU(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},jU=FU,lx=Function.prototype.bind||jU,zU=Error,qU=EvalError,KU=RangeError,WU=ReferenceError,O7=SyntaxError,Im=TypeError,HU=URIError,VU=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},F5=typeof Symbol<"u"&&Symbol,GU=VU,YU=function(){return typeof F5!="function"||typeof Symbol!="function"||typeof F5("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:GU()},gw={__proto__:null,foo:{}},JU=Object,XU=function(){return{__proto__:gw}.foo===gw.foo&&!(gw instanceof JU)},ZU=Function.prototype.call,QU=Object.prototype.hasOwnProperty,eF=lx,tF=eF.call(ZU,QU),pr,rF=zU,nF=qU,iF=KU,sF=WU,zf=O7,yf=Im,oF=HU,L7=Function,mw=function(t){try{return L7('"use strict"; return ('+t+").constructor;")()}catch{}},Wl=Object.getOwnPropertyDescriptor;if(Wl)try{Wl({},"")}catch{Wl=null}var yw=function(){throw new yf},aF=Wl?function(){try{return arguments.callee,yw}catch{try{return Wl(arguments,"callee").get}catch{return yw}}}():yw,Mu=YU(),cF=XU(),qn=Object.getPrototypeOf||(cF?function(t){return t.__proto__}:null),ju={},lF=typeof Uint8Array>"u"||!qn?pr:qn(Uint8Array),Hl={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?pr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?pr:ArrayBuffer,"%ArrayIteratorPrototype%":Mu&&qn?qn([][Symbol.iterator]()):pr,"%AsyncFromSyncIteratorPrototype%":pr,"%AsyncFunction%":ju,"%AsyncGenerator%":ju,"%AsyncGeneratorFunction%":ju,"%AsyncIteratorPrototype%":ju,"%Atomics%":typeof Atomics>"u"?pr:Atomics,"%BigInt%":typeof BigInt>"u"?pr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?pr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?pr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?pr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":rF,"%eval%":eval,"%EvalError%":nF,"%Float32Array%":typeof Float32Array>"u"?pr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?pr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?pr:FinalizationRegistry,"%Function%":L7,"%GeneratorFunction%":ju,"%Int8Array%":typeof Int8Array>"u"?pr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?pr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?pr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Mu&&qn?qn(qn([][Symbol.iterator]())):pr,"%JSON%":typeof JSON=="object"?JSON:pr,"%Map%":typeof Map>"u"?pr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Mu||!qn?pr:qn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?pr:Promise,"%Proxy%":typeof Proxy>"u"?pr:Proxy,"%RangeError%":iF,"%ReferenceError%":sF,"%Reflect%":typeof Reflect>"u"?pr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?pr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Mu||!qn?pr:qn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?pr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Mu&&qn?qn(""[Symbol.iterator]()):pr,"%Symbol%":Mu?Symbol:pr,"%SyntaxError%":zf,"%ThrowTypeError%":aF,"%TypedArray%":lF,"%TypeError%":yf,"%Uint8Array%":typeof Uint8Array>"u"?pr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?pr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?pr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?pr:Uint32Array,"%URIError%":oF,"%WeakMap%":typeof WeakMap>"u"?pr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?pr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?pr:WeakSet};if(qn)try{null.error}catch(t){var uF=qn(qn(t));Hl["%Error.prototype%"]=uF}var fF=function t(e){var r;if(e==="%AsyncFunction%")r=mw("async function () {}");else if(e==="%GeneratorFunction%")r=mw("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=mw("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&qn&&(r=qn(i.prototype))}return Hl[e]=r,r},j5={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Rp=lx,a1=tF,dF=Rp.call(Function.call,Array.prototype.concat),hF=Rp.call(Function.apply,Array.prototype.splice),z5=Rp.call(Function.call,String.prototype.replace),c1=Rp.call(Function.call,String.prototype.slice),pF=Rp.call(Function.call,RegExp.prototype.exec),gF=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,mF=/\\(\\)?/g,yF=function(e){var r=c1(e,0,1),n=c1(e,-1);if(r==="%"&&n!=="%")throw new zf("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new zf("invalid intrinsic syntax, expected opening `%`");var i=[];return z5(e,gF,function(s,o,a,c){i[i.length]=a?z5(c,mF,"$1"):o||s}),i},wF=function(e,r){var n=e,i;if(a1(j5,n)&&(i=j5[n],n="%"+i[0]+"%"),a1(Hl,n)){var s=Hl[n];if(s===ju&&(s=fF(n)),typeof s>"u"&&!r)throw new yf("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new zf("intrinsic "+e+" does not exist!")},Pp=function(e,r){if(typeof e!="string"||e.length===0)throw new yf("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new yf('"allowMissing" argument must be a boolean');if(pF(/^%?[^%]*%?$/,e)===null)throw new zf("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=yF(e),i=n.length>0?n[0]:"",s=wF("%"+i+"%",r),o=s.name,a=s.value,c=!1,l=s.alias;l&&(i=l[0],hF(n,dF([0,1],l)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],g=c1(h,0,1),y=c1(h,-1);if((g==='"'||g==="'"||g==="`"||y==='"'||y==="'"||y==="`")&&g!==y)throw new zf("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(c=!0),i+="."+h,o="%"+i+"%",a1(Hl,o))a=Hl[o];else if(a!=null){if(!(h in a)){if(!r)throw new yf("base intrinsic for "+e+" exists, but the property is not available.");return}if(Wl&&u+1>=n.length){var v=Wl(a,h);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?a=v.get:a=a[h]}else f=a1(a,h),a=a[h];f&&!c&&(Hl[o]=a)}}return a},ww,q5;function ux(){if(q5)return ww;q5=1;var t=Pp,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return ww=e,ww}var bF=Pp,ag=bF("%Object.getOwnPropertyDescriptor%",!0);if(ag)try{ag([],"length")}catch{ag=null}var D7=ag,K5=ux(),vF=O7,Ou=Im,W5=D7,xF=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Ou("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Ou("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ou("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ou("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ou("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ou("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!W5&&W5(e,r);if(K5)K5(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:s===null&&c?c.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new vF("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Ov=ux(),B7=function(){return!!Ov};B7.hasArrayLengthDefineBug=function(){if(!Ov)return null;try{return Ov([],"length",{value:1}).length!==1}catch{return!0}};var _F=B7,SF=Pp,H5=xF,EF=_F(),V5=D7,G5=Im,AF=SF("%Math.floor%"),IF=function(e,r){if(typeof e!="function")throw new G5("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||AF(r)!==r)throw new G5("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&V5){var o=V5(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(EF?H5(e,"length",r,!0,!0):H5(e,"length",r)),e};(function(t){var e=lx,r=Pp,n=IF,i=Im,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),c=ux(),l=r("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var g=a(e,o,arguments);return n(g,1+l(0,h.length-(arguments.length-1)),!0)};var u=function(){return a(e,s,arguments)};c?c(t.exports,"apply",{value:u}):t.exports.apply=u})(M7);var $7=M7.exports,U7=Pp,F7=$7,kF=F7(U7("String.prototype.indexOf")),CF=function(e,r){var n=U7(e,!!r);return typeof n=="function"&&kF(e,".prototype.")>-1?F7(n):n},x0=(typeof JSON<"u"?JSON:kU()).stringify,RF=RU,PF=MU,TF=$7,j7=CF,Y5=j7("Array.prototype.join"),bw=j7("Array.prototype.push"),J5=function(e,r){for(var n="",i=0;i<e;i+=1)n+=r;return n},NF=function(t,e,r){return r},MF=function(e){var r=arguments.length>1?arguments[1]:void 0,n=r&&r.space||"";typeof n=="number"&&(n=J5(n," "));var i=!!r&&typeof r.cycles=="boolean"&&r.cycles,s=r&&r.replacer?TF(r.replacer):NF,o=typeof r=="function"?r:r&&r.cmp,a=o&&function(l){var u=o.length>2&&function(h){return l[h]};return function(f,h){return o({key:f,value:l[f]},{key:h,value:l[h]},u?{__proto__:null,get:u}:void 0)}},c=[];return function l(u,f,h,g){var y=n?`
`+J5(g,n):"",v=n?": ":":";if(h&&h.toJSON&&typeof h.toJSON=="function"&&(h=h.toJSON()),h=s(u,f,h),h!==void 0){if(typeof h!="object"||h===null)return x0(h);if(RF(h)){for(var I=[],T=0;T<h.length;T++){var k=l(h,T,h[T],g+1)||x0(null);bw(I,y+n+k)}return"["+Y5(I,",")+y+"]"}if(c.indexOf(h)!==-1){if(i)return x0("__cycle__");throw new TypeError("Converting circular structure to JSON")}else bw(c,h);for(var C=PF(h).sort(a&&a(h)),I=[],T=0;T<C.length;T++){var f=C[T],D=l(h,f,h[f],g+1);if(D){var O=x0(f)+v+D;bw(I,y+n+O)}}return c.splice(c.indexOf(h),1),"{"+Y5(I,",")+y+"}"}}({"":e},"",e,0)};const z7=An(MF);function Qh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function OF(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function LF(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function km(t,...e){if(!LF(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function DF(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Qh(t.outputLen),Qh(t.blockLen)}function Lv(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function q7(t,e){km(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const BF={number:Qh,bool:OF,bytes:km,hash:DF,exists:Lv,output:q7},_0=BigInt(2**32-1),X5=BigInt(32);function $F(t,e=!1){return e?{h:Number(t&_0),l:Number(t>>X5&_0)}:{h:Number(t>>X5&_0)|0,l:Number(t&_0)|0}}function UF(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=$F(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const FF=(t,e,r)=>t<<r|e>>>32-r,jF=(t,e,r)=>e<<r|t>>>32-r,zF=(t,e,r)=>e<<r-32|t>>>64-r,qF=(t,e,r)=>t<<r-32|e>>>64-r;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const KF=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Z5=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,WF=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function Q5(t){for(let e=0;e<t.length;e++)t[e]=WF(t[e])}function HF(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function K7(t){return typeof t=="string"&&(t=HF(t)),km(t),t}class VF{clone(){return this._cloneInto()}}function GF(t){const e=n=>t().update(K7(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}const W7=[],H7=[],V7=[],YF=BigInt(0),Ld=BigInt(1),JF=BigInt(2),XF=BigInt(7),ZF=BigInt(256),QF=BigInt(113);for(let t=0,e=Ld,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],W7.push(2*(5*n+r)),H7.push((t+1)*(t+2)/2%64);let i=YF;for(let s=0;s<7;s++)e=(e<<Ld^(e>>XF)*QF)%ZF,e&JF&&(i^=Ld<<(Ld<<BigInt(s))-Ld);V7.push(i)}const[ej,tj]=UF(V7,!0),eS=(t,e,r)=>r>32?zF(t,e,r):FF(t,e,r),tS=(t,e,r)=>r>32?qF(t,e,r):jF(t,e,r);function rj(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=eS(l,u,1)^r[a],h=tS(l,u,1)^r[a+1];for(let g=0;g<50;g+=10)t[o+g]^=f,t[o+g+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=H7[o],c=eS(i,s,a),l=tS(i,s,a),u=W7[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=ej[n],t[1]^=tj[n]}r.fill(0)}let nj=class G7 extends VF{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Qh(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=KF(this.state)}keccak(){Z5||Q5(this.state32),rj(this.state32,this.rounds),Z5||Q5(this.state32),this.posOut=0,this.pos=0}update(e){Lv(this);const{blockLen:r,state:n}=this;e=K7(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Lv(this,!1),km(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Qh(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(q7(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new G7(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const ij=(t,e,r)=>GF(()=>new nj(e,t,r)),rS=ij(1,136,256/8);function sj(t){return e=>(BF.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof uh<"u"&&typeof uh.require=="function"&&uh.require.bind(uh);return{node:e&&!t?e("crypto"):void 0,web:t}})();const oj=(()=>{const t=sj(rS);return t.create=rS.create,t})();function wf(t){return Buffer.from(oj(t))}const aj=new hm.ec("secp256k1");function cj(t){return{iv:Buffer.from(t.iv,"hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey,"hex"),ciphertext:Buffer.from(t.ciphertext,"hex"),mac:Buffer.from(t.mac,"hex")}}function lj(t){return{iv:Buffer.from(t.iv).toString("hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey).toString("hex"),ciphertext:Buffer.from(t.ciphertext).toString("hex"),mac:Buffer.from(t.mac).toString("hex")}}async function cg(t,e){const r=JSON.stringify(e),n=Buffer.from(r,"utf-8"),i=await EU(Rc(Buffer.from(t,"hex")),n),s=lj(i);return JSON.stringify(s)}async function Y7(t,e){const r=JSON.parse(e),n=cj(r),i=aj.keyFromPrivate(t),o=(await T7(Buffer.from(i.getPrivate().toString("hex",64),"hex"),n)).toString("utf-8");return JSON.parse(o)}const uj=86400;class S0 extends hU{constructor({sessionServerBaseUrl:e,sessionNamespace:r,sessionTime:n,sessionId:i,allowedOrigin:s}={}){super(),Pe(this,"sessionServerBaseUrl","https://session.web3auth.io"),Pe(this,"sessionNamespace",void 0),Pe(this,"allowedOrigin",void 0),Pe(this,"sessionTime",uj),Pe(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),r&&(this.sessionNamespace=r),n&&(this.sessionTime=n),i&&(this.sessionId=i.padStart(64,"0")),s&&(this.allowedOrigin=s||"*")}static generateRandomSessionKey(){return xU().toString("hex").padStart(64,"0")}async createSession(e,r={}){super.checkSessionParams();const n=Buffer.from(this.sessionId,"hex"),i=Rc(n).toString("hex"),s=await cg(this.sessionId,e),o=(await sg(n,wf(Buffer.from(s,"utf8")))).toString("hex"),a={key:i,data:s,signature:o,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:a,headers:r}),this.sessionId}async authorizeSession({headers:e}={headers:{}}){super.checkSessionParams();const n={key:Rc(Buffer.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},i=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:n,headers:e});if(!i.message)throw new Error("Session Expired or Invalid public key");const s=await Y7(this.sessionId,i.message);if(s.error)throw new Error("There was an error decrypting data.");return s}async updateSession(e,r={}){super.checkSessionParams();const n=Buffer.from(this.sessionId,"hex"),i=Rc(n).toString("hex"),s=await cg(this.sessionId,e),o=(await sg(n,wf(Buffer.from(s,"utf8")))).toString("hex"),a={key:i,data:s,signature:o,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:a,headers:r})}async invalidateSession(e={}){super.checkSessionParams();const r=Buffer.from(this.sessionId,"hex"),n=Rc(r).toString("hex"),i=await cg(this.sessionId,{}),s=(await sg(r,wf(Buffer.from(i,"utf8")))).toString("hex"),o={key:n,data:i,signature:s,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:o,headers:e}),this.sessionId="",!0}}class J7 extends Tk{constructor(e,r){super(r),Pe(this,"code",void 0),Pe(this,"message",void 0),this.code=e,this.message=r||"",Object.defineProperty(this,"name",{value:"AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class Fa extends J7{constructor(e,r){super(e,r),Object.defineProperty(this,"name",{value:"InitializationError"})}static fromCode(e,r=""){return new Fa(e,`${Fa.messages[e]}, ${r}`)}static invalidParams(e=""){return Fa.fromCode(5001,e)}static notInitialized(e=""){return Fa.fromCode(5002,e)}}Pe(Fa,"messages",{5e3:"Custom",5001:"Invalid constructor params",5002:"SDK not initialized. please call init first"});class zr extends J7{constructor(e,r){super(e,r),Object.defineProperty(this,"name",{value:"LoginError"})}static fromCode(e,r=""){return new zr(e,`${zr.messages[e]}, ${r}`)}static invalidLoginParams(e=""){return zr.fromCode(5111,e)}static userNotLoggedIn(e=""){return zr.fromCode(5112,e)}static popupClosed(e=""){return zr.fromCode(5113,e)}static loginFailed(e=""){return zr.fromCode(5114,e)}static popupBlocked(e=""){return zr.fromCode(5115,e)}static mfaAlreadyEnabled(e=""){return zr.fromCode(5116,e)}static mfaNotEnabled(e=""){return zr.fromCode(5117,e)}}Pe(zr,"messages",{5e3:"Custom",5111:"Invalid login params",5112:"User not logged in.",5113:"login popup has been closed by the user",5114:"Login failed",5115:"Popup was blocked. Please call this function as soon as user clicks button or use redirect mode",5116:"MFA already enabled",5117:"MFA not yet enabled. Please call `enableMFA` first"});const l1=V3.getLogger("auth");l1.setLevel("error");const ua=Object.create(null);ua.open="0";ua.close="1";ua.ping="2";ua.pong="3";ua.message="4";ua.upgrade="5";ua.noop="6";const lg=Object.create(null);Object.keys(ua).forEach(t=>{lg[ua[t]]=t});const Dv={type:"error",data:"parser error"},X7=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Z7=typeof ArrayBuffer=="function",Q7=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,fx=({type:t,data:e},r,n)=>X7&&e instanceof Blob?r?n(e):nS(e,n):Z7&&(e instanceof ArrayBuffer||Q7(e))?r?n(e):nS(new Blob([e]),n):n(ua[t]+(e||"")),nS=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function iS(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let vw;function fj(t,e){if(X7&&t.data instanceof Blob)return t.data.arrayBuffer().then(iS).then(e);if(Z7&&(t.data instanceof ArrayBuffer||Q7(t.data)))return e(iS(t.data));fx(t,!1,r=>{vw||(vw=new TextEncoder),e(vw.encode(r))})}const sS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<sS.length;t++)sh[sS.charCodeAt(t)]=t;const dj=t=>{let e=t.length*.75,r=t.length,n,i=0,s,o,a,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const l=new ArrayBuffer(e),u=new Uint8Array(l);for(n=0;n<r;n+=4)s=sh[t.charCodeAt(n)],o=sh[t.charCodeAt(n+1)],a=sh[t.charCodeAt(n+2)],c=sh[t.charCodeAt(n+3)],u[i++]=s<<2|o>>4,u[i++]=(o&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l},hj=typeof ArrayBuffer=="function",dx=(t,e)=>{if(typeof t!="string")return{type:"message",data:e9(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:pj(t.substring(1),e)}:lg[r]?t.length>1?{type:lg[r],data:t.substring(1)}:{type:lg[r]}:Dv},pj=(t,e)=>{if(hj){const r=dj(t);return e9(r,e)}else return{base64:!0,data:t}},e9=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},t9="",gj=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((s,o)=>{fx(s,!1,a=>{n[o]=a,++i===r&&e(n.join(t9))})})},mj=(t,e)=>{const r=t.split(t9),n=[];for(let i=0;i<r.length;i++){const s=dx(r[i],e);if(n.push(s),s.type==="error")break}return n};function yj(){return new TransformStream({transform(t,e){fj(t,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}let xw;function E0(t){return t.reduce((e,r)=>e+r.length,0)}function A0(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function wj(t,e){xw||(xw=new TextDecoder);const r=[];let n=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(r.push(o);;){if(n===0){if(E0(r)<1)break;const c=A0(r,1);s=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(E0(r)<2)break;const c=A0(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(E0(r)<8)break;const c=A0(r,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(Dv);break}i=u*Math.pow(2,32)+l.getUint32(4),n=3}else{if(E0(r)<i)break;const c=A0(r,i);a.enqueue(dx(s?c:xw.decode(c),e)),n=0}if(i===0||i>t){a.enqueue(Dv);break}}}})}const r9=4;function Pn(t){if(t)return bj(t)}function bj(t){for(var e in Pn.prototype)t[e]=Pn.prototype[e];return t}Pn.prototype.on=Pn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Pn.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Pn.prototype.off=Pn.prototype.removeListener=Pn.prototype.removeAllListeners=Pn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Pn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};Pn.prototype.emitReserved=Pn.prototype.emit;Pn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Pn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Cm=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),zs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),vj="arraybuffer";function n9(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const xj=zs.setTimeout,_j=zs.clearTimeout;function Rm(t,e){e.useNativeTimers?(t.setTimeoutFn=xj.bind(zs),t.clearTimeoutFn=_j.bind(zs)):(t.setTimeoutFn=zs.setTimeout.bind(zs),t.clearTimeoutFn=zs.clearTimeout.bind(zs))}const Sj=1.33;function Ej(t){return typeof t=="string"?Aj(t):Math.ceil((t.byteLength||t.size)*Sj)}function Aj(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function i9(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Ij(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function kj(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let s=r[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class Cj extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class hx extends Pn{constructor(e){super(),this.writable=!1,Rm(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new Cj(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=dx(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=Ij(e);return r.length?"?"+r:""}}class Rj extends hx{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};mj(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,gj(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=i9()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let s9=!1;try{s9=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Pj=s9;function Tj(){}class Nj extends Rj{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}let bf=class ug extends Pn{constructor(e,r,n){super(),this.createRequest=e,Rm(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=n9(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=ug.requestsCount++,ug.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Tj,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ug.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};bf.requestsCount=0;bf.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",oS);else if(typeof addEventListener=="function"){const t="onpagehide"in zs?"pagehide":"unload";addEventListener(t,oS,!1)}}function oS(){for(let t in bf.requests)bf.requests.hasOwnProperty(t)&&bf.requests[t].abort()}const Mj=function(){const t=o9({xdomain:!1});return t&&t.responseType!==null}();class Oj extends Nj{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=Mj&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new bf(o9,this.uri(),e)}}function o9(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Pj))return new XMLHttpRequest}catch{}if(!e)try{return new zs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const a9=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Lj extends hx{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=a9?{}:n9(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;fx(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{}i&&Cm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=i9()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const _w=zs.WebSocket||zs.MozWebSocket;class Dj extends Lj{createSocket(e,r,n){return a9?new _w(e,r,n):r?new _w(e,r):new _w(e)}doWrite(e,r){this.ws.send(r)}}class Bj extends hx{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=wj(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=yj();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{n.read().then(({done:a,value:c})=>{a||(this.onPacket(c),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;this._writer.write(n).then(()=>{i&&Cm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const $j={websocket:Dj,webtransport:Bj,polling:Oj},Uj=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Fj=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Bv(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=Uj.exec(t||""),s={},o=14;for(;o--;)s[Fj[o]]=i[o]||"";return r!=-1&&n!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=jj(s,s.path),s.queryKey=zj(s,s.query),s}function jj(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function zj(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}const $v=typeof addEventListener=="function"&&typeof removeEventListener=="function",fg=[];$v&&addEventListener("offline",()=>{fg.forEach(t=>t())},!1);class jc extends Pn{constructor(e,r){if(super(),this.binaryType=vj,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=Bv(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Bv(r.host).host);Rm(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=kj(this.opts.query)),$v&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},fg.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=r9,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&jc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",jc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=Ej(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Cm(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:e,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(jc.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),$v&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=fg.indexOf(this._offlineEventListener);n!==-1&&fg.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}jc.protocol=r9;class qj extends jc{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;jc.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;jc.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function s(){n||(n=!0,u(),r.close(),r=null)}const o=f=>{const h=new Error("probe error: "+f);h.transport=r.name,s(),this.emitReserved("upgradeError",h)};function a(){o("transport closed")}function c(){o("socket closed")}function l(f){r&&f.name!==r.name&&s()}const u=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};r.once("open",i),r.once("error",o),r.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let Kj=class extends qj{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>$j[i]).filter(i=>!!i)),super(e,n)}};function Wj(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=Bv(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}const Hj=typeof ArrayBuffer=="function",Vj=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,c9=Object.prototype.toString,Gj=typeof Blob=="function"||typeof Blob<"u"&&c9.call(Blob)==="[object BlobConstructor]",Yj=typeof File=="function"||typeof File<"u"&&c9.call(File)==="[object FileConstructor]";function px(t){return Hj&&(t instanceof ArrayBuffer||Vj(t))||Gj&&t instanceof Blob||Yj&&t instanceof File}function dg(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(dg(t[r]))return!0;return!1}if(px(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return dg(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&dg(t[r]))return!0;return!1}function Jj(t){const e=[],r=t.data,n=t;return n.data=Uv(r,e),n.attachments=e.length,{packet:n,buffers:e}}function Uv(t,e){if(!t)return t;if(px(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=Uv(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=Uv(t[n],e));return r}return t}function Xj(t,e){return t.data=Fv(t.data,e),delete t.attachments,t}function Fv(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Fv(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Fv(t[r],e));return t}const Zj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Qj=5;var vr;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(vr||(vr={}));let ez=class{constructor(e){this.replacer=e}encode(e){return(e.type===vr.EVENT||e.type===vr.ACK)&&dg(e)?this.encodeAsBinary({type:e.type===vr.EVENT?vr.BINARY_EVENT:vr.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===vr.BINARY_EVENT||e.type===vr.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=Jj(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}};function aS(t){return Object.prototype.toString.call(t)==="[object Object]"}let tz=class l9 extends Pn{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===vr.BINARY_EVENT;n||r.type===vr.BINARY_ACK?(r.type=n?vr.EVENT:vr.ACK,this.reconstructor=new rz(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(px(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(vr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===vr.BINARY_EVENT||n.type===vr.BINARY_ACK){const s=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(s,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(s,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const s=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(s,r+1))}if(e.charAt(++r)){const s=this.tryParse(e.substr(r));if(l9.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case vr.CONNECT:return aS(r);case vr.DISCONNECT:return r===void 0;case vr.CONNECT_ERROR:return typeof r=="string"||aS(r);case vr.EVENT:case vr.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Zj.indexOf(r[0])===-1);case vr.ACK:case vr.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};class rz{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=Xj(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const nz=Object.freeze(Object.defineProperty({__proto__:null,Decoder:tz,Encoder:ez,get PacketType(){return vr},protocol:Qj},Symbol.toStringTag,{value:"Module"}));function yo(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const iz=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class u9 extends Pn{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[yo(e,"open",this.onopen.bind(this)),yo(e,"packet",this.onpacket.bind(this)),yo(e,"error",this.onerror.bind(this)),yo(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,i,s;if(iz.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:vr.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,f=r.pop();this._registerAckCallback(u,f),o.id=u}const a=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),r.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,i)=>{const s=(o,a)=>o?i(o):n(a);s.withError=!0,r.push(s),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:vr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case vr.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case vr.EVENT:case vr.BINARY_EVENT:this.onevent(e);break;case vr.ACK:case vr.BINARY_ACK:this.onack(e);break;case vr.DISCONNECT:this.ondisconnect();break;case vr.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:vr.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:vr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function sd(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}sd.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0};sd.prototype.reset=function(){this.attempts=0};sd.prototype.setMin=function(t){this.ms=t};sd.prototype.setMax=function(t){this.max=t};sd.prototype.setJitter=function(t){this.jitter=t};class jv extends Pn{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Rm(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new sd({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||nz;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Kj(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=yo(r,"open",function(){n.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=yo(r,"error",s);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),r.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(yo(e,"ping",this.onping.bind(this)),yo(e,"data",this.ondata.bind(this)),yo(e,"error",this.onerror.bind(this)),yo(e,"close",this.onclose.bind(this)),yo(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){Cm(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new u9(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Dd={};function hg(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=Wj(t,e.path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=Dd[i]&&s in Dd[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return a?c=new jv(n,e):(Dd[i]||(Dd[i]=new jv(n,e)),c=Dd[i]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}Object.assign(hg,{Manager:jv,Socket:u9,io:hg,connect:hg});var xi=am.getLogger("SecurePubSub");class sz{constructor(e={}){Pe(this,"options",void 0),Pe(this,"SOCKET_CONN",null),this.options=e,this.options.timeout=e.timeout||600,this.options.serverUrl=e.serverUrl||"https://session.web3auth.io",this.options.enableLogging=e.enableLogging||!1,this.options.namespace=e.namespace||"",this.options.sameIpCheck=e.sameIpCheck||!1,this.options.sameOriginCheck=e.sameOriginCheck||!1,this.options.enableLogging?xi.enableAll():xi.disableAll()}static setLogLevel(e){xi.setLevel(e),cU(e)}async publish(e,r){const n=wf(Buffer.from(e,"utf8")),i=await cg(n.toString("hex"),r),s=await sg(n,wf(Buffer.from(i,"utf8"))),o={key:Rc(n).toString("hex"),data:i,signature:s.toString("hex"),timeout:this.options.timeout,namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,sameOriginCheck:this.options.sameOriginCheck};return Cp(`${this.options.serverUrl}/channel/set`,o)}async subscribe(e){let r=!0;const n=wf(Buffer.from(e,"utf8")),i=Rc(n).toString("hex"),s=this.getSocketConnection();s.connected?(xi.debug("already connected with socket"),s.emit("check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,sameOriginCheck:this.options.sameOriginCheck})):s.once("connect",()=>{xi.debug("connected with socket"),s.emit("check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,sameOriginCheck:this.options.sameOriginCheck})});const o=()=>{s.once("connect",async()=>{xi.debug("connected with socket using reconnect"),r&&s.emit("check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,sameOriginCheck:this.options.sameOriginCheck})})},a=()=>{r||document.removeEventListener("visibilitychange",a),!s.connected&&document.visibilityState==="visible"&&o()},c=()=>{xi.debug("socket disconnected",r),r?(xi.error("socket disconnected unexpectedly, reconnecting socket"),o()):s.removeListener("disconnect",c)};s.on("disconnect",c);const l=new Promise((u,f)=>{const h=async g=>{try{const y=await Y7(n.toString("hex"),g);xi.info("got data",y),u(y)}catch(y){xi.error(y),f(y)}finally{r=!1,document.removeEventListener("visibilitychange",a)}};xi.info("listening to",`${i}_success`),s.once(`${i}_success`,h)});return typeof document<"u"&&document.addEventListener("visibilitychange",a),l}cleanup(){this.SOCKET_CONN&&(this.SOCKET_CONN.disconnect(),this.SOCKET_CONN=null)}getSocketConnection(){if(this.SOCKET_CONN)return this.SOCKET_CONN;const e=hg(this.options.serverUrl,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return e.on("connect_error",r=>{e.io.opts.transports=["polling","websocket"],xi.error("connect error",r)}),e.on("connect",async()=>{const{engine:r}=e.io;xi.debug("initially connected to",r.transport.name),r.once("upgrade",()=>{xi.debug("upgraded",r.transport.name)}),r.once("close",n=>{xi.debug("connection closed",n)})}),e.on("error",r=>{xi.error("socket errored",r),e.disconnect()}),this.SOCKET_CONN=e,this.SOCKET_CONN}}var gx={exports:{}},vf=typeof Reflect=="object"?Reflect:null,cS=vf&&typeof vf.apply=="function"?vf.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},pg;vf&&typeof vf.ownKeys=="function"?pg=vf.ownKeys:Object.getOwnPropertySymbols?pg=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:pg=function(e){return Object.getOwnPropertyNames(e)};function oz(t){console&&console.warn&&console.warn(t)}var f9=Number.isNaN||function(e){return e!==e};function Br(){Br.init.call(this)}gx.exports=Br;gx.exports.once=uz;Br.EventEmitter=Br;Br.prototype._events=void 0;Br.prototype._eventsCount=0;Br.prototype._maxListeners=void 0;var lS=10;function Pm(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Br,"defaultMaxListeners",{enumerable:!0,get:function(){return lS},set:function(t){if(typeof t!="number"||t<0||f9(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");lS=t}});Br.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Br.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||f9(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function d9(t){return t._maxListeners===void 0?Br.defaultMaxListeners:t._maxListeners}Br.prototype.getMaxListeners=function(){return d9(this)};Br.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")cS(c,this,r);else for(var l=c.length,u=y9(c,l),n=0;n<l;++n)cS(u[n],this,r);return!0};function h9(t,e,r,n){var i,s,o;if(Pm(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=d9(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,oz(a)}return t}Br.prototype.addListener=function(e,r){return h9(this,e,r,!1)};Br.prototype.on=Br.prototype.addListener;Br.prototype.prependListener=function(e,r){return h9(this,e,r,!0)};function az(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p9(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=az.bind(n);return i.listener=r,n.wrapFn=i,i}Br.prototype.once=function(e,r){return Pm(r),this.on(e,p9(this,e,r)),this};Br.prototype.prependOnceListener=function(e,r){return Pm(r),this.prependListener(e,p9(this,e,r)),this};Br.prototype.removeListener=function(e,r){var n,i,s,o,a;if(Pm(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():cz(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};Br.prototype.off=Br.prototype.removeListener;Br.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function g9(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?lz(i):y9(i,i.length)}Br.prototype.listeners=function(e){return g9(this,e,!0)};Br.prototype.rawListeners=function(e){return g9(this,e,!1)};Br.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):m9.call(t,e)};Br.prototype.listenerCount=m9;function m9(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Br.prototype.eventNames=function(){return this._eventsCount>0?pg(this._events):[]};function y9(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function cz(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function lz(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function uz(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}w9(t,e,s,{once:!0}),e!=="error"&&fz(t,i,{once:!0})})}function fz(t,e,r){typeof t.on=="function"&&w9(t,"error",e,r)}function w9(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var hi=gx.exports;const b9=An(hi),dz={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},v9={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},xn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Oi={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},dc={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Fe{static getFirstMatch(e,r){const n=r.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,r){const n=r.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,r,n){if(e.test(r))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,n=!1){const i=Fe.getVersionPrecision(e),s=Fe.getVersionPrecision(r);let o=Math.max(i,s),a=0;const c=Fe.map([e,r],l=>{const u=o-Fe.getVersionPrecision(l),f=l+new Array(u+1).join(".0");return Fe.map(f.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(n&&(a=o-Math.min(i,s)),o-=1;o>=a;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===a)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(e,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(i=0;i<e.length;i+=1)n.push(r(e[i]));return n}static find(e,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(n=0,i=e.length;n<i;n+=1){const s=e[n];if(r(s,n))return s}}static assign(e,...r){const n=e;let i,s;if(Object.assign)return Object.assign(e,...r);for(i=0,s=r.length;i<s;i+=1){const o=r[i];typeof o=="object"&&o!==null&&Object.keys(o).forEach(c=>{n[c]=o[c]})}return e}static getBrowserAlias(e){return dz[e]}static getBrowserTypeByAlias(e){return v9[e]||""}}const $r=/version\/(\d+(\.?_?\d+)+)/i,hz=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=Fe.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||Fe.getFirstMatch($r,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=Fe.getFirstMatch($r,t)||Fe.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=Fe.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||Fe.getFirstMatch($r,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=Fe.getFirstMatch($r,t)||Fe.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=Fe.getFirstMatch($r,t)||Fe.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=Fe.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||Fe.getFirstMatch($r,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=Fe.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||Fe.getFirstMatch($r,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=Fe.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||Fe.getFirstMatch($r,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=Fe.getFirstMatch($r,t)||Fe.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=Fe.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||Fe.getFirstMatch($r,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=Fe.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||Fe.getFirstMatch($r,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=Fe.getFirstMatch($r,t)||Fe.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=Fe.getFirstMatch($r,t)||Fe.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=Fe.getFirstMatch($r,t)||Fe.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=Fe.getFirstMatch($r,t)||Fe.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=Fe.getFirstMatch($r,t)||Fe.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=Fe.getFirstMatch($r,t)||Fe.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=Fe.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||Fe.getFirstMatch($r,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=Fe.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||Fe.getFirstMatch($r,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=Fe.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=Fe.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=Fe.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=Fe.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=Fe.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=Fe.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=Fe.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=Fe.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=Fe.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=Fe.getFirstMatch($r,t)||Fe.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=Fe.getFirstMatch($r,t)||Fe.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=Fe.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=Fe.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||Fe.getFirstMatch($r,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=Fe.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||Fe.getFirstMatch($r,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=Fe.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=Fe.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=Fe.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=Fe.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||Fe.getFirstMatch($r,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=Fe.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=Fe.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=Fe.getFirstMatch($r,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=Fe.getFirstMatch($r,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=Fe.getFirstMatch($r,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=t.search("\\(")!==-1?r:e;return{name:Fe.getFirstMatch(i,t),version:Fe.getSecondMatch(i,t)}}}],pz=[{test:[/Roku\/DVP/],describe(t){const e=Fe.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Oi.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=Fe.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Oi.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=Fe.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=Fe.getWindowsVersionName(e);return{name:Oi.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Oi.iOS},r=Fe.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=Fe.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=Fe.getMacOSVersionName(e),n={name:Oi.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=Fe.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Oi.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=Fe.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=Fe.getAndroidVersionName(e),n={name:Oi.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=Fe.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:Oi.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=Fe.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||Fe.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||Fe.getFirstMatch(/\bbb(\d+)/i,t);return{name:Oi.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=Fe.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Oi.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=Fe.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Oi.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:Oi.Linux}}},{test:[/CrOS/],describe(){return{name:Oi.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=Fe.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Oi.PlayStation4,version:e}}}],gz=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=Fe.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:xn.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:xn.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:xn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:xn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:xn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:xn.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:xn.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=Fe.getFirstMatch(/(ipod|iphone)/i,t);return{type:xn.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:xn.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:xn.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:xn.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:xn.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:xn.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:xn.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:xn.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:xn.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:xn.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:xn.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:xn.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:xn.tv}}}],mz=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:dc.Blink};const r=Fe.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:dc.EdgeHTML,version:r}}},{test:[/trident/i],describe(t){const e={name:dc.Trident},r=Fe.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:dc.Presto},r=Fe.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:dc.Gecko},r=Fe.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:dc.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:dc.WebKit},r=Fe.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];class uS{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=Fe.find(hz,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=Fe.find(pz,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=Fe.find(gz,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=Fe.find(mz,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Fe.assign({},this.parsedResult)}satisfies(e){const r={};let n=0;const i={};let s=0;if(Object.keys(e).forEach(a=>{const c=e[a];typeof c=="string"?(i[a]=c,s+=1):typeof c=="object"&&(r[a]=c,n+=1)}),n>0){const a=Object.keys(r),c=Fe.find(a,u=>this.isOS(u));if(c){const u=this.satisfies(r[c]);if(u!==void 0)return u}const l=Fe.find(a,u=>this.isPlatform(u));if(l){const u=this.satisfies(r[l]);if(u!==void 0)return u}}if(s>0){const a=Object.keys(i),c=Fe.find(a,l=>this.isBrowser(l,!0));if(c!==void 0)return this.compareVersion(i[c])}}isBrowser(e,r=!1){const n=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const s=Fe.getBrowserTypeByAlias(i);return r&&s&&(i=s.toLowerCase()),i===n}compareVersion(e){let r=[0],n=e,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(i=!0,n=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(i=!0,n=e.substr(1)),r.indexOf(Fe.compareVersions(s,n,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Vl{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new uS(e,r)}static parse(e){return new uS(e).getResult()}static get BROWSER_MAP(){return v9}static get ENGINE_MAP(){return dc}static get OS_MAP(){return Oi}static get PLATFORMS_MAP(){return xn}}var x9={exports:{}},mx={},yx={};Object.defineProperty(yx,"__esModule",{value:!0});function yz(t){var e=4,r=t.length,n=r%e;if(!n)return t;var i=r,s=e-n,o=r+s,a=Buffer.alloc(o);for(a.write(t);s--;)a.write("=",i++);return a.toString()}yx.default=yz;Object.defineProperty(mx,"__esModule",{value:!0});var wz=yx;function _9(t,e){return e===void 0&&(e="utf8"),Buffer.isBuffer(t)?zv(t.toString("base64")):zv(Buffer.from(t,e).toString("base64"))}function bz(t,e){return e===void 0&&(e="utf8"),Buffer.from(wx(t),"base64").toString(e)}function wx(t){return t=t.toString(),wz.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function zv(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vz(t){return Buffer.from(wx(t),"base64")}var od=_9;od.encode=_9;od.decode=bz;od.toBase64=wx;od.fromBase64=zv;od.toBuffer=vz;mx.default=od;(function(t){t.exports=mx.default,t.exports.default=t.exports})(x9);var xz=x9.exports;const _z=An(xz),S9=_z;function fS(t){return S9.decode(t)}function I0(t){return S9.encode(JSON.stringify(t))}function dS(t){let e=!1,r=0,n;try{n=window[t],e=!0,r=n.length;const i="__storage_test__";return n.setItem(i,i),n.removeItem(i),!0}catch(i){const s=i;return s&&(s.code===22||s.code===1014||s.name==="QuotaExceededError"||s.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&r!==0}}const E9=Hr,Sz=_c,Fo={POPUP:"popup",REDIRECT:"redirect"},zc=Ie(Ie({},Sz),E9),hS={SECP256K1:"secp256k1",ED25519:"ed25519"},Rr={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",LINE:"line",GITHUB:"github",KAKAO:"kakao",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",WECHAT:"wechat",FARCASTER:"farcaster",EMAIL_PASSWORDLESS:"email_passwordless",SMS_PASSWORDLESS:"sms_passwordless",WEBAUTHN:"webauthn",JWT:"jwt",PASSKEYS:"passkeys",AUTHENTICATOR:"authenticator"},Bd={LOGIN:"login",ENABLE_MFA:"enable_mfa",MANAGE_MFA:"manage_mfa",ADD_SOCIAL_FACTOR:"add_social_factor",MODIFY_SOCIAL_FACTOR:"modify_social_factor",ADD_AUTHENTICATOR_FACTOR:"add_authenticator_factor",ADD_PASSKEY_FACTOR:"add_passkey_factor"},Oo={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"},Ez="9.4.1";function Az(t=!1){const e={},r=new URLSearchParams(window.location.search.slice(1));r.forEach((o,a)=>{a!=="b64Params"&&(e[a]=o)});const n=r.get("b64Params");if(n)try{const o=JSON.parse(fS(n));Object.keys(o).forEach(a=>{e[a]=o[a]})}catch(o){l1.error(o)}const i=new URLSearchParams(window.location.hash.substring(1));i.forEach((o,a)=>{a!=="b64Params"&&(e[a]=o)});const s=i.get("b64Params");if(s)try{const o=JSON.parse(fS(s));Object.keys(o).forEach(a=>{e[a]=o[a]})}catch(o){l1.error(o)}if(t){const o=new URL(window.location.origin+window.location.pathname);r.size>0&&(r.delete("error"),r.delete("state"),r.delete("b64Params"),r.delete("sessionNamespace"),o.search=r.toString()),i.size>0&&(i.delete("error"),i.delete("state"),i.delete("b64Params"),i.delete("sessionNamespace"),o.hash=i.toString()),window.history.replaceState(Ie(Ie({},window.history.state),{},{as:o.href,url:o.href}),"",o.href)}return e}function gg(t){const{baseURL:e,query:r,hash:n}=t,i=new URL(e);if(r&&Object.keys(r).forEach(s=>{i.searchParams.append(s,r[s])}),n){const s=new URL(gg({baseURL:e,query:n})).searchParams.toString();i.hash=s}return i.toString()}function Iz(){if(typeof window>"u")return"";const t=window.screenLeft!==void 0?window.screenLeft:window.screenX,e=window.screenTop!==void 0?window.screenTop:window.screenY,r=1200,n=700,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,o=1,a=Math.abs((i-r)/2/o+t),c=Math.abs((s-n)/2/o+e);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${n/o},width=${r/o},top=${c},left=${a}`}function kz(){if(typeof window>"u")return!1;const e=Vl.getParser(window.navigator.userAgent).getPlatform();return e.type===Vl.PLATFORMS_MAP.tablet||e.type===Vl.PLATFORMS_MAP.mobile}function pS(t){return(t===Rr.FACEBOOK||t===Rr.LINE)&&kz()?1e3*60*5:1e3*10}class Cz extends hi.EventEmitter{constructor({url:e,target:r,features:n,timeout:i=3e4}){super(),Pe(this,"url",void 0),Pe(this,"target",void 0),Pe(this,"features",void 0),Pe(this,"window",void 0),Pe(this,"windowTimer",void 0),Pe(this,"iClosedWindow",void 0),Pe(this,"timeout",void 0),this.url=e,this.target=r||"_blank",this.features=n||Iz(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url,this.target,this.features),!this.window)throw zr.popupBlocked();(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url):window.location.href=this.url}async listenOnChannel(e){const r=new sz,n=await r.subscribe(e);this.close(),r.cleanup();const i=JSON.parse(n);return i.error?{error:i.error,state:i.state}:i.data}}class Rz{constructor(){Pe(this,"store",new Map)}getItem(e){return this.store.get(e)||null}setItem(e,r){this.store.set(e,r)}removeItem(e){this.store.delete(e)}}class A9{constructor(e,r){Pe(this,"storage",void 0),Pe(this,"_storeKey",void 0),this.storage=r,this._storeKey=e;try{r.getItem(e)||this.resetStore()}catch{}}static getInstance(e,r="local"){if(!this.instanceMap.has(e)){let n;r==="local"&&dS("localStorage")?n=window.localStorage:r==="session"&&dS("sessionStorage")?n=window.sessionStorage:n=new Rz,this.instanceMap.set(e,new this(e,n))}return this.instanceMap.get(e)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const e=this.getStore();return this.storage.removeItem(this._storeKey),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,r){const n=JSON.parse(this.storage.getItem(this._storeKey)||"{}");n[e]=r,this.storage.setItem(this._storeKey,JSON.stringify(n))}}Pe(A9,"instanceMap",new Map);class Pz{constructor(e){if(Pe(this,"state",{}),Pe(this,"options",void 0),Pe(this,"sessionManager",void 0),Pe(this,"currentStorage",void 0),Pe(this,"_storageBaseKey","auth_store"),Pe(this,"dappState",void 0),Pe(this,"addVersionInUrls",!0),!e.clientId)throw Fa.invalidParams("clientId is required");if(e.network||(e.network=zc.SAPPHIRE_MAINNET),e.buildEnv||(e.buildEnv=Oo.PRODUCTION),(e.buildEnv===Oo.DEVELOPMENT||e.buildEnv===Oo.TESTING||e.sdkUrl)&&(this.addVersionInUrls=!1),!e.sdkUrl&&!e.useMpc&&(e.buildEnv===Oo.DEVELOPMENT?(e.sdkUrl="http://localhost:3000",e.dashboardUrl="http://localhost:5173/wallet/account"):e.buildEnv===Oo.STAGING?(e.sdkUrl="https://staging-auth.web3auth.io",e.dashboardUrl="https://staging-account.web3auth.io/wallet/account"):e.buildEnv===Oo.TESTING?(e.sdkUrl="https://develop-auth.web3auth.io",e.dashboardUrl="https://develop-account.web3auth.io/wallet/account"):(e.sdkUrl="https://auth.web3auth.io",e.dashboardUrl="https://account.web3auth.io/wallet/account")),e.useMpc&&!e.sdkUrl){if(Object.values(E9).includes(e.network))throw Fa.invalidParams("MPC is not supported on legacy networks, please use sapphire_devnet or sapphire_mainnet.");e.buildEnv===Oo.DEVELOPMENT?e.sdkUrl="http://localhost:3000":e.buildEnv===Oo.STAGING?e.sdkUrl="https://staging-mpc-auth.web3auth.io":e.buildEnv===Oo.TESTING?e.sdkUrl="https://develop-mpc-auth.web3auth.io":e.sdkUrl="https://mpc-auth.web3auth.io"}!e.redirectUrl&&typeof window<"u"&&(e.redirectUrl=`${window.location.protocol}//${window.location.host}${window.location.pathname}`),e.uxMode||(e.uxMode=Fo.REDIRECT),typeof e.replaceUrlOnRedirect!="boolean"&&(e.replaceUrlOnRedirect=!0),e.originData||(e.originData={}),e.whiteLabel||(e.whiteLabel={}),e.loginConfig||(e.loginConfig={}),e.mfaSettings||(e.mfaSettings={}),e.storageServerUrl||(e.storageServerUrl=W$),e.storageKey||(e.storageKey="local"),e.webauthnTransports||(e.webauthnTransports=["internal"]),e.sessionTime||(e.sessionTime=86400),this.options=e}get privKey(){return this.options.useMpc?this.state.factorKey||"":this.state.privKey?this.state.privKey.padStart(64,"0"):""}get coreKitKey(){return this.state.coreKitKey?this.state.coreKitKey.padStart(64,"0"):""}get ed25519PrivKey(){return this.state.ed25519PrivKey?this.state.ed25519PrivKey.padStart(128,"0"):""}get coreKitEd25519Key(){return this.state.coreKitEd25519PrivKey?this.state.coreKitEd25519PrivKey.padStart(128,"0"):""}get sessionId(){return this.state.sessionId||""}get sessionNamespace(){return this.options.sessionNamespace||""}get appState(){return this.state.userInfo.appState||this.dappState||""}get baseUrl(){return this.addVersionInUrls?`${this.options.sdkUrl}/v${Ez.split(".")[0]}`:`${this.options.sdkUrl}`}async init(){const e=Az(this.options.replaceUrlOnRedirect);e.sessionNamespace&&(this.options.sessionNamespace=e.sessionNamespace);const r=this.options.sessionNamespace?`${this._storageBaseKey}_${this.options.sessionNamespace}`:this._storageBaseKey;this.currentStorage=A9.getInstance(r,this.options.storageKey);const n=this.currentStorage.get("sessionId");if(this.sessionManager=new S0({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:this.options.sessionTime,sessionId:n}),(this.options.network===zc.TESTNET||this.options.network===zc.SAPPHIRE_DEVNET)&&console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`,"color: #FF0000"),this.options.buildEnv!==Oo.PRODUCTION&&console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`,"color: #FF0000"),e.error)throw this.dappState=e.state,zr.loginFailed(e.error);if(e.sessionId&&(this.currentStorage.set("sessionId",e.sessionId),this.sessionManager.sessionId=e.sessionId),this.sessionManager.sessionId){const i=await this._authorizeSession();this.updateState(i),Object.keys(i).length===0&&this.currentStorage.set("sessionId","")}}async login(e){if(!e.loginProvider)throw zr.invalidLoginParams("loginProvider is required");const r={redirectUrl:this.options.redirectUrl},n=Ie(Ie({loginProvider:e.loginProvider},r),e),i={actionType:Bd.LOGIN,options:this.options,params:n},s=await this.authHandler(`${this.baseUrl}/start`,i,pS(e.loginProvider));if(this.options.uxMode===Fo.REDIRECT)return null;if(s.error)throw this.dappState=s.state,zr.loginFailed(s.error);return this.sessionManager.sessionId=s.sessionId,this.options.sessionNamespace=s.sessionNamespace,this.currentStorage.set("sessionId",s.sessionId),await this.rehydrateSession(),{privKey:this.privKey}}async logout(){if(!this.sessionManager.sessionId)throw zr.userNotLoggedIn();await this.sessionManager.invalidateSession(),this.updateState({privKey:"",coreKitKey:"",coreKitEd25519PrivKey:"",ed25519PrivKey:"",walletKey:"",oAuthPrivateKey:"",tKey:"",metadataNonce:"",keyMode:void 0,userInfo:{name:"",profileImage:"",dappShare:"",idToken:"",oAuthIdToken:"",oAuthAccessToken:"",appState:"",email:"",verifier:"",verifierId:"",aggregateVerifier:"",typeOfLogin:"",isMfaEnabled:!1},authToken:"",sessionId:"",factorKey:"",signatures:[],tssShareIndex:-1,tssPubKey:"",tssShare:"",tssNonce:-1}),this.currentStorage.set("sessionId","")}async enableMFA(e){var r;if(!this.sessionId)throw zr.userNotLoggedIn();if(this.state.userInfo.isMfaEnabled)throw zr.mfaAlreadyEnabled();const n={redirectUrl:this.options.redirectUrl},i={actionType:Bd.ENABLE_MFA,options:this.options,params:Ie(Ie(Ie({},n),e),{},{loginProvider:this.state.userInfo.typeOfLogin,extraLoginOptions:{login_hint:this.state.userInfo.verifierId},mfaLevel:"mandatory"}),sessionId:this.sessionId},s=await this.authHandler(`${this.baseUrl}/start`,i,pS(i.params.loginProvider));if(this.options.uxMode===Fo.REDIRECT)return null;if(s.error)throw this.dappState=s.state,zr.loginFailed(s.error);return this.sessionManager.sessionId=s.sessionId,this.options.sessionNamespace=s.sessionNamespace,this.currentStorage.set("sessionId",s.sessionId),await this.rehydrateSession(),!!(!((r=this.state.userInfo)===null||r===void 0)&&r.isMfaEnabled)}async manageMFA(e){if(!this.sessionId)throw zr.userNotLoggedIn();if(!this.state.userInfo.isMfaEnabled)throw zr.mfaNotEnabled();const r={redirectUrl:this.options.dashboardUrl,dappUrl:`${window.location.origin}${window.location.pathname}`},n=S0.generateRandomSessionKey(),i={actionType:Bd.MANAGE_MFA,options:this.options,params:Ie(Ie(Ie({},r),e),{},{loginProvider:this.state.userInfo.typeOfLogin,extraLoginOptions:{login_hint:this.state.userInfo.verifierId},appState:I0({loginId:n})}),sessionId:this.sessionId};this.createLoginSession(n,i,i.options.sessionTime,!0);const s={loginId:n,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl},o=gg({baseURL:`${this.baseUrl}/start`,hash:{b64Params:I0(s)}});window.open(o,"_blank")}async manageSocialFactor(e,r){if(!this.sessionId)throw zr.userNotLoggedIn();const n={redirectUrl:this.options.redirectUrl},i={actionType:e,options:this.options,params:Ie(Ie({},n),r),sessionId:this.sessionId},s=await this.authHandler(`${this.baseUrl}/start`,i);if(this.options.uxMode!==Fo.REDIRECT)return!s.error}async addAuthenticatorFactor(e){if(!this.sessionId)throw zr.userNotLoggedIn();const r={redirectUrl:this.options.redirectUrl},n={actionType:Bd.ADD_AUTHENTICATOR_FACTOR,options:this.options,params:Ie(Ie(Ie({},r),e),{},{loginProvider:Rr.AUTHENTICATOR}),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==Fo.REDIRECT)return!i.error}async addPasskeyFactor(e){if(!this.sessionId)throw zr.userNotLoggedIn();const r={redirectUrl:this.options.redirectUrl},n={actionType:Bd.ADD_PASSKEY_FACTOR,options:this.options,params:Ie(Ie(Ie({},r),e),{},{loginProvider:Rr.PASSKEYS}),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==Fo.REDIRECT)return!i.error}getUserInfo(){if(!this.sessionManager.sessionId)throw zr.userNotLoggedIn();return this.state.userInfo}async createLoginSession(e,r,n=600,i=!1){if(!this.sessionManager)throw Fa.notInitialized();const o=new S0({sessionServerBaseUrl:r.options.storageServerUrl,sessionNamespace:r.options.sessionNamespace,sessionTime:n,sessionId:e}).createSession(JSON.parse(JSON.stringify(r)));r.options.uxMode===Fo.REDIRECT&&!i&&await o}async _authorizeSession(){try{return this.sessionManager.sessionId?await this.sessionManager.authorizeSession():{}}catch(e){return l1.error("authorization failed",e),{}}}updateState(e){this.state=Ie(Ie({},this.state),e)}async rehydrateSession(){const e=await this._authorizeSession();this.updateState(e)}async authHandler(e,r,n=1e3*10){const i=S0.generateRandomSessionKey();await this.createLoginSession(i,r);const s={loginId:i,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl};if(this.options.uxMode===Fo.REDIRECT){const c=gg({baseURL:e,hash:{b64Params:I0(s)}});window.location.href=c;return}const o=gg({baseURL:e,hash:{b64Params:I0(s)}}),a=new Cz({url:o,timeout:n});return new Promise((c,l)=>{a.on("close",()=>{l(zr.popupClosed())}),a.listenOnChannel(i).then(c).catch(l);try{a.open()}catch(u){l(u)}})}}function I9(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var k9={exports:{}};(function(t){(function(e){var r=function(z){var G,Y=new Float64Array(16);if(z)for(G=0;G<z.length;G++)Y[G]=z[G];return Y},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=r(),a=r([1]),c=r([56129,1]),l=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),g=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(z,G,Y,M){z[G]=Y>>24&255,z[G+1]=Y>>16&255,z[G+2]=Y>>8&255,z[G+3]=Y&255,z[G+4]=M>>24&255,z[G+5]=M>>16&255,z[G+6]=M>>8&255,z[G+7]=M&255}function v(z,G,Y,M,Z){var de,me=0;for(de=0;de<Z;de++)me|=z[G+de]^Y[M+de];return(1&me-1>>>8)-1}function T(z,G,Y,M){return v(z,G,Y,M,16)}function k(z,G,Y,M){return v(z,G,Y,M,32)}function C(z,G,Y,M){for(var Z=M[0]&255|(M[1]&255)<<8|(M[2]&255)<<16|(M[3]&255)<<24,de=Y[0]&255|(Y[1]&255)<<8|(Y[2]&255)<<16|(Y[3]&255)<<24,me=Y[4]&255|(Y[5]&255)<<8|(Y[6]&255)<<16|(Y[7]&255)<<24,we=Y[8]&255|(Y[9]&255)<<8|(Y[10]&255)<<16|(Y[11]&255)<<24,Me=Y[12]&255|(Y[13]&255)<<8|(Y[14]&255)<<16|(Y[15]&255)<<24,Ke=M[4]&255|(M[5]&255)<<8|(M[6]&255)<<16|(M[7]&255)<<24,$e=G[0]&255|(G[1]&255)<<8|(G[2]&255)<<16|(G[3]&255)<<24,Dt=G[4]&255|(G[5]&255)<<8|(G[6]&255)<<16|(G[7]&255)<<24,Xe=G[8]&255|(G[9]&255)<<8|(G[10]&255)<<16|(G[11]&255)<<24,Ct=G[12]&255|(G[13]&255)<<8|(G[14]&255)<<16|(G[15]&255)<<24,Pt=M[8]&255|(M[9]&255)<<8|(M[10]&255)<<16|(M[11]&255)<<24,At=Y[16]&255|(Y[17]&255)<<8|(Y[18]&255)<<16|(Y[19]&255)<<24,zt=Y[20]&255|(Y[21]&255)<<8|(Y[22]&255)<<16|(Y[23]&255)<<24,Bt=Y[24]&255|(Y[25]&255)<<8|(Y[26]&255)<<16|(Y[27]&255)<<24,Ut=Y[28]&255|(Y[29]&255)<<8|(Y[30]&255)<<16|(Y[31]&255)<<24,$t=M[12]&255|(M[13]&255)<<8|(M[14]&255)<<16|(M[15]&255)<<24,ht=Z,wt=de,at=me,mt=we,ut=Me,nt=Ke,xe=$e,_e=Dt,Ue=Xe,Oe=Ct,Le=Pt,Ge=At,Ft=zt,Wt=Bt,Jt=Ut,Yt=$t,fe,nr=0;nr<20;nr+=2)fe=ht+Ft|0,ut^=fe<<7|fe>>>25,fe=ut+ht|0,Ue^=fe<<9|fe>>>23,fe=Ue+ut|0,Ft^=fe<<13|fe>>>19,fe=Ft+Ue|0,ht^=fe<<18|fe>>>14,fe=nt+wt|0,Oe^=fe<<7|fe>>>25,fe=Oe+nt|0,Wt^=fe<<9|fe>>>23,fe=Wt+Oe|0,wt^=fe<<13|fe>>>19,fe=wt+Wt|0,nt^=fe<<18|fe>>>14,fe=Le+xe|0,Jt^=fe<<7|fe>>>25,fe=Jt+Le|0,at^=fe<<9|fe>>>23,fe=at+Jt|0,xe^=fe<<13|fe>>>19,fe=xe+at|0,Le^=fe<<18|fe>>>14,fe=Yt+Ge|0,mt^=fe<<7|fe>>>25,fe=mt+Yt|0,_e^=fe<<9|fe>>>23,fe=_e+mt|0,Ge^=fe<<13|fe>>>19,fe=Ge+_e|0,Yt^=fe<<18|fe>>>14,fe=ht+mt|0,wt^=fe<<7|fe>>>25,fe=wt+ht|0,at^=fe<<9|fe>>>23,fe=at+wt|0,mt^=fe<<13|fe>>>19,fe=mt+at|0,ht^=fe<<18|fe>>>14,fe=nt+ut|0,xe^=fe<<7|fe>>>25,fe=xe+nt|0,_e^=fe<<9|fe>>>23,fe=_e+xe|0,ut^=fe<<13|fe>>>19,fe=ut+_e|0,nt^=fe<<18|fe>>>14,fe=Le+Oe|0,Ge^=fe<<7|fe>>>25,fe=Ge+Le|0,Ue^=fe<<9|fe>>>23,fe=Ue+Ge|0,Oe^=fe<<13|fe>>>19,fe=Oe+Ue|0,Le^=fe<<18|fe>>>14,fe=Yt+Jt|0,Ft^=fe<<7|fe>>>25,fe=Ft+Yt|0,Wt^=fe<<9|fe>>>23,fe=Wt+Ft|0,Jt^=fe<<13|fe>>>19,fe=Jt+Wt|0,Yt^=fe<<18|fe>>>14;ht=ht+Z|0,wt=wt+de|0,at=at+me|0,mt=mt+we|0,ut=ut+Me|0,nt=nt+Ke|0,xe=xe+$e|0,_e=_e+Dt|0,Ue=Ue+Xe|0,Oe=Oe+Ct|0,Le=Le+Pt|0,Ge=Ge+At|0,Ft=Ft+zt|0,Wt=Wt+Bt|0,Jt=Jt+Ut|0,Yt=Yt+$t|0,z[0]=ht>>>0&255,z[1]=ht>>>8&255,z[2]=ht>>>16&255,z[3]=ht>>>24&255,z[4]=wt>>>0&255,z[5]=wt>>>8&255,z[6]=wt>>>16&255,z[7]=wt>>>24&255,z[8]=at>>>0&255,z[9]=at>>>8&255,z[10]=at>>>16&255,z[11]=at>>>24&255,z[12]=mt>>>0&255,z[13]=mt>>>8&255,z[14]=mt>>>16&255,z[15]=mt>>>24&255,z[16]=ut>>>0&255,z[17]=ut>>>8&255,z[18]=ut>>>16&255,z[19]=ut>>>24&255,z[20]=nt>>>0&255,z[21]=nt>>>8&255,z[22]=nt>>>16&255,z[23]=nt>>>24&255,z[24]=xe>>>0&255,z[25]=xe>>>8&255,z[26]=xe>>>16&255,z[27]=xe>>>24&255,z[28]=_e>>>0&255,z[29]=_e>>>8&255,z[30]=_e>>>16&255,z[31]=_e>>>24&255,z[32]=Ue>>>0&255,z[33]=Ue>>>8&255,z[34]=Ue>>>16&255,z[35]=Ue>>>24&255,z[36]=Oe>>>0&255,z[37]=Oe>>>8&255,z[38]=Oe>>>16&255,z[39]=Oe>>>24&255,z[40]=Le>>>0&255,z[41]=Le>>>8&255,z[42]=Le>>>16&255,z[43]=Le>>>24&255,z[44]=Ge>>>0&255,z[45]=Ge>>>8&255,z[46]=Ge>>>16&255,z[47]=Ge>>>24&255,z[48]=Ft>>>0&255,z[49]=Ft>>>8&255,z[50]=Ft>>>16&255,z[51]=Ft>>>24&255,z[52]=Wt>>>0&255,z[53]=Wt>>>8&255,z[54]=Wt>>>16&255,z[55]=Wt>>>24&255,z[56]=Jt>>>0&255,z[57]=Jt>>>8&255,z[58]=Jt>>>16&255,z[59]=Jt>>>24&255,z[60]=Yt>>>0&255,z[61]=Yt>>>8&255,z[62]=Yt>>>16&255,z[63]=Yt>>>24&255}function I(z,G,Y,M){for(var Z=M[0]&255|(M[1]&255)<<8|(M[2]&255)<<16|(M[3]&255)<<24,de=Y[0]&255|(Y[1]&255)<<8|(Y[2]&255)<<16|(Y[3]&255)<<24,me=Y[4]&255|(Y[5]&255)<<8|(Y[6]&255)<<16|(Y[7]&255)<<24,we=Y[8]&255|(Y[9]&255)<<8|(Y[10]&255)<<16|(Y[11]&255)<<24,Me=Y[12]&255|(Y[13]&255)<<8|(Y[14]&255)<<16|(Y[15]&255)<<24,Ke=M[4]&255|(M[5]&255)<<8|(M[6]&255)<<16|(M[7]&255)<<24,$e=G[0]&255|(G[1]&255)<<8|(G[2]&255)<<16|(G[3]&255)<<24,Dt=G[4]&255|(G[5]&255)<<8|(G[6]&255)<<16|(G[7]&255)<<24,Xe=G[8]&255|(G[9]&255)<<8|(G[10]&255)<<16|(G[11]&255)<<24,Ct=G[12]&255|(G[13]&255)<<8|(G[14]&255)<<16|(G[15]&255)<<24,Pt=M[8]&255|(M[9]&255)<<8|(M[10]&255)<<16|(M[11]&255)<<24,At=Y[16]&255|(Y[17]&255)<<8|(Y[18]&255)<<16|(Y[19]&255)<<24,zt=Y[20]&255|(Y[21]&255)<<8|(Y[22]&255)<<16|(Y[23]&255)<<24,Bt=Y[24]&255|(Y[25]&255)<<8|(Y[26]&255)<<16|(Y[27]&255)<<24,Ut=Y[28]&255|(Y[29]&255)<<8|(Y[30]&255)<<16|(Y[31]&255)<<24,$t=M[12]&255|(M[13]&255)<<8|(M[14]&255)<<16|(M[15]&255)<<24,ht=Z,wt=de,at=me,mt=we,ut=Me,nt=Ke,xe=$e,_e=Dt,Ue=Xe,Oe=Ct,Le=Pt,Ge=At,Ft=zt,Wt=Bt,Jt=Ut,Yt=$t,fe,nr=0;nr<20;nr+=2)fe=ht+Ft|0,ut^=fe<<7|fe>>>25,fe=ut+ht|0,Ue^=fe<<9|fe>>>23,fe=Ue+ut|0,Ft^=fe<<13|fe>>>19,fe=Ft+Ue|0,ht^=fe<<18|fe>>>14,fe=nt+wt|0,Oe^=fe<<7|fe>>>25,fe=Oe+nt|0,Wt^=fe<<9|fe>>>23,fe=Wt+Oe|0,wt^=fe<<13|fe>>>19,fe=wt+Wt|0,nt^=fe<<18|fe>>>14,fe=Le+xe|0,Jt^=fe<<7|fe>>>25,fe=Jt+Le|0,at^=fe<<9|fe>>>23,fe=at+Jt|0,xe^=fe<<13|fe>>>19,fe=xe+at|0,Le^=fe<<18|fe>>>14,fe=Yt+Ge|0,mt^=fe<<7|fe>>>25,fe=mt+Yt|0,_e^=fe<<9|fe>>>23,fe=_e+mt|0,Ge^=fe<<13|fe>>>19,fe=Ge+_e|0,Yt^=fe<<18|fe>>>14,fe=ht+mt|0,wt^=fe<<7|fe>>>25,fe=wt+ht|0,at^=fe<<9|fe>>>23,fe=at+wt|0,mt^=fe<<13|fe>>>19,fe=mt+at|0,ht^=fe<<18|fe>>>14,fe=nt+ut|0,xe^=fe<<7|fe>>>25,fe=xe+nt|0,_e^=fe<<9|fe>>>23,fe=_e+xe|0,ut^=fe<<13|fe>>>19,fe=ut+_e|0,nt^=fe<<18|fe>>>14,fe=Le+Oe|0,Ge^=fe<<7|fe>>>25,fe=Ge+Le|0,Ue^=fe<<9|fe>>>23,fe=Ue+Ge|0,Oe^=fe<<13|fe>>>19,fe=Oe+Ue|0,Le^=fe<<18|fe>>>14,fe=Yt+Jt|0,Ft^=fe<<7|fe>>>25,fe=Ft+Yt|0,Wt^=fe<<9|fe>>>23,fe=Wt+Ft|0,Jt^=fe<<13|fe>>>19,fe=Jt+Wt|0,Yt^=fe<<18|fe>>>14;z[0]=ht>>>0&255,z[1]=ht>>>8&255,z[2]=ht>>>16&255,z[3]=ht>>>24&255,z[4]=nt>>>0&255,z[5]=nt>>>8&255,z[6]=nt>>>16&255,z[7]=nt>>>24&255,z[8]=Le>>>0&255,z[9]=Le>>>8&255,z[10]=Le>>>16&255,z[11]=Le>>>24&255,z[12]=Yt>>>0&255,z[13]=Yt>>>8&255,z[14]=Yt>>>16&255,z[15]=Yt>>>24&255,z[16]=xe>>>0&255,z[17]=xe>>>8&255,z[18]=xe>>>16&255,z[19]=xe>>>24&255,z[20]=_e>>>0&255,z[21]=_e>>>8&255,z[22]=_e>>>16&255,z[23]=_e>>>24&255,z[24]=Ue>>>0&255,z[25]=Ue>>>8&255,z[26]=Ue>>>16&255,z[27]=Ue>>>24&255,z[28]=Oe>>>0&255,z[29]=Oe>>>8&255,z[30]=Oe>>>16&255,z[31]=Oe>>>24&255}function D(z,G,Y,M){C(z,G,Y,M)}function O(z,G,Y,M){I(z,G,Y,M)}var F=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function x(z,G,Y,M,Z,de,me){var we=new Uint8Array(16),Me=new Uint8Array(64),Ke,$e;for($e=0;$e<16;$e++)we[$e]=0;for($e=0;$e<8;$e++)we[$e]=de[$e];for(;Z>=64;){for(D(Me,we,me,F),$e=0;$e<64;$e++)z[G+$e]=Y[M+$e]^Me[$e];for(Ke=1,$e=8;$e<16;$e++)Ke=Ke+(we[$e]&255)|0,we[$e]=Ke&255,Ke>>>=8;Z-=64,G+=64,M+=64}if(Z>0)for(D(Me,we,me,F),$e=0;$e<Z;$e++)z[G+$e]=Y[M+$e]^Me[$e];return 0}function L(z,G,Y,M,Z){var de=new Uint8Array(16),me=new Uint8Array(64),we,Me;for(Me=0;Me<16;Me++)de[Me]=0;for(Me=0;Me<8;Me++)de[Me]=M[Me];for(;Y>=64;){for(D(me,de,Z,F),Me=0;Me<64;Me++)z[G+Me]=me[Me];for(we=1,Me=8;Me<16;Me++)we=we+(de[Me]&255)|0,de[Me]=we&255,we>>>=8;Y-=64,G+=64}if(Y>0)for(D(me,de,Z,F),Me=0;Me<Y;Me++)z[G+Me]=me[Me];return 0}function J(z,G,Y,M,Z){var de=new Uint8Array(32);O(de,M,Z,F);for(var me=new Uint8Array(8),we=0;we<8;we++)me[we]=M[we+16];return L(z,G,Y,me,de)}function ne(z,G,Y,M,Z,de,me){var we=new Uint8Array(32);O(we,de,me,F);for(var Me=new Uint8Array(8),Ke=0;Ke<8;Ke++)Me[Ke]=de[Ke+16];return x(z,G,Y,M,Z,Me,we)}var j=function(z){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var G,Y,M,Z,de,me,we,Me;G=z[0]&255|(z[1]&255)<<8,this.r[0]=G&8191,Y=z[2]&255|(z[3]&255)<<8,this.r[1]=(G>>>13|Y<<3)&8191,M=z[4]&255|(z[5]&255)<<8,this.r[2]=(Y>>>10|M<<6)&7939,Z=z[6]&255|(z[7]&255)<<8,this.r[3]=(M>>>7|Z<<9)&8191,de=z[8]&255|(z[9]&255)<<8,this.r[4]=(Z>>>4|de<<12)&255,this.r[5]=de>>>1&8190,me=z[10]&255|(z[11]&255)<<8,this.r[6]=(de>>>14|me<<2)&8191,we=z[12]&255|(z[13]&255)<<8,this.r[7]=(me>>>11|we<<5)&8065,Me=z[14]&255|(z[15]&255)<<8,this.r[8]=(we>>>8|Me<<8)&8191,this.r[9]=Me>>>5&127,this.pad[0]=z[16]&255|(z[17]&255)<<8,this.pad[1]=z[18]&255|(z[19]&255)<<8,this.pad[2]=z[20]&255|(z[21]&255)<<8,this.pad[3]=z[22]&255|(z[23]&255)<<8,this.pad[4]=z[24]&255|(z[25]&255)<<8,this.pad[5]=z[26]&255|(z[27]&255)<<8,this.pad[6]=z[28]&255|(z[29]&255)<<8,this.pad[7]=z[30]&255|(z[31]&255)<<8};j.prototype.blocks=function(z,G,Y){for(var M=this.fin?0:2048,Z,de,me,we,Me,Ke,$e,Dt,Xe,Ct,Pt,At,zt,Bt,Ut,$t,ht,wt,at,mt=this.h[0],ut=this.h[1],nt=this.h[2],xe=this.h[3],_e=this.h[4],Ue=this.h[5],Oe=this.h[6],Le=this.h[7],Ge=this.h[8],Ft=this.h[9],Wt=this.r[0],Jt=this.r[1],Yt=this.r[2],fe=this.r[3],nr=this.r[4],wr=this.r[5],br=this.r[6],Zt=this.r[7],dr=this.r[8],hr=this.r[9];Y>=16;)Z=z[G+0]&255|(z[G+1]&255)<<8,mt+=Z&8191,de=z[G+2]&255|(z[G+3]&255)<<8,ut+=(Z>>>13|de<<3)&8191,me=z[G+4]&255|(z[G+5]&255)<<8,nt+=(de>>>10|me<<6)&8191,we=z[G+6]&255|(z[G+7]&255)<<8,xe+=(me>>>7|we<<9)&8191,Me=z[G+8]&255|(z[G+9]&255)<<8,_e+=(we>>>4|Me<<12)&8191,Ue+=Me>>>1&8191,Ke=z[G+10]&255|(z[G+11]&255)<<8,Oe+=(Me>>>14|Ke<<2)&8191,$e=z[G+12]&255|(z[G+13]&255)<<8,Le+=(Ke>>>11|$e<<5)&8191,Dt=z[G+14]&255|(z[G+15]&255)<<8,Ge+=($e>>>8|Dt<<8)&8191,Ft+=Dt>>>5|M,Xe=0,Ct=Xe,Ct+=mt*Wt,Ct+=ut*(5*hr),Ct+=nt*(5*dr),Ct+=xe*(5*Zt),Ct+=_e*(5*br),Xe=Ct>>>13,Ct&=8191,Ct+=Ue*(5*wr),Ct+=Oe*(5*nr),Ct+=Le*(5*fe),Ct+=Ge*(5*Yt),Ct+=Ft*(5*Jt),Xe+=Ct>>>13,Ct&=8191,Pt=Xe,Pt+=mt*Jt,Pt+=ut*Wt,Pt+=nt*(5*hr),Pt+=xe*(5*dr),Pt+=_e*(5*Zt),Xe=Pt>>>13,Pt&=8191,Pt+=Ue*(5*br),Pt+=Oe*(5*wr),Pt+=Le*(5*nr),Pt+=Ge*(5*fe),Pt+=Ft*(5*Yt),Xe+=Pt>>>13,Pt&=8191,At=Xe,At+=mt*Yt,At+=ut*Jt,At+=nt*Wt,At+=xe*(5*hr),At+=_e*(5*dr),Xe=At>>>13,At&=8191,At+=Ue*(5*Zt),At+=Oe*(5*br),At+=Le*(5*wr),At+=Ge*(5*nr),At+=Ft*(5*fe),Xe+=At>>>13,At&=8191,zt=Xe,zt+=mt*fe,zt+=ut*Yt,zt+=nt*Jt,zt+=xe*Wt,zt+=_e*(5*hr),Xe=zt>>>13,zt&=8191,zt+=Ue*(5*dr),zt+=Oe*(5*Zt),zt+=Le*(5*br),zt+=Ge*(5*wr),zt+=Ft*(5*nr),Xe+=zt>>>13,zt&=8191,Bt=Xe,Bt+=mt*nr,Bt+=ut*fe,Bt+=nt*Yt,Bt+=xe*Jt,Bt+=_e*Wt,Xe=Bt>>>13,Bt&=8191,Bt+=Ue*(5*hr),Bt+=Oe*(5*dr),Bt+=Le*(5*Zt),Bt+=Ge*(5*br),Bt+=Ft*(5*wr),Xe+=Bt>>>13,Bt&=8191,Ut=Xe,Ut+=mt*wr,Ut+=ut*nr,Ut+=nt*fe,Ut+=xe*Yt,Ut+=_e*Jt,Xe=Ut>>>13,Ut&=8191,Ut+=Ue*Wt,Ut+=Oe*(5*hr),Ut+=Le*(5*dr),Ut+=Ge*(5*Zt),Ut+=Ft*(5*br),Xe+=Ut>>>13,Ut&=8191,$t=Xe,$t+=mt*br,$t+=ut*wr,$t+=nt*nr,$t+=xe*fe,$t+=_e*Yt,Xe=$t>>>13,$t&=8191,$t+=Ue*Jt,$t+=Oe*Wt,$t+=Le*(5*hr),$t+=Ge*(5*dr),$t+=Ft*(5*Zt),Xe+=$t>>>13,$t&=8191,ht=Xe,ht+=mt*Zt,ht+=ut*br,ht+=nt*wr,ht+=xe*nr,ht+=_e*fe,Xe=ht>>>13,ht&=8191,ht+=Ue*Yt,ht+=Oe*Jt,ht+=Le*Wt,ht+=Ge*(5*hr),ht+=Ft*(5*dr),Xe+=ht>>>13,ht&=8191,wt=Xe,wt+=mt*dr,wt+=ut*Zt,wt+=nt*br,wt+=xe*wr,wt+=_e*nr,Xe=wt>>>13,wt&=8191,wt+=Ue*fe,wt+=Oe*Yt,wt+=Le*Jt,wt+=Ge*Wt,wt+=Ft*(5*hr),Xe+=wt>>>13,wt&=8191,at=Xe,at+=mt*hr,at+=ut*dr,at+=nt*Zt,at+=xe*br,at+=_e*wr,Xe=at>>>13,at&=8191,at+=Ue*nr,at+=Oe*fe,at+=Le*Yt,at+=Ge*Jt,at+=Ft*Wt,Xe+=at>>>13,at&=8191,Xe=(Xe<<2)+Xe|0,Xe=Xe+Ct|0,Ct=Xe&8191,Xe=Xe>>>13,Pt+=Xe,mt=Ct,ut=Pt,nt=At,xe=zt,_e=Bt,Ue=Ut,Oe=$t,Le=ht,Ge=wt,Ft=at,G+=16,Y-=16;this.h[0]=mt,this.h[1]=ut,this.h[2]=nt,this.h[3]=xe,this.h[4]=_e,this.h[5]=Ue,this.h[6]=Oe,this.h[7]=Le,this.h[8]=Ge,this.h[9]=Ft},j.prototype.finish=function(z,G){var Y=new Uint16Array(10),M,Z,de,me;if(this.leftover){for(me=this.leftover,this.buffer[me++]=1;me<16;me++)this.buffer[me]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(M=this.h[1]>>>13,this.h[1]&=8191,me=2;me<10;me++)this.h[me]+=M,M=this.h[me]>>>13,this.h[me]&=8191;for(this.h[0]+=M*5,M=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=M,M=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=M,Y[0]=this.h[0]+5,M=Y[0]>>>13,Y[0]&=8191,me=1;me<10;me++)Y[me]=this.h[me]+M,M=Y[me]>>>13,Y[me]&=8191;for(Y[9]-=8192,Z=(M^1)-1,me=0;me<10;me++)Y[me]&=Z;for(Z=~Z,me=0;me<10;me++)this.h[me]=this.h[me]&Z|Y[me];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,de=this.h[0]+this.pad[0],this.h[0]=de&65535,me=1;me<8;me++)de=(this.h[me]+this.pad[me]|0)+(de>>>16)|0,this.h[me]=de&65535;z[G+0]=this.h[0]>>>0&255,z[G+1]=this.h[0]>>>8&255,z[G+2]=this.h[1]>>>0&255,z[G+3]=this.h[1]>>>8&255,z[G+4]=this.h[2]>>>0&255,z[G+5]=this.h[2]>>>8&255,z[G+6]=this.h[3]>>>0&255,z[G+7]=this.h[3]>>>8&255,z[G+8]=this.h[4]>>>0&255,z[G+9]=this.h[4]>>>8&255,z[G+10]=this.h[5]>>>0&255,z[G+11]=this.h[5]>>>8&255,z[G+12]=this.h[6]>>>0&255,z[G+13]=this.h[6]>>>8&255,z[G+14]=this.h[7]>>>0&255,z[G+15]=this.h[7]>>>8&255},j.prototype.update=function(z,G,Y){var M,Z;if(this.leftover){for(Z=16-this.leftover,Z>Y&&(Z=Y),M=0;M<Z;M++)this.buffer[this.leftover+M]=z[G+M];if(Y-=Z,G+=Z,this.leftover+=Z,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(Y>=16&&(Z=Y-Y%16,this.blocks(z,G,Z),G+=Z,Y-=Z),Y){for(M=0;M<Y;M++)this.buffer[this.leftover+M]=z[G+M];this.leftover+=Y}};function w(z,G,Y,M,Z,de){var me=new j(de);return me.update(Y,M,Z),me.finish(z,G),0}function m(z,G,Y,M,Z,de){var me=new Uint8Array(16);return w(me,0,Y,M,Z,de),T(z,G,me,0)}function d(z,G,Y,M,Z){var de;if(Y<32)return-1;for(ne(z,0,G,0,Y,M,Z),w(z,16,z,32,Y-32,z),de=0;de<16;de++)z[de]=0;return 0}function p(z,G,Y,M,Z){var de,me=new Uint8Array(32);if(Y<32||(J(me,0,32,M,Z),m(G,16,G,32,Y-32,me)!==0))return-1;for(ne(z,0,G,0,Y,M,Z),de=0;de<32;de++)z[de]=0;return 0}function _(z,G){var Y;for(Y=0;Y<16;Y++)z[Y]=G[Y]|0}function N(z){var G,Y,M=1;for(G=0;G<16;G++)Y=z[G]+M+65535,M=Math.floor(Y/65536),z[G]=Y-M*65536;z[0]+=M-1+37*(M-1)}function E(z,G,Y){for(var M,Z=~(Y-1),de=0;de<16;de++)M=Z&(z[de]^G[de]),z[de]^=M,G[de]^=M}function S(z,G){var Y,M,Z,de=r(),me=r();for(Y=0;Y<16;Y++)me[Y]=G[Y];for(N(me),N(me),N(me),M=0;M<2;M++){for(de[0]=me[0]-65517,Y=1;Y<15;Y++)de[Y]=me[Y]-65535-(de[Y-1]>>16&1),de[Y-1]&=65535;de[15]=me[15]-32767-(de[14]>>16&1),Z=de[15]>>16&1,de[14]&=65535,E(me,de,1-Z)}for(Y=0;Y<16;Y++)z[2*Y]=me[Y]&255,z[2*Y+1]=me[Y]>>8}function b(z,G){var Y=new Uint8Array(32),M=new Uint8Array(32);return S(Y,z),S(M,G),k(Y,0,M,0)}function R(z){var G=new Uint8Array(32);return S(G,z),G[0]&1}function P(z,G){var Y;for(Y=0;Y<16;Y++)z[Y]=G[2*Y]+(G[2*Y+1]<<8);z[15]&=32767}function q(z,G,Y){for(var M=0;M<16;M++)z[M]=G[M]+Y[M]}function ue(z,G,Y){for(var M=0;M<16;M++)z[M]=G[M]-Y[M]}function $(z,G,Y){var M,Z,de=0,me=0,we=0,Me=0,Ke=0,$e=0,Dt=0,Xe=0,Ct=0,Pt=0,At=0,zt=0,Bt=0,Ut=0,$t=0,ht=0,wt=0,at=0,mt=0,ut=0,nt=0,xe=0,_e=0,Ue=0,Oe=0,Le=0,Ge=0,Ft=0,Wt=0,Jt=0,Yt=0,fe=Y[0],nr=Y[1],wr=Y[2],br=Y[3],Zt=Y[4],dr=Y[5],hr=Y[6],Qr=Y[7],xr=Y[8],Pr=Y[9],en=Y[10],tn=Y[11],Lr=Y[12],Bn=Y[13],$n=Y[14],Un=Y[15];M=G[0],de+=M*fe,me+=M*nr,we+=M*wr,Me+=M*br,Ke+=M*Zt,$e+=M*dr,Dt+=M*hr,Xe+=M*Qr,Ct+=M*xr,Pt+=M*Pr,At+=M*en,zt+=M*tn,Bt+=M*Lr,Ut+=M*Bn,$t+=M*$n,ht+=M*Un,M=G[1],me+=M*fe,we+=M*nr,Me+=M*wr,Ke+=M*br,$e+=M*Zt,Dt+=M*dr,Xe+=M*hr,Ct+=M*Qr,Pt+=M*xr,At+=M*Pr,zt+=M*en,Bt+=M*tn,Ut+=M*Lr,$t+=M*Bn,ht+=M*$n,wt+=M*Un,M=G[2],we+=M*fe,Me+=M*nr,Ke+=M*wr,$e+=M*br,Dt+=M*Zt,Xe+=M*dr,Ct+=M*hr,Pt+=M*Qr,At+=M*xr,zt+=M*Pr,Bt+=M*en,Ut+=M*tn,$t+=M*Lr,ht+=M*Bn,wt+=M*$n,at+=M*Un,M=G[3],Me+=M*fe,Ke+=M*nr,$e+=M*wr,Dt+=M*br,Xe+=M*Zt,Ct+=M*dr,Pt+=M*hr,At+=M*Qr,zt+=M*xr,Bt+=M*Pr,Ut+=M*en,$t+=M*tn,ht+=M*Lr,wt+=M*Bn,at+=M*$n,mt+=M*Un,M=G[4],Ke+=M*fe,$e+=M*nr,Dt+=M*wr,Xe+=M*br,Ct+=M*Zt,Pt+=M*dr,At+=M*hr,zt+=M*Qr,Bt+=M*xr,Ut+=M*Pr,$t+=M*en,ht+=M*tn,wt+=M*Lr,at+=M*Bn,mt+=M*$n,ut+=M*Un,M=G[5],$e+=M*fe,Dt+=M*nr,Xe+=M*wr,Ct+=M*br,Pt+=M*Zt,At+=M*dr,zt+=M*hr,Bt+=M*Qr,Ut+=M*xr,$t+=M*Pr,ht+=M*en,wt+=M*tn,at+=M*Lr,mt+=M*Bn,ut+=M*$n,nt+=M*Un,M=G[6],Dt+=M*fe,Xe+=M*nr,Ct+=M*wr,Pt+=M*br,At+=M*Zt,zt+=M*dr,Bt+=M*hr,Ut+=M*Qr,$t+=M*xr,ht+=M*Pr,wt+=M*en,at+=M*tn,mt+=M*Lr,ut+=M*Bn,nt+=M*$n,xe+=M*Un,M=G[7],Xe+=M*fe,Ct+=M*nr,Pt+=M*wr,At+=M*br,zt+=M*Zt,Bt+=M*dr,Ut+=M*hr,$t+=M*Qr,ht+=M*xr,wt+=M*Pr,at+=M*en,mt+=M*tn,ut+=M*Lr,nt+=M*Bn,xe+=M*$n,_e+=M*Un,M=G[8],Ct+=M*fe,Pt+=M*nr,At+=M*wr,zt+=M*br,Bt+=M*Zt,Ut+=M*dr,$t+=M*hr,ht+=M*Qr,wt+=M*xr,at+=M*Pr,mt+=M*en,ut+=M*tn,nt+=M*Lr,xe+=M*Bn,_e+=M*$n,Ue+=M*Un,M=G[9],Pt+=M*fe,At+=M*nr,zt+=M*wr,Bt+=M*br,Ut+=M*Zt,$t+=M*dr,ht+=M*hr,wt+=M*Qr,at+=M*xr,mt+=M*Pr,ut+=M*en,nt+=M*tn,xe+=M*Lr,_e+=M*Bn,Ue+=M*$n,Oe+=M*Un,M=G[10],At+=M*fe,zt+=M*nr,Bt+=M*wr,Ut+=M*br,$t+=M*Zt,ht+=M*dr,wt+=M*hr,at+=M*Qr,mt+=M*xr,ut+=M*Pr,nt+=M*en,xe+=M*tn,_e+=M*Lr,Ue+=M*Bn,Oe+=M*$n,Le+=M*Un,M=G[11],zt+=M*fe,Bt+=M*nr,Ut+=M*wr,$t+=M*br,ht+=M*Zt,wt+=M*dr,at+=M*hr,mt+=M*Qr,ut+=M*xr,nt+=M*Pr,xe+=M*en,_e+=M*tn,Ue+=M*Lr,Oe+=M*Bn,Le+=M*$n,Ge+=M*Un,M=G[12],Bt+=M*fe,Ut+=M*nr,$t+=M*wr,ht+=M*br,wt+=M*Zt,at+=M*dr,mt+=M*hr,ut+=M*Qr,nt+=M*xr,xe+=M*Pr,_e+=M*en,Ue+=M*tn,Oe+=M*Lr,Le+=M*Bn,Ge+=M*$n,Ft+=M*Un,M=G[13],Ut+=M*fe,$t+=M*nr,ht+=M*wr,wt+=M*br,at+=M*Zt,mt+=M*dr,ut+=M*hr,nt+=M*Qr,xe+=M*xr,_e+=M*Pr,Ue+=M*en,Oe+=M*tn,Le+=M*Lr,Ge+=M*Bn,Ft+=M*$n,Wt+=M*Un,M=G[14],$t+=M*fe,ht+=M*nr,wt+=M*wr,at+=M*br,mt+=M*Zt,ut+=M*dr,nt+=M*hr,xe+=M*Qr,_e+=M*xr,Ue+=M*Pr,Oe+=M*en,Le+=M*tn,Ge+=M*Lr,Ft+=M*Bn,Wt+=M*$n,Jt+=M*Un,M=G[15],ht+=M*fe,wt+=M*nr,at+=M*wr,mt+=M*br,ut+=M*Zt,nt+=M*dr,xe+=M*hr,_e+=M*Qr,Ue+=M*xr,Oe+=M*Pr,Le+=M*en,Ge+=M*tn,Ft+=M*Lr,Wt+=M*Bn,Jt+=M*$n,Yt+=M*Un,de+=38*wt,me+=38*at,we+=38*mt,Me+=38*ut,Ke+=38*nt,$e+=38*xe,Dt+=38*_e,Xe+=38*Ue,Ct+=38*Oe,Pt+=38*Le,At+=38*Ge,zt+=38*Ft,Bt+=38*Wt,Ut+=38*Jt,$t+=38*Yt,Z=1,M=de+Z+65535,Z=Math.floor(M/65536),de=M-Z*65536,M=me+Z+65535,Z=Math.floor(M/65536),me=M-Z*65536,M=we+Z+65535,Z=Math.floor(M/65536),we=M-Z*65536,M=Me+Z+65535,Z=Math.floor(M/65536),Me=M-Z*65536,M=Ke+Z+65535,Z=Math.floor(M/65536),Ke=M-Z*65536,M=$e+Z+65535,Z=Math.floor(M/65536),$e=M-Z*65536,M=Dt+Z+65535,Z=Math.floor(M/65536),Dt=M-Z*65536,M=Xe+Z+65535,Z=Math.floor(M/65536),Xe=M-Z*65536,M=Ct+Z+65535,Z=Math.floor(M/65536),Ct=M-Z*65536,M=Pt+Z+65535,Z=Math.floor(M/65536),Pt=M-Z*65536,M=At+Z+65535,Z=Math.floor(M/65536),At=M-Z*65536,M=zt+Z+65535,Z=Math.floor(M/65536),zt=M-Z*65536,M=Bt+Z+65535,Z=Math.floor(M/65536),Bt=M-Z*65536,M=Ut+Z+65535,Z=Math.floor(M/65536),Ut=M-Z*65536,M=$t+Z+65535,Z=Math.floor(M/65536),$t=M-Z*65536,M=ht+Z+65535,Z=Math.floor(M/65536),ht=M-Z*65536,de+=Z-1+37*(Z-1),Z=1,M=de+Z+65535,Z=Math.floor(M/65536),de=M-Z*65536,M=me+Z+65535,Z=Math.floor(M/65536),me=M-Z*65536,M=we+Z+65535,Z=Math.floor(M/65536),we=M-Z*65536,M=Me+Z+65535,Z=Math.floor(M/65536),Me=M-Z*65536,M=Ke+Z+65535,Z=Math.floor(M/65536),Ke=M-Z*65536,M=$e+Z+65535,Z=Math.floor(M/65536),$e=M-Z*65536,M=Dt+Z+65535,Z=Math.floor(M/65536),Dt=M-Z*65536,M=Xe+Z+65535,Z=Math.floor(M/65536),Xe=M-Z*65536,M=Ct+Z+65535,Z=Math.floor(M/65536),Ct=M-Z*65536,M=Pt+Z+65535,Z=Math.floor(M/65536),Pt=M-Z*65536,M=At+Z+65535,Z=Math.floor(M/65536),At=M-Z*65536,M=zt+Z+65535,Z=Math.floor(M/65536),zt=M-Z*65536,M=Bt+Z+65535,Z=Math.floor(M/65536),Bt=M-Z*65536,M=Ut+Z+65535,Z=Math.floor(M/65536),Ut=M-Z*65536,M=$t+Z+65535,Z=Math.floor(M/65536),$t=M-Z*65536,M=ht+Z+65535,Z=Math.floor(M/65536),ht=M-Z*65536,de+=Z-1+37*(Z-1),z[0]=de,z[1]=me,z[2]=we,z[3]=Me,z[4]=Ke,z[5]=$e,z[6]=Dt,z[7]=Xe,z[8]=Ct,z[9]=Pt,z[10]=At,z[11]=zt,z[12]=Bt,z[13]=Ut,z[14]=$t,z[15]=ht}function oe(z,G){$(z,G,G)}function ee(z,G){var Y=r(),M;for(M=0;M<16;M++)Y[M]=G[M];for(M=253;M>=0;M--)oe(Y,Y),M!==2&&M!==4&&$(Y,Y,G);for(M=0;M<16;M++)z[M]=Y[M]}function H(z,G){var Y=r(),M;for(M=0;M<16;M++)Y[M]=G[M];for(M=250;M>=0;M--)oe(Y,Y),M!==1&&$(Y,Y,G);for(M=0;M<16;M++)z[M]=Y[M]}function K(z,G,Y){var M=new Uint8Array(32),Z=new Float64Array(80),de,me,we=r(),Me=r(),Ke=r(),$e=r(),Dt=r(),Xe=r();for(me=0;me<31;me++)M[me]=G[me];for(M[31]=G[31]&127|64,M[0]&=248,P(Z,Y),me=0;me<16;me++)Me[me]=Z[me],$e[me]=we[me]=Ke[me]=0;for(we[0]=$e[0]=1,me=254;me>=0;--me)de=M[me>>>3]>>>(me&7)&1,E(we,Me,de),E(Ke,$e,de),q(Dt,we,Ke),ue(we,we,Ke),q(Ke,Me,$e),ue(Me,Me,$e),oe($e,Dt),oe(Xe,we),$(we,Ke,we),$(Ke,Me,Dt),q(Dt,we,Ke),ue(we,we,Ke),oe(Me,we),ue(Ke,$e,Xe),$(we,Ke,c),q(we,we,$e),$(Ke,Ke,we),$(we,$e,Xe),$($e,Me,Z),oe(Me,Dt),E(we,Me,de),E(Ke,$e,de);for(me=0;me<16;me++)Z[me+16]=we[me],Z[me+32]=Ke[me],Z[me+48]=Me[me],Z[me+64]=$e[me];var Ct=Z.subarray(32),Pt=Z.subarray(16);return ee(Ct,Ct),$(Pt,Pt,Ct),S(z,Pt),0}function A(z,G){return K(z,G,s)}function V(z,G){return n(G,32),A(z,G)}function se(z,G,Y){var M=new Uint8Array(32);return K(M,Y,G),O(z,i,M,F)}var X=d,re=p;function ce(z,G,Y,M,Z,de){var me=new Uint8Array(32);return se(me,Z,de),X(z,G,Y,M,me)}function be(z,G,Y,M,Z,de){var me=new Uint8Array(32);return se(me,Z,de),re(z,G,Y,M,me)}var Ee=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ae(z,G,Y,M){for(var Z=new Int32Array(16),de=new Int32Array(16),me,we,Me,Ke,$e,Dt,Xe,Ct,Pt,At,zt,Bt,Ut,$t,ht,wt,at,mt,ut,nt,xe,_e,Ue,Oe,Le,Ge,Ft=z[0],Wt=z[1],Jt=z[2],Yt=z[3],fe=z[4],nr=z[5],wr=z[6],br=z[7],Zt=G[0],dr=G[1],hr=G[2],Qr=G[3],xr=G[4],Pr=G[5],en=G[6],tn=G[7],Lr=0;M>=128;){for(ut=0;ut<16;ut++)nt=8*ut+Lr,Z[ut]=Y[nt+0]<<24|Y[nt+1]<<16|Y[nt+2]<<8|Y[nt+3],de[ut]=Y[nt+4]<<24|Y[nt+5]<<16|Y[nt+6]<<8|Y[nt+7];for(ut=0;ut<80;ut++)if(me=Ft,we=Wt,Me=Jt,Ke=Yt,$e=fe,Dt=nr,Xe=wr,Ct=br,Pt=Zt,At=dr,zt=hr,Bt=Qr,Ut=xr,$t=Pr,ht=en,wt=tn,xe=br,_e=tn,Ue=_e&65535,Oe=_e>>>16,Le=xe&65535,Ge=xe>>>16,xe=(fe>>>14|xr<<18)^(fe>>>18|xr<<14)^(xr>>>9|fe<<23),_e=(xr>>>14|fe<<18)^(xr>>>18|fe<<14)^(fe>>>9|xr<<23),Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,xe=fe&nr^~fe&wr,_e=xr&Pr^~xr&en,Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,xe=Ee[ut*2],_e=Ee[ut*2+1],Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,xe=Z[ut%16],_e=de[ut%16],Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,Oe+=Ue>>>16,Le+=Oe>>>16,Ge+=Le>>>16,at=Le&65535|Ge<<16,mt=Ue&65535|Oe<<16,xe=at,_e=mt,Ue=_e&65535,Oe=_e>>>16,Le=xe&65535,Ge=xe>>>16,xe=(Ft>>>28|Zt<<4)^(Zt>>>2|Ft<<30)^(Zt>>>7|Ft<<25),_e=(Zt>>>28|Ft<<4)^(Ft>>>2|Zt<<30)^(Ft>>>7|Zt<<25),Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,xe=Ft&Wt^Ft&Jt^Wt&Jt,_e=Zt&dr^Zt&hr^dr&hr,Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,Oe+=Ue>>>16,Le+=Oe>>>16,Ge+=Le>>>16,Ct=Le&65535|Ge<<16,wt=Ue&65535|Oe<<16,xe=Ke,_e=Bt,Ue=_e&65535,Oe=_e>>>16,Le=xe&65535,Ge=xe>>>16,xe=at,_e=mt,Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,Oe+=Ue>>>16,Le+=Oe>>>16,Ge+=Le>>>16,Ke=Le&65535|Ge<<16,Bt=Ue&65535|Oe<<16,Wt=me,Jt=we,Yt=Me,fe=Ke,nr=$e,wr=Dt,br=Xe,Ft=Ct,dr=Pt,hr=At,Qr=zt,xr=Bt,Pr=Ut,en=$t,tn=ht,Zt=wt,ut%16===15)for(nt=0;nt<16;nt++)xe=Z[nt],_e=de[nt],Ue=_e&65535,Oe=_e>>>16,Le=xe&65535,Ge=xe>>>16,xe=Z[(nt+9)%16],_e=de[(nt+9)%16],Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,at=Z[(nt+1)%16],mt=de[(nt+1)%16],xe=(at>>>1|mt<<31)^(at>>>8|mt<<24)^at>>>7,_e=(mt>>>1|at<<31)^(mt>>>8|at<<24)^(mt>>>7|at<<25),Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,at=Z[(nt+14)%16],mt=de[(nt+14)%16],xe=(at>>>19|mt<<13)^(mt>>>29|at<<3)^at>>>6,_e=(mt>>>19|at<<13)^(at>>>29|mt<<3)^(mt>>>6|at<<26),Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,Oe+=Ue>>>16,Le+=Oe>>>16,Ge+=Le>>>16,Z[nt]=Le&65535|Ge<<16,de[nt]=Ue&65535|Oe<<16;xe=Ft,_e=Zt,Ue=_e&65535,Oe=_e>>>16,Le=xe&65535,Ge=xe>>>16,xe=z[0],_e=G[0],Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,Oe+=Ue>>>16,Le+=Oe>>>16,Ge+=Le>>>16,z[0]=Ft=Le&65535|Ge<<16,G[0]=Zt=Ue&65535|Oe<<16,xe=Wt,_e=dr,Ue=_e&65535,Oe=_e>>>16,Le=xe&65535,Ge=xe>>>16,xe=z[1],_e=G[1],Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,Oe+=Ue>>>16,Le+=Oe>>>16,Ge+=Le>>>16,z[1]=Wt=Le&65535|Ge<<16,G[1]=dr=Ue&65535|Oe<<16,xe=Jt,_e=hr,Ue=_e&65535,Oe=_e>>>16,Le=xe&65535,Ge=xe>>>16,xe=z[2],_e=G[2],Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,Oe+=Ue>>>16,Le+=Oe>>>16,Ge+=Le>>>16,z[2]=Jt=Le&65535|Ge<<16,G[2]=hr=Ue&65535|Oe<<16,xe=Yt,_e=Qr,Ue=_e&65535,Oe=_e>>>16,Le=xe&65535,Ge=xe>>>16,xe=z[3],_e=G[3],Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,Oe+=Ue>>>16,Le+=Oe>>>16,Ge+=Le>>>16,z[3]=Yt=Le&65535|Ge<<16,G[3]=Qr=Ue&65535|Oe<<16,xe=fe,_e=xr,Ue=_e&65535,Oe=_e>>>16,Le=xe&65535,Ge=xe>>>16,xe=z[4],_e=G[4],Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,Oe+=Ue>>>16,Le+=Oe>>>16,Ge+=Le>>>16,z[4]=fe=Le&65535|Ge<<16,G[4]=xr=Ue&65535|Oe<<16,xe=nr,_e=Pr,Ue=_e&65535,Oe=_e>>>16,Le=xe&65535,Ge=xe>>>16,xe=z[5],_e=G[5],Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,Oe+=Ue>>>16,Le+=Oe>>>16,Ge+=Le>>>16,z[5]=nr=Le&65535|Ge<<16,G[5]=Pr=Ue&65535|Oe<<16,xe=wr,_e=en,Ue=_e&65535,Oe=_e>>>16,Le=xe&65535,Ge=xe>>>16,xe=z[6],_e=G[6],Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,Oe+=Ue>>>16,Le+=Oe>>>16,Ge+=Le>>>16,z[6]=wr=Le&65535|Ge<<16,G[6]=en=Ue&65535|Oe<<16,xe=br,_e=tn,Ue=_e&65535,Oe=_e>>>16,Le=xe&65535,Ge=xe>>>16,xe=z[7],_e=G[7],Ue+=_e&65535,Oe+=_e>>>16,Le+=xe&65535,Ge+=xe>>>16,Oe+=Ue>>>16,Le+=Oe>>>16,Ge+=Le>>>16,z[7]=br=Le&65535|Ge<<16,G[7]=tn=Ue&65535|Oe<<16,Lr+=128,M-=128}return M}function Ve(z,G,Y){var M=new Int32Array(8),Z=new Int32Array(8),de=new Uint8Array(256),me,we=Y;for(M[0]=1779033703,M[1]=3144134277,M[2]=1013904242,M[3]=2773480762,M[4]=1359893119,M[5]=2600822924,M[6]=528734635,M[7]=1541459225,Z[0]=4089235720,Z[1]=2227873595,Z[2]=4271175723,Z[3]=1595750129,Z[4]=2917565137,Z[5]=725511199,Z[6]=4215389547,Z[7]=327033209,Ae(M,Z,G,Y),Y%=128,me=0;me<Y;me++)de[me]=G[we-Y+me];for(de[Y]=128,Y=256-128*(Y<112?1:0),de[Y-9]=0,y(de,Y-8,we/536870912|0,we<<3),Ae(M,Z,de,Y),me=0;me<8;me++)y(z,8*me,M[me],Z[me]);return 0}function De(z,G){var Y=r(),M=r(),Z=r(),de=r(),me=r(),we=r(),Me=r(),Ke=r(),$e=r();ue(Y,z[1],z[0]),ue($e,G[1],G[0]),$(Y,Y,$e),q(M,z[0],z[1]),q($e,G[0],G[1]),$(M,M,$e),$(Z,z[3],G[3]),$(Z,Z,u),$(de,z[2],G[2]),q(de,de,de),ue(me,M,Y),ue(we,de,Z),q(Me,de,Z),q(Ke,M,Y),$(z[0],me,we),$(z[1],Ke,Me),$(z[2],Me,we),$(z[3],me,Ke)}function qe(z,G,Y){var M;for(M=0;M<4;M++)E(z[M],G[M],Y)}function Te(z,G){var Y=r(),M=r(),Z=r();ee(Z,G[2]),$(Y,G[0],Z),$(M,G[1],Z),S(z,M),z[31]^=R(Y)<<7}function et(z,G,Y){var M,Z;for(_(z[0],o),_(z[1],a),_(z[2],a),_(z[3],o),Z=255;Z>=0;--Z)M=Y[Z/8|0]>>(Z&7)&1,qe(z,G,M),De(G,z),De(z,z),qe(z,G,M)}function We(z,G){var Y=[r(),r(),r(),r()];_(Y[0],f),_(Y[1],h),_(Y[2],a),$(Y[3],f,h),et(z,Y,G)}function Ze(z,G,Y){var M=new Uint8Array(64),Z=[r(),r(),r(),r()],de;for(Y||n(G,32),Ve(M,G,32),M[0]&=248,M[31]&=127,M[31]|=64,We(Z,M),Te(z,Z),de=0;de<32;de++)G[de+32]=z[de];return 0}var ot=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function W(z,G){var Y,M,Z,de;for(M=63;M>=32;--M){for(Y=0,Z=M-32,de=M-12;Z<de;++Z)G[Z]+=Y-16*G[M]*ot[Z-(M-32)],Y=Math.floor((G[Z]+128)/256),G[Z]-=Y*256;G[Z]+=Y,G[M]=0}for(Y=0,Z=0;Z<32;Z++)G[Z]+=Y-(G[31]>>4)*ot[Z],Y=G[Z]>>8,G[Z]&=255;for(Z=0;Z<32;Z++)G[Z]-=Y*ot[Z];for(M=0;M<32;M++)G[M+1]+=G[M]>>8,z[M]=G[M]&255}function B(z){var G=new Float64Array(64),Y;for(Y=0;Y<64;Y++)G[Y]=z[Y];for(Y=0;Y<64;Y++)z[Y]=0;W(z,G)}function U(z,G,Y,M){var Z=new Uint8Array(64),de=new Uint8Array(64),me=new Uint8Array(64),we,Me,Ke=new Float64Array(64),$e=[r(),r(),r(),r()];Ve(Z,M,32),Z[0]&=248,Z[31]&=127,Z[31]|=64;var Dt=Y+64;for(we=0;we<Y;we++)z[64+we]=G[we];for(we=0;we<32;we++)z[32+we]=Z[32+we];for(Ve(me,z.subarray(32),Y+32),B(me),We($e,me),Te(z,$e),we=32;we<64;we++)z[we]=M[we];for(Ve(de,z,Y+64),B(de),we=0;we<64;we++)Ke[we]=0;for(we=0;we<32;we++)Ke[we]=me[we];for(we=0;we<32;we++)for(Me=0;Me<32;Me++)Ke[we+Me]+=de[we]*Z[Me];return W(z.subarray(32),Ke),Dt}function Q(z,G){var Y=r(),M=r(),Z=r(),de=r(),me=r(),we=r(),Me=r();return _(z[2],a),P(z[1],G),oe(Z,z[1]),$(de,Z,l),ue(Z,Z,z[2]),q(de,z[2],de),oe(me,de),oe(we,me),$(Me,we,me),$(Y,Me,Z),$(Y,Y,de),H(Y,Y),$(Y,Y,Z),$(Y,Y,de),$(Y,Y,de),$(z[0],Y,de),oe(M,z[0]),$(M,M,de),b(M,Z)&&$(z[0],z[0],g),oe(M,z[0]),$(M,M,de),b(M,Z)?-1:(R(z[0])===G[31]>>7&&ue(z[0],o,z[0]),$(z[3],z[0],z[1]),0)}function le(z,G,Y,M){var Z,de=new Uint8Array(32),me=new Uint8Array(64),we=[r(),r(),r(),r()],Me=[r(),r(),r(),r()];if(Y<64||Q(Me,M))return-1;for(Z=0;Z<Y;Z++)z[Z]=G[Z];for(Z=0;Z<32;Z++)z[Z+32]=M[Z];if(Ve(me,z,Y),B(me),et(we,Me,me),We(Me,G.subarray(32)),De(we,Me),Te(de,we),Y-=64,k(G,0,de,0)){for(Z=0;Z<Y;Z++)z[Z]=0;return-1}for(Z=0;Z<Y;Z++)z[Z]=G[Z+64];return Y}var he=32,ge=24,je=32,Je=16,Qe=32,bt=32,gt=32,vt=32,er=32,sr=ge,Lt=je,jt=Je,Et=64,lt=32,Ot=64,te=32,ie=64;e.lowlevel={crypto_core_hsalsa20:O,crypto_stream_xor:ne,crypto_stream:J,crypto_stream_salsa20_xor:x,crypto_stream_salsa20:L,crypto_onetimeauth:w,crypto_onetimeauth_verify:m,crypto_verify_16:T,crypto_verify_32:k,crypto_secretbox:d,crypto_secretbox_open:p,crypto_scalarmult:K,crypto_scalarmult_base:A,crypto_box_beforenm:se,crypto_box_afternm:X,crypto_box:ce,crypto_box_open:be,crypto_box_keypair:V,crypto_hash:Ve,crypto_sign:U,crypto_sign_keypair:Ze,crypto_sign_open:le,crypto_secretbox_KEYBYTES:he,crypto_secretbox_NONCEBYTES:ge,crypto_secretbox_ZEROBYTES:je,crypto_secretbox_BOXZEROBYTES:Je,crypto_scalarmult_BYTES:Qe,crypto_scalarmult_SCALARBYTES:bt,crypto_box_PUBLICKEYBYTES:gt,crypto_box_SECRETKEYBYTES:vt,crypto_box_BEFORENMBYTES:er,crypto_box_NONCEBYTES:sr,crypto_box_ZEROBYTES:Lt,crypto_box_BOXZEROBYTES:jt,crypto_sign_BYTES:Et,crypto_sign_PUBLICKEYBYTES:lt,crypto_sign_SECRETKEYBYTES:Ot,crypto_sign_SEEDBYTES:te,crypto_hash_BYTES:ie,gf:r,D:l,L:ot,pack:Te,pack25519:S,unpack25519:P,M:$,A:q,S:oe,Z:ue,pow2523:H,add:De,set25519:_,modL:W,scalarmult:et,scalarbase:We};function Ce(z,G){if(z.length!==he)throw new Error("bad key size");if(G.length!==ge)throw new Error("bad nonce size")}function Ne(z,G){if(z.length!==gt)throw new Error("bad public key size");if(G.length!==vt)throw new Error("bad secret key size")}function ke(){for(var z=0;z<arguments.length;z++)if(!(arguments[z]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function xt(z){for(var G=0;G<z.length;G++)z[G]=0}e.randomBytes=function(z){var G=new Uint8Array(z);return n(G,z),G},e.secretbox=function(z,G,Y){ke(z,G,Y),Ce(Y,G);for(var M=new Uint8Array(je+z.length),Z=new Uint8Array(M.length),de=0;de<z.length;de++)M[de+je]=z[de];return d(Z,M,M.length,G,Y),Z.subarray(Je)},e.secretbox.open=function(z,G,Y){ke(z,G,Y),Ce(Y,G);for(var M=new Uint8Array(Je+z.length),Z=new Uint8Array(M.length),de=0;de<z.length;de++)M[de+Je]=z[de];return M.length<32||p(Z,M,M.length,G,Y)!==0?null:Z.subarray(je)},e.secretbox.keyLength=he,e.secretbox.nonceLength=ge,e.secretbox.overheadLength=Je,e.scalarMult=function(z,G){if(ke(z,G),z.length!==bt)throw new Error("bad n size");if(G.length!==Qe)throw new Error("bad p size");var Y=new Uint8Array(Qe);return K(Y,z,G),Y},e.scalarMult.base=function(z){if(ke(z),z.length!==bt)throw new Error("bad n size");var G=new Uint8Array(Qe);return A(G,z),G},e.scalarMult.scalarLength=bt,e.scalarMult.groupElementLength=Qe,e.box=function(z,G,Y,M){var Z=e.box.before(Y,M);return e.secretbox(z,G,Z)},e.box.before=function(z,G){ke(z,G),Ne(z,G);var Y=new Uint8Array(er);return se(Y,z,G),Y},e.box.after=e.secretbox,e.box.open=function(z,G,Y,M){var Z=e.box.before(Y,M);return e.secretbox.open(z,G,Z)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var z=new Uint8Array(gt),G=new Uint8Array(vt);return V(z,G),{publicKey:z,secretKey:G}},e.box.keyPair.fromSecretKey=function(z){if(ke(z),z.length!==vt)throw new Error("bad secret key size");var G=new Uint8Array(gt);return A(G,z),{publicKey:G,secretKey:new Uint8Array(z)}},e.box.publicKeyLength=gt,e.box.secretKeyLength=vt,e.box.sharedKeyLength=er,e.box.nonceLength=sr,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(z,G){if(ke(z,G),G.length!==Ot)throw new Error("bad secret key size");var Y=new Uint8Array(Et+z.length);return U(Y,z,z.length,G),Y},e.sign.open=function(z,G){if(ke(z,G),G.length!==lt)throw new Error("bad public key size");var Y=new Uint8Array(z.length),M=le(Y,z,z.length,G);if(M<0)return null;for(var Z=new Uint8Array(M),de=0;de<Z.length;de++)Z[de]=Y[de];return Z},e.sign.detached=function(z,G){for(var Y=e.sign(z,G),M=new Uint8Array(Et),Z=0;Z<M.length;Z++)M[Z]=Y[Z];return M},e.sign.detached.verify=function(z,G,Y){if(ke(z,G,Y),G.length!==Et)throw new Error("bad signature size");if(Y.length!==lt)throw new Error("bad public key size");var M=new Uint8Array(Et+z.length),Z=new Uint8Array(Et+z.length),de;for(de=0;de<Et;de++)M[de]=G[de];for(de=0;de<z.length;de++)M[de+Et]=z[de];return le(Z,M,M.length,Y)>=0},e.sign.keyPair=function(){var z=new Uint8Array(lt),G=new Uint8Array(Ot);return Ze(z,G),{publicKey:z,secretKey:G}},e.sign.keyPair.fromSecretKey=function(z){if(ke(z),z.length!==Ot)throw new Error("bad secret key size");for(var G=new Uint8Array(lt),Y=0;Y<G.length;Y++)G[Y]=z[32+Y];return{publicKey:G,secretKey:new Uint8Array(z)}},e.sign.keyPair.fromSeed=function(z){if(ke(z),z.length!==te)throw new Error("bad seed size");for(var G=new Uint8Array(lt),Y=new Uint8Array(Ot),M=0;M<32;M++)Y[M]=z[M];return Ze(G,Y,!0),{publicKey:G,secretKey:Y}},e.sign.publicKeyLength=lt,e.sign.secretKeyLength=Ot,e.sign.seedLength=te,e.sign.signatureLength=Et,e.hash=function(z){ke(z);var G=new Uint8Array(ie);return Ve(G,z,z.length),G},e.hash.hashLength=ie,e.verify=function(z,G){return ke(z,G),z.length===0||G.length===0||z.length!==G.length?!1:v(z,0,G,0,z.length)===0},e.setPRNG=function(z){n=z},function(){var z=typeof self<"u"?self.crypto||self.msCrypto:null;if(z&&z.getRandomValues){var G=65536;e.setPRNG(function(Y,M){var Z,de=new Uint8Array(M);for(Z=0;Z<M;Z+=G)z.getRandomValues(de.subarray(Z,Z+Math.min(M-Z,G)));for(Z=0;Z<M;Z++)Y[Z]=de[Z];xt(de)})}else typeof I9<"u"&&(z=tx(),z&&z.randomBytes&&e.setPRNG(function(Y,M){var Z,de=z.randomBytes(M);for(Z=0;Z<M;Z++)Y[Z]=de[Z];xt(de)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(k9);var Tz=k9.exports;const C9=An(Tz),gl=C9.lowlevel;function Nz(t){let e;typeof t=="string"?e=Buffer.from(t,"hex"):e=t;const r=new Uint8Array(64),n=[gl.gf(),gl.gf(),gl.gf(),gl.gf()],i=new Uint8Array([...new Uint8Array(e),...new Uint8Array(32)]),s=new Uint8Array(32);gl.crypto_hash(r,i,32),r[0]&=248,r[31]&=127,r[31]|=64,gl.scalarbase(n,r),gl.pack(s,n);for(let o=0;o<32;o+=1)i[o+32]=s[o];return{sk:Buffer.from(i),pk:Buffer.from(s)}}var Mz={exports:{}},Sw={exports:{}},vn={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array},R9={exports:{}},$d={exports:{}},gS;function ep(){if(gS)return $d.exports;gS=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return $d.exports=t,$d.exports.AbortSignal=e,$d.exports.default=t,$d.exports}(function(t){const e=Rt,{kResistStopPropagation:r,SymbolDispose:n}=vn,i=globalThis.AbortSignal||ep().AbortSignal,s=globalThis.AbortController||ep().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,a=globalThis.Blob||e.Blob,c=typeof a<"u"?function(g){return g instanceof a}:function(g){return!1},l=(h,g)=>{if(h!==void 0&&(h===null||typeof h!="object"||!("aborted"in h)))throw new ERR_INVALID_ARG_TYPE(g,"AbortSignal",h)},u=(h,g)=>{if(typeof h!="function")throw new ERR_INVALID_ARG_TYPE(g,"Function",h)};class f extends Error{constructor(g){if(!Array.isArray(g))throw new TypeError(`Expected input to be an Array, got ${typeof g}`);let y="";for(let v=0;v<g.length;v++)y+=`    ${g[v].stack}
`;super(y),this.name="AggregateError",this.errors=g}}t.exports={AggregateError:f,kEmptyObject:Object.freeze({}),once(h){let g=!1;return function(...y){g||(g=!0,h.apply(this,y))}},createDeferredPromise:function(){let h,g;return{promise:new Promise((v,T)=>{h=v,g=T}),resolve:h,reject:g}},promisify(h){return new Promise((g,y)=>{h((v,...T)=>v?y(v):g(...T))})},debuglog(){return function(){}},format(h,...g){return h.replace(/%([sdifj])/g,function(...[y,v]){const T=g.shift();return v==="f"?T.toFixed(6):v==="j"?JSON.stringify(T):v==="s"&&typeof T=="object"?`${T.constructor!==Object?T.constructor.name:""} {}`.trim():T.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof o},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:c,deprecate(h,g){return h},addAbortListener:hi.addAbortListener||function(g,y){if(g===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",g);l(g,"signal"),u(y,"listener");let v;return g.aborted?queueMicrotask(()=>y()):(g.addEventListener("abort",y,{__proto__:null,once:!0,[r]:!0}),v=()=>{g.removeEventListener("abort",y)}),{__proto__:null,[n](){var T;(T=v)===null||T===void 0||T()}}},AbortSignalAny:i.any||function(g){if(g.length===1)return g[0];const y=new s,v=()=>y.abort();return g.forEach(T=>{l(T,"signals"),T.addEventListener("abort",v,{once:!0})}),y.signal.addEventListener("abort",()=>{g.forEach(T=>T.removeEventListener("abort",v))},{once:!0}),y.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(R9);var qi=R9.exports,bx={};const{format:Oz,inspect:u1,AggregateError:Lz}=qi,Dz=globalThis.AggregateError||Lz,Bz=Symbol("kIsNodeError"),$z=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Uz=/^([A-Z][a-z0-9]*)+$/,Fz="__node_internal_",Tm={};function Gl(t,e){if(!t)throw new Tm.ERR_INTERNAL_ASSERTION(e)}function mS(t){let e="",r=t.length;const n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function jz(t,e,r){if(typeof e=="function")return Gl(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);const n=(e.match(/%[dfijoOs]/g)||[]).length;return Gl(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:Oz(e,...r)}function pi(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(jz(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[Bz]=!0,Tm[t]=n}function yS(t){const e=Fz+t.name;return Object.defineProperty(t,"name",{value:e}),t}function zz(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const r=new Dz([e,t],e.message);return r.code=e.code,r}return t||e}let qz=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Tm.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};pi("ERR_ASSERTION","%s",Error);pi("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Gl(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";const i=[],s=[],o=[];for(const c of e)Gl(typeof c=="string","All expected entries have to be of type string"),$z.includes(c)?i.push(c.toLowerCase()):Uz.test(c)?s.push(c):(Gl(c!=="object",'The value "object" should be written as "Object"'),o.push(c));if(s.length>0){const c=i.indexOf("object");c!==-1&&(i.splice(i,c,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{const c=i.pop();n+=`one of type ${i.join(", ")}, or ${c}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const c=s.pop();n+=`an instance of ${s.join(", ")}, or ${c}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{const c=o.pop();n+=`one of ${o.join(", ")}, or ${c}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{const c=u1(r,{depth:-1});n+=`. Received ${c}`}}else{let c=u1(r,{colors:!1});c.length>25&&(c=`${c.slice(0,25)}...`),n+=`. Received type ${typeof r} (${c})`}return n},TypeError);pi("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=u1(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);pi("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;const i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);pi("ERR_MISSING_ARGS",(...t)=>{Gl(t.length>0,"At least one arg needs to be specified");let e;const r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);pi("ERR_OUT_OF_RANGE",(t,e,r)=>{Gl(e,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=mS(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=mS(n)),n+="n"):n=u1(r),`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);pi("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);pi("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);pi("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);pi("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);pi("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);pi("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);pi("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);pi("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);pi("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);pi("ERR_STREAM_WRITE_AFTER_END","write after end",Error);pi("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var as={AbortError:qz,aggregateTwoErrors:yS(zz),hideStackFrames:yS,codes:Tm};const{ArrayIsArray:vx,ArrayPrototypeIncludes:P9,ArrayPrototypeJoin:T9,ArrayPrototypeMap:Kz,NumberIsInteger:xx,NumberIsNaN:Wz,NumberMAX_SAFE_INTEGER:Hz,NumberMIN_SAFE_INTEGER:Vz,NumberParseInt:Gz,ObjectPrototypeHasOwnProperty:Yz,RegExpPrototypeExec:N9,String:Jz,StringPrototypeToUpperCase:Xz,StringPrototypeTrim:Zz}=vn,{hideStackFrames:eo,codes:{ERR_SOCKET_BAD_PORT:Qz,ERR_INVALID_ARG_TYPE:Ni,ERR_INVALID_ARG_VALUE:ad,ERR_OUT_OF_RANGE:cu,ERR_UNKNOWN_SIGNAL:wS}}=as,{normalizeEncoding:eq}=qi,{isAsyncFunction:tq,isArrayBufferView:rq}=qi.types,bS={};function nq(t){return t===(t|0)}function iq(t){return t===t>>>0}const sq=/^[0-7]+$/,oq="must be a 32-bit unsigned integer or an octal string";function aq(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(N9(sq,t)===null)throw new ad(e,t,oq);t=Gz(t,8)}return M9(t,e),t}const cq=eo((t,e,r=Vz,n=Hz)=>{if(typeof t!="number")throw new Ni(e,"number",t);if(!xx(t))throw new cu(e,"an integer",t);if(t<r||t>n)throw new cu(e,`>= ${r} && <= ${n}`,t)}),lq=eo((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Ni(e,"number",t);if(!xx(t))throw new cu(e,"an integer",t);if(t<r||t>n)throw new cu(e,`>= ${r} && <= ${n}`,t)}),M9=eo((t,e,r=!1)=>{if(typeof t!="number")throw new Ni(e,"number",t);if(!xx(t))throw new cu(e,"an integer",t);const n=r?1:0,i=4294967295;if(t<n||t>i)throw new cu(e,`>= ${n} && <= ${i}`,t)});function _x(t,e){if(typeof t!="string")throw new Ni(e,"string",t)}function uq(t,e,r=void 0,n){if(typeof t!="number")throw new Ni(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&Wz(t))throw new cu(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}const fq=eo((t,e,r)=>{if(!P9(r,t)){const i="must be one of: "+T9(Kz(r,s=>typeof s=="string"?`'${s}'`:Jz(s)),", ");throw new ad(e,t,i)}});function O9(t,e){if(typeof t!="boolean")throw new Ni(e,"boolean",t)}function Ew(t,e,r){return t==null||!Yz(t,e)?r:t[e]}const dq=eo((t,e,r=null)=>{const n=Ew(r,"allowArray",!1),i=Ew(r,"allowFunction",!1);if(!Ew(r,"nullable",!1)&&t===null||!n&&vx(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new Ni(e,"Object",t)}),hq=eo((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Ni(e,"a dictionary",t)}),Nm=eo((t,e,r=0)=>{if(!vx(t))throw new Ni(e,"Array",t);if(t.length<r){const n=`must be longer than ${r}`;throw new ad(e,t,n)}});function pq(t,e){Nm(t,e);for(let r=0;r<t.length;r++)_x(t[r],`${e}[${r}]`)}function gq(t,e){Nm(t,e);for(let r=0;r<t.length;r++)O9(t[r],`${e}[${r}]`)}function mq(t,e){Nm(t,e);for(let r=0;r<t.length;r++){const n=t[r],i=`${e}[${r}]`;if(n==null)throw new Ni(i,"AbortSignal",n);L9(n,i)}}function yq(t,e="signal"){if(_x(t,e),bS[t]===void 0)throw bS[Xz(t)]!==void 0?new wS(t+" (signals must use all capital letters)"):new wS(t)}const wq=eo((t,e="buffer")=>{if(!rq(t))throw new Ni(e,["Buffer","TypedArray","DataView"],t)});function bq(t,e){const r=eq(e),n=t.length;if(r==="hex"&&n%2!==0)throw new ad("encoding",e,`is invalid for data of length ${n}`)}function vq(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Zz(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Qz(e,t,r);return t|0}const L9=eo((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Ni(e,"AbortSignal",t)}),xq=eo((t,e)=>{if(typeof t!="function")throw new Ni(e,"Function",t)}),_q=eo((t,e)=>{if(typeof t!="function"||tq(t))throw new Ni(e,"Function",t)}),Sq=eo((t,e)=>{if(t!==void 0)throw new Ni(e,"undefined",t)});function Eq(t,e,r){if(!P9(r,t))throw new Ni(e,`('${T9(r,"|")}')`,t)}const Aq=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function vS(t,e){if(typeof t>"u"||!N9(Aq,t))throw new ad(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Iq(t){if(typeof t=="string")return vS(t,"hints"),t;if(vx(t)){const e=t.length;let r="";if(e===0)return r;for(let n=0;n<e;n++){const i=t[n];vS(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new ad("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var Tp={isInt32:nq,isUint32:iq,parseFileMode:aq,validateArray:Nm,validateStringArray:pq,validateBooleanArray:gq,validateAbortSignalArray:mq,validateBoolean:O9,validateBuffer:wq,validateDictionary:hq,validateEncoding:bq,validateFunction:xq,validateInt32:lq,validateInteger:cq,validateNumber:uq,validateObject:dq,validateOneOf:fq,validatePlainFunction:_q,validatePort:vq,validateSignalName:yq,validateString:_x,validateUint32:M9,validateUndefined:Sq,validateUnion:Eq,validateAbortSignal:L9,validateLinkHeaderValue:Iq},Sx={exports:{}};const{SymbolAsyncIterator:xS,SymbolIterator:_S,SymbolFor:bu}=vn,D9=bu("nodejs.stream.destroyed"),B9=bu("nodejs.stream.errored"),qv=bu("nodejs.stream.readable"),Kv=bu("nodejs.stream.writable"),$9=bu("nodejs.stream.disturbed"),kq=bu("nodejs.webstream.isClosedPromise"),Cq=bu("nodejs.webstream.controllerErrorFunction");function Mm(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Om(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Rq(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function ma(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function U9(t){return!!(t&&!ma(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function F9(t){return!!(t&&!ma(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function j9(t){return!!(t&&!ma(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Pq(t){return U9(t)||F9(t)||j9(t)}function Tq(t,e){return t==null?!1:e===!0?typeof t[xS]=="function":e===!1?typeof t[_S]=="function":typeof t[xS]=="function"||typeof t[_S]=="function"}function Lm(t){if(!ma(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[D9]||n!=null&&n.destroyed)}function z9(t){if(!Om(t))return null;if(t.writableEnded===!0)return!0;const e=t._writableState;return e!=null&&e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function Nq(t,e){if(!Om(t))return null;if(t.writableFinished===!0)return!0;const r=t._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function Mq(t){if(!Mm(t))return null;if(t.readableEnded===!0)return!0;const e=t._readableState;return!e||e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function q9(t,e){if(!Mm(t))return null;const r=t._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function K9(t){return t&&t[qv]!=null?t[qv]:typeof(t==null?void 0:t.readable)!="boolean"?null:Lm(t)?!1:Mm(t)&&t.readable&&!q9(t)}function W9(t){return t&&t[Kv]!=null?t[Kv]:typeof(t==null?void 0:t.writable)!="boolean"?null:Lm(t)?!1:Om(t)&&t.writable&&!z9(t)}function Oq(t,e){return ma(t)?Lm(t)?!0:!((e==null?void 0:e.readable)!==!1&&K9(t)||(e==null?void 0:e.writable)!==!1&&W9(t)):null}function Lq(t){var e,r;return ma(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Dq(t){var e,r;return ma(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Bq(t){if(!ma(t))return null;if(typeof t.closed=="boolean")return t.closed;const e=t._writableState,r=t._readableState;return typeof(e==null?void 0:e.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(e==null?void 0:e.closed)||(r==null?void 0:r.closed):typeof t._closed=="boolean"&&H9(t)?t._closed:null}function H9(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function V9(t){return typeof t._sent100=="boolean"&&H9(t)}function $q(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Uq(t){if(!ma(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!n&&V9(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Fq(t){var e;return!!(t&&((e=t[$9])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function jq(t){var e,r,n,i,s,o,a,c,l,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[B9])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(c=t._writableState)===null||c===void 0?void 0:c.errorEmitted)!==null&&r!==void 0?r:(l=t._readableState)===null||l===void 0?void 0:l.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}var tc={isDestroyed:Lm,kIsDestroyed:D9,isDisturbed:Fq,kIsDisturbed:$9,isErrored:jq,kIsErrored:B9,isReadable:K9,kIsReadable:qv,kIsClosedPromise:kq,kControllerErrorFunction:Cq,kIsWritable:Kv,isClosed:Bq,isDuplexNodeStream:Rq,isFinished:Oq,isIterable:Tq,isReadableNodeStream:Mm,isReadableStream:U9,isReadableEnded:Mq,isReadableFinished:q9,isReadableErrored:Dq,isNodeStream:ma,isWebStream:Pq,isWritable:W9,isWritableNodeStream:Om,isWritableStream:F9,isWritableEnded:z9,isWritableFinished:Nq,isWritableErrored:Lq,isServerRequest:$q,isServerResponse:V9,willEmitClose:Uq,isTransformStream:j9};const mc=rl,{AbortError:G9,codes:zq}=as,{ERR_INVALID_ARG_TYPE:qq,ERR_STREAM_PREMATURE_CLOSE:SS}=zq,{kEmptyObject:Wv,once:Hv}=qi,{validateAbortSignal:Kq,validateFunction:Wq,validateObject:Hq,validateBoolean:Vq}=Tp,{Promise:Gq,PromisePrototypeThen:Yq,SymbolDispose:Y9}=vn,{isClosed:Jq,isReadable:ES,isReadableNodeStream:Aw,isReadableStream:Xq,isReadableFinished:AS,isReadableErrored:IS,isWritable:kS,isWritableNodeStream:CS,isWritableStream:Zq,isWritableFinished:RS,isWritableErrored:PS,isNodeStream:Qq,willEmitClose:eK,kIsClosedPromise:tK}=tc;let xf;function rK(t){return t.setHeader&&typeof t.abort=="function"}const Vv=()=>{};function J9(t,e,r){var n,i;if(arguments.length===2?(r=e,e=Wv):e==null?e=Wv:Hq(e,"options"),Wq(r,"callback"),Kq(e.signal,"options.signal"),r=Hv(r),Xq(t)||Zq(t))return nK(t,e,r);if(!Qq(t))throw new qq("stream",["ReadableStream","WritableStream","Stream"],t);const s=(n=e.readable)!==null&&n!==void 0?n:Aw(t),o=(i=e.writable)!==null&&i!==void 0?i:CS(t),a=t._writableState,c=t._readableState,l=()=>{t.writable||h()};let u=eK(t)&&Aw(t)===s&&CS(t)===o,f=RS(t,!1);const h=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||g)&&r.call(t)};let g=AS(t,!1);const y=()=>{g=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||f)&&r.call(t)},v=O=>{r.call(t,O)};let T=Jq(t);const k=()=>{T=!0;const O=PS(t)||IS(t);if(O&&typeof O!="boolean")return r.call(t,O);if(s&&!g&&Aw(t,!0)&&!AS(t,!1))return r.call(t,new SS);if(o&&!f&&!RS(t,!1))return r.call(t,new SS);r.call(t)},C=()=>{T=!0;const O=PS(t)||IS(t);if(O&&typeof O!="boolean")return r.call(t,O);r.call(t)},I=()=>{t.req.on("finish",h)};rK(t)?(t.on("complete",h),u||t.on("abort",k),t.req?I():t.on("request",I)):o&&!a&&(t.on("end",l),t.on("close",l)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",k),t.on("end",y),t.on("finish",h),e.error!==!1&&t.on("error",v),t.on("close",k),T?mc.nextTick(k):a!=null&&a.errorEmitted||c!=null&&c.errorEmitted?u||mc.nextTick(C):(!s&&(!u||ES(t))&&(f||kS(t)===!1)||!o&&(!u||kS(t))&&(g||ES(t)===!1)||c&&t.req&&t.aborted)&&mc.nextTick(C);const D=()=>{r=Vv,t.removeListener("aborted",k),t.removeListener("complete",h),t.removeListener("abort",k),t.removeListener("request",I),t.req&&t.req.removeListener("finish",h),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",h),t.removeListener("end",y),t.removeListener("error",v),t.removeListener("close",k)};if(e.signal&&!T){const O=()=>{const F=r;D(),F.call(t,new G9(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)mc.nextTick(O);else{xf=xf||qi.addAbortListener;const F=xf(e.signal,O),x=r;r=Hv((...L)=>{F[Y9](),x.apply(t,L)})}}return D}function nK(t,e,r){let n=!1,i=Vv;if(e.signal)if(i=()=>{n=!0,r.call(t,new G9(void 0,{cause:e.signal.reason}))},e.signal.aborted)mc.nextTick(i);else{xf=xf||qi.addAbortListener;const o=xf(e.signal,i),a=r;r=Hv((...c)=>{o[Y9](),a.apply(t,c)})}const s=(...o)=>{n||mc.nextTick(()=>r.apply(t,o))};return Yq(t[tK].promise,s,s),Vv}function iK(t,e){var r;let n=!1;return e===null&&(e=Wv),(r=e)!==null&&r!==void 0&&r.cleanup&&(Vq(e.cleanup,"cleanup"),n=e.cleanup),new Gq((i,s)=>{const o=J9(t,e,a=>{n&&o(),a?s(a):i()})})}Sx.exports=J9;Sx.exports.finished=iK;var al=Sx.exports;const na=rl,{aggregateTwoErrors:sK,codes:{ERR_MULTIPLE_CALLBACK:oK},AbortError:aK}=as,{Symbol:X9}=vn,{kIsDestroyed:cK,isDestroyed:lK,isFinished:uK,isServerRequest:fK}=tc,Z9=X9("kDestroy"),Gv=X9("kConstruct");function Q9(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function dK(t,e){const r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(Q9(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?TS(this,t,e):this.once(Z9,function(s){TS(this,sK(s,t),e)}),this)}function TS(t,e,r){let n=!1;function i(s){if(n)return;n=!0;const o=t._readableState,a=t._writableState;Q9(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?na.nextTick(hK,t,s):na.nextTick(eC,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function hK(t,e){Yv(t,e),eC(t)}function eC(t){const e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function Yv(t,e){const r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function pK(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function Jv(t,e,r){const n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?na.nextTick(Yv,t,e):Yv(t,e))}function gK(t,e){if(typeof t._construct!="function")return;const r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(Gv,e),!(t.listenerCount(Gv)>1)&&na.nextTick(mK,t)}function mK(t){let e=!1;function r(n){if(e){Jv(t,n??new oK);return}e=!0;const i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(Z9,n):n?Jv(t,n,!0):na.nextTick(yK,t)}try{t._construct(n=>{na.nextTick(r,n)})}catch(n){na.nextTick(r,n)}}function yK(t){t.emit(Gv)}function NS(t){return(t==null?void 0:t.setHeader)&&typeof t.abort=="function"}function tC(t){t.emit("close")}function wK(t,e){t.emit("error",e),na.nextTick(tC,t)}function bK(t,e){!t||lK(t)||(!e&&!uK(t)&&(e=new aK),fK(t)?(t.socket=null,t.destroy(e)):NS(t)?t.abort():NS(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?na.nextTick(wK,t,e):na.nextTick(tC,t),t.destroyed||(t[cK]=!0))}var cd={construct:gK,destroyer:bK,destroy:dK,undestroy:pK,errorOrDestroy:Jv};const{ArrayIsArray:vK,ObjectSetPrototypeOf:rC}=vn,{EventEmitter:Dm}=hi;function Bm(t){Dm.call(this,t)}rC(Bm.prototype,Dm.prototype);rC(Bm,Dm);Bm.prototype.pipe=function(t,e){const r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function c(u){l(),Dm.listenerCount(this,"error")===0&&this.emit("error",u)}Xv(r,"error",c),Xv(t,"error",c);function l(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t};function Xv(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):vK(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}var Ex={Stream:Bm,prependListener:Xv},nC={exports:{}};(function(t){const{SymbolDispose:e}=vn,{AbortError:r,codes:n}=as,{isNodeStream:i,isWebStream:s,kControllerErrorFunction:o}=tc,a=al,{ERR_INVALID_ARG_TYPE:c}=n;let l;const u=(f,h)=>{if(typeof f!="object"||!("aborted"in f))throw new c(h,"AbortSignal",f)};t.exports.addAbortSignal=function(h,g){if(u(h,"signal"),!i(g)&&!s(g))throw new c("stream",["ReadableStream","WritableStream","Stream"],g);return t.exports.addAbortSignalNoValidate(h,g)},t.exports.addAbortSignalNoValidate=function(f,h){if(typeof f!="object"||!("aborted"in f))return h;const g=i(h)?()=>{h.destroy(new r(void 0,{cause:f.reason}))}:()=>{h[o](new r(void 0,{cause:f.reason}))};if(f.aborted)g();else{l=l||qi.addAbortListener;const y=l(f,g);a(h,y[e])}return h}})(nC);var $m=nC.exports;const{StringPrototypeSlice:MS,SymbolIterator:xK,TypedArrayPrototypeSet:k0,Uint8Array:_K}=vn,{Buffer:Iw}=Rt,{inspect:SK}=qi;var EK=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){const r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return Iw.alloc(0);const r=Iw.allocUnsafe(e>>>0);let n=this.head,i=0;for(;n;)k0(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){const n=this.head.data;if(e<n.length){const i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[xK](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{const s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=MS(s,0,e),this.head=n,n.data=MS(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){const r=Iw.allocUnsafe(e),n=e;let i=this.head,s=0;do{const o=i.data;if(e>o.length)k0(r,o,n-e),e-=o.length;else{e===o.length?(k0(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(k0(r,new _K(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return SK(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:AK,NumberIsInteger:IK}=vn,{validateInteger:kK}=Tp,{ERR_INVALID_ARG_VALUE:CK}=as.codes;let iC=16*1024,sC=16;function RK(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function oC(t){return t?sC:iC}function PK(t,e){kK(e,"value",0),t?sC=e:iC=e}function TK(t,e,r,n){const i=RK(e,n,r);if(i!=null){if(!IK(i)||i<0){const s=n?`options.${r}`:"options.highWaterMark";throw new CK(s,i)}return AK(i)}return oC(t.objectMode)}var Um={getHighWaterMark:TK,getDefaultHighWaterMark:oC,setDefaultHighWaterMark:PK},aC={},Zv={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=Rt,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Zv,Zv.exports);var Ax=Zv.exports,Ix=Ax.Buffer,OS=Ix.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function NK(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function MK(t){var e=NK(t);if(typeof e!="string"&&(Ix.isEncoding===OS||!OS(t)))throw new Error("Unknown encoding: "+t);return e||t}aC.StringDecoder=Np;function Np(t){this.encoding=MK(t);var e;switch(this.encoding){case"utf16le":this.text=UK,this.end=FK,e=4;break;case"utf8":this.fillLast=DK,e=4;break;case"base64":this.text=jK,this.end=zK,e=3;break;default:this.write=qK,this.end=KK;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Ix.allocUnsafe(e)}Np.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Np.prototype.end=$K;Np.prototype.text=BK;Np.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function kw(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function OK(t,e,r){var n=e.length-1;if(n<r)return 0;var i=kw(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=kw(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=kw(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function LK(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"�"}}function DK(t){var e=this.lastTotal-this.lastNeed,r=LK(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function BK(t,e){var r=OK(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function $K(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function UK(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function FK(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function jK(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function zK(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function qK(t){return t.toString(this.encoding)}function KK(t){return t&&t.length?this.write(t):""}const LS=rl,{PromisePrototypeThen:WK,SymbolAsyncIterator:DS,SymbolIterator:BS}=vn,{Buffer:HK}=Rt,{ERR_INVALID_ARG_TYPE:VK,ERR_STREAM_NULL_VALUES:GK}=as.codes;function YK(t,e,r){let n;if(typeof e=="string"||e instanceof HK)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[DS])i=!0,n=e[DS]();else if(e&&e[BS])i=!1,n=e[BS]();else throw new VK("iterable",["Iterable"],e);const s=new t({objectMode:!0,highWaterMark:1,...r});let o=!1;s._read=function(){o||(o=!0,c())},s._destroy=function(l,u){WK(a(l),()=>LS.nextTick(u,l),f=>LS.nextTick(u,f||l))};async function a(l){const u=l!=null,f=typeof n.throw=="function";if(u&&f){const{value:h,done:g}=await n.throw(l);if(await h,g)return}if(typeof n.return=="function"){const{value:h}=await n.return();await h}}async function c(){for(;;){try{const{value:l,done:u}=i?await n.next():n.next();if(u)s.push(null);else{const f=l&&typeof l.then=="function"?await l:l;if(f===null)throw o=!1,new GK;if(s.push(f))continue;o=!1}}catch(l){s.destroy(l)}break}}return s}var cC=YK,Cw,$S;function Fm(){if($S)return Cw;$S=1;const t=rl,{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:s,ObjectKeys:o,ObjectSetPrototypeOf:a,Promise:c,SafeSet:l,SymbolAsyncDispose:u,SymbolAsyncIterator:f,Symbol:h}=vn;Cw=Te,Te.ReadableState=qe;const{EventEmitter:g}=hi,{Stream:y,prependListener:v}=Ex,{Buffer:T}=Rt,{addAbortSignal:k}=$m,C=al;let I=qi.debuglog("stream",te=>{I=te});const D=EK,O=cd,{getHighWaterMark:F,getDefaultHighWaterMark:x}=Um,{aggregateTwoErrors:L,codes:{ERR_INVALID_ARG_TYPE:J,ERR_METHOD_NOT_IMPLEMENTED:ne,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:w,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:m},AbortError:d}=as,{validateObject:p}=Tp,_=h("kPaused"),{StringDecoder:N}=aC,E=cC;a(Te.prototype,y.prototype),a(Te,y);const S=()=>{},{errorOrDestroy:b}=O,R=1,P=2,q=4,ue=8,$=16,oe=32,ee=64,H=128,K=256,A=512,V=1024,se=2048,X=4096,re=8192,ce=16384,be=32768,Ee=65536,Ae=1<<17,Ve=1<<18;function De(te){return{enumerable:!1,get(){return(this.state&te)!==0},set(ie){ie?this.state|=te:this.state&=~te}}}s(qe.prototype,{objectMode:De(R),ended:De(P),endEmitted:De(q),reading:De(ue),constructed:De($),sync:De(oe),needReadable:De(ee),emittedReadable:De(H),readableListening:De(K),resumeScheduled:De(A),errorEmitted:De(V),emitClose:De(se),autoDestroy:De(X),destroyed:De(re),closed:De(ce),closeEmitted:De(be),multiAwaitDrain:De(Ee),readingMore:De(Ae),dataEmitted:De(Ve)});function qe(te,ie,Ce){typeof Ce!="boolean"&&(Ce=ie instanceof Ja()),this.state=se|X|$|oe,te&&te.objectMode&&(this.state|=R),Ce&&te&&te.readableObjectMode&&(this.state|=R),this.highWaterMark=te?F(this,te,"readableHighWaterMark",Ce):x(!1),this.buffer=new D,this.length=0,this.pipes=[],this.flowing=null,this[_]=null,te&&te.emitClose===!1&&(this.state&=~se),te&&te.autoDestroy===!1&&(this.state&=~X),this.errored=null,this.defaultEncoding=te&&te.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,te&&te.encoding&&(this.decoder=new N(te.encoding),this.encoding=te.encoding)}function Te(te){if(!(this instanceof Te))return new Te(te);const ie=this instanceof Ja();this._readableState=new qe(te,this,ie),te&&(typeof te.read=="function"&&(this._read=te.read),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.construct=="function"&&(this._construct=te.construct),te.signal&&!ie&&k(te.signal,this)),y.call(this,te),O.construct(this,()=>{this._readableState.needReadable&&le(this,this._readableState)})}Te.prototype.destroy=O.destroy,Te.prototype._undestroy=O.undestroy,Te.prototype._destroy=function(te,ie){ie(te)},Te.prototype[g.captureRejectionSymbol]=function(te){this.destroy(te)},Te.prototype[u]=function(){let te;return this.destroyed||(te=this.readableEnded?null:new d,this.destroy(te)),new c((ie,Ce)=>C(this,Ne=>Ne&&Ne!==te?Ce(Ne):ie(null)))},Te.prototype.push=function(te,ie){return et(this,te,ie,!1)},Te.prototype.unshift=function(te,ie){return et(this,te,ie,!0)};function et(te,ie,Ce,Ne){I("readableAddChunk",ie);const ke=te._readableState;let xt;if(ke.state&R||(typeof ie=="string"?(Ce=Ce||ke.defaultEncoding,ke.encoding!==Ce&&(Ne&&ke.encoding?ie=T.from(ie,Ce).toString(ke.encoding):(ie=T.from(ie,Ce),Ce=""))):ie instanceof T?Ce="":y._isUint8Array(ie)?(ie=y._uint8ArrayToBuffer(ie),Ce=""):ie!=null&&(xt=new J("chunk",["string","Buffer","Uint8Array"],ie))),xt)b(te,xt);else if(ie===null)ke.state&=~ue,B(te,ke);else if(ke.state&R||ie&&ie.length>0)if(Ne)if(ke.state&q)b(te,new m);else{if(ke.destroyed||ke.errored)return!1;We(te,ke,ie,!0)}else if(ke.ended)b(te,new w);else{if(ke.destroyed||ke.errored)return!1;ke.state&=~ue,ke.decoder&&!Ce?(ie=ke.decoder.write(ie),ke.objectMode||ie.length!==0?We(te,ke,ie,!1):le(te,ke)):We(te,ke,ie,!1)}else Ne||(ke.state&=~ue,le(te,ke));return!ke.ended&&(ke.length<ke.highWaterMark||ke.length===0)}function We(te,ie,Ce,Ne){ie.flowing&&ie.length===0&&!ie.sync&&te.listenerCount("data")>0?(ie.state&Ee?ie.awaitDrainWriters.clear():ie.awaitDrainWriters=null,ie.dataEmitted=!0,te.emit("data",Ce)):(ie.length+=ie.objectMode?1:Ce.length,Ne?ie.buffer.unshift(Ce):ie.buffer.push(Ce),ie.state&ee&&U(te)),le(te,ie)}Te.prototype.isPaused=function(){const te=this._readableState;return te[_]===!0||te.flowing===!1},Te.prototype.setEncoding=function(te){const ie=new N(te);this._readableState.decoder=ie,this._readableState.encoding=this._readableState.decoder.encoding;const Ce=this._readableState.buffer;let Ne="";for(const ke of Ce)Ne+=ie.write(ke);return Ce.clear(),Ne!==""&&Ce.push(Ne),this._readableState.length=Ne.length,this};const Ze=1073741824;function ot(te){if(te>Ze)throw new j("size","<= 1GiB",te);return te--,te|=te>>>1,te|=te>>>2,te|=te>>>4,te|=te>>>8,te|=te>>>16,te++,te}function W(te,ie){return te<=0||ie.length===0&&ie.ended?0:ie.state&R?1:n(te)?ie.flowing&&ie.length?ie.buffer.first().length:ie.length:te<=ie.length?te:ie.ended?ie.length:0}Te.prototype.read=function(te){I("read",te),te===void 0?te=NaN:r(te)||(te=i(te,10));const ie=this._readableState,Ce=te;if(te>ie.highWaterMark&&(ie.highWaterMark=ot(te)),te!==0&&(ie.state&=~H),te===0&&ie.needReadable&&((ie.highWaterMark!==0?ie.length>=ie.highWaterMark:ie.length>0)||ie.ended))return I("read: emitReadable",ie.length,ie.ended),ie.length===0&&ie.ended?Lt(this):U(this),null;if(te=W(te,ie),te===0&&ie.ended)return ie.length===0&&Lt(this),null;let Ne=(ie.state&ee)!==0;if(I("need readable",Ne),(ie.length===0||ie.length-te<ie.highWaterMark)&&(Ne=!0,I("length less than watermark",Ne)),ie.ended||ie.reading||ie.destroyed||ie.errored||!ie.constructed)Ne=!1,I("reading, ended or constructing",Ne);else if(Ne){I("do read"),ie.state|=ue|oe,ie.length===0&&(ie.state|=ee);try{this._read(ie.highWaterMark)}catch(xt){b(this,xt)}ie.state&=~oe,ie.reading||(te=W(Ce,ie))}let ke;return te>0?ke=sr(te,ie):ke=null,ke===null?(ie.needReadable=ie.length<=ie.highWaterMark,te=0):(ie.length-=te,ie.multiAwaitDrain?ie.awaitDrainWriters.clear():ie.awaitDrainWriters=null),ie.length===0&&(ie.ended||(ie.needReadable=!0),Ce!==te&&ie.ended&&Lt(this)),ke!==null&&!ie.errorEmitted&&!ie.closeEmitted&&(ie.dataEmitted=!0,this.emit("data",ke)),ke};function B(te,ie){if(I("onEofChunk"),!ie.ended){if(ie.decoder){const Ce=ie.decoder.end();Ce&&Ce.length&&(ie.buffer.push(Ce),ie.length+=ie.objectMode?1:Ce.length)}ie.ended=!0,ie.sync?U(te):(ie.needReadable=!1,ie.emittedReadable=!0,Q(te))}}function U(te){const ie=te._readableState;I("emitReadable",ie.needReadable,ie.emittedReadable),ie.needReadable=!1,ie.emittedReadable||(I("emitReadable",ie.flowing),ie.emittedReadable=!0,t.nextTick(Q,te))}function Q(te){const ie=te._readableState;I("emitReadable_",ie.destroyed,ie.length,ie.ended),!ie.destroyed&&!ie.errored&&(ie.length||ie.ended)&&(te.emit("readable"),ie.emittedReadable=!1),ie.needReadable=!ie.flowing&&!ie.ended&&ie.length<=ie.highWaterMark,gt(te)}function le(te,ie){!ie.readingMore&&ie.constructed&&(ie.readingMore=!0,t.nextTick(he,te,ie))}function he(te,ie){for(;!ie.reading&&!ie.ended&&(ie.length<ie.highWaterMark||ie.flowing&&ie.length===0);){const Ce=ie.length;if(I("maybeReadMore read 0"),te.read(0),Ce===ie.length)break}ie.readingMore=!1}Te.prototype._read=function(te){throw new ne("_read()")},Te.prototype.pipe=function(te,ie){const Ce=this,Ne=this._readableState;Ne.pipes.length===1&&(Ne.multiAwaitDrain||(Ne.multiAwaitDrain=!0,Ne.awaitDrainWriters=new l(Ne.awaitDrainWriters?[Ne.awaitDrainWriters]:[]))),Ne.pipes.push(te),I("pipe count=%d opts=%j",Ne.pipes.length,ie);const xt=(!ie||ie.end!==!1)&&te!==t.stdout&&te!==t.stderr?G:$e;Ne.endEmitted?t.nextTick(xt):Ce.once("end",xt),te.on("unpipe",z);function z(Dt,Xe){I("onunpipe"),Dt===Ce&&Xe&&Xe.hasUnpiped===!1&&(Xe.hasUnpiped=!0,Z())}function G(){I("onend"),te.end()}let Y,M=!1;function Z(){I("cleanup"),te.removeListener("close",Me),te.removeListener("finish",Ke),Y&&te.removeListener("drain",Y),te.removeListener("error",we),te.removeListener("unpipe",z),Ce.removeListener("end",G),Ce.removeListener("end",$e),Ce.removeListener("data",me),M=!0,Y&&Ne.awaitDrainWriters&&(!te._writableState||te._writableState.needDrain)&&Y()}function de(){M||(Ne.pipes.length===1&&Ne.pipes[0]===te?(I("false write response, pause",0),Ne.awaitDrainWriters=te,Ne.multiAwaitDrain=!1):Ne.pipes.length>1&&Ne.pipes.includes(te)&&(I("false write response, pause",Ne.awaitDrainWriters.size),Ne.awaitDrainWriters.add(te)),Ce.pause()),Y||(Y=ge(Ce,te),te.on("drain",Y))}Ce.on("data",me);function me(Dt){I("ondata");const Xe=te.write(Dt);I("dest.write",Xe),Xe===!1&&de()}function we(Dt){if(I("onerror",Dt),$e(),te.removeListener("error",we),te.listenerCount("error")===0){const Xe=te._writableState||te._readableState;Xe&&!Xe.errorEmitted?b(te,Dt):te.emit("error",Dt)}}v(te,"error",we);function Me(){te.removeListener("finish",Ke),$e()}te.once("close",Me);function Ke(){I("onfinish"),te.removeListener("close",Me),$e()}te.once("finish",Ke);function $e(){I("unpipe"),Ce.unpipe(te)}return te.emit("pipe",Ce),te.writableNeedDrain===!0?de():Ne.flowing||(I("pipe resume"),Ce.resume()),te};function ge(te,ie){return function(){const Ne=te._readableState;Ne.awaitDrainWriters===ie?(I("pipeOnDrain",1),Ne.awaitDrainWriters=null):Ne.multiAwaitDrain&&(I("pipeOnDrain",Ne.awaitDrainWriters.size),Ne.awaitDrainWriters.delete(ie)),(!Ne.awaitDrainWriters||Ne.awaitDrainWriters.size===0)&&te.listenerCount("data")&&te.resume()}}Te.prototype.unpipe=function(te){const ie=this._readableState,Ce={hasUnpiped:!1};if(ie.pipes.length===0)return this;if(!te){const ke=ie.pipes;ie.pipes=[],this.pause();for(let xt=0;xt<ke.length;xt++)ke[xt].emit("unpipe",this,{hasUnpiped:!1});return this}const Ne=e(ie.pipes,te);return Ne===-1?this:(ie.pipes.splice(Ne,1),ie.pipes.length===0&&this.pause(),te.emit("unpipe",this,Ce),this)},Te.prototype.on=function(te,ie){const Ce=y.prototype.on.call(this,te,ie),Ne=this._readableState;return te==="data"?(Ne.readableListening=this.listenerCount("readable")>0,Ne.flowing!==!1&&this.resume()):te==="readable"&&!Ne.endEmitted&&!Ne.readableListening&&(Ne.readableListening=Ne.needReadable=!0,Ne.flowing=!1,Ne.emittedReadable=!1,I("on readable",Ne.length,Ne.reading),Ne.length?U(this):Ne.reading||t.nextTick(Je,this)),Ce},Te.prototype.addListener=Te.prototype.on,Te.prototype.removeListener=function(te,ie){const Ce=y.prototype.removeListener.call(this,te,ie);return te==="readable"&&t.nextTick(je,this),Ce},Te.prototype.off=Te.prototype.removeListener,Te.prototype.removeAllListeners=function(te){const ie=y.prototype.removeAllListeners.apply(this,arguments);return(te==="readable"||te===void 0)&&t.nextTick(je,this),ie};function je(te){const ie=te._readableState;ie.readableListening=te.listenerCount("readable")>0,ie.resumeScheduled&&ie[_]===!1?ie.flowing=!0:te.listenerCount("data")>0?te.resume():ie.readableListening||(ie.flowing=null)}function Je(te){I("readable nexttick read 0"),te.read(0)}Te.prototype.resume=function(){const te=this._readableState;return te.flowing||(I("resume"),te.flowing=!te.readableListening,Qe(this,te)),te[_]=!1,this};function Qe(te,ie){ie.resumeScheduled||(ie.resumeScheduled=!0,t.nextTick(bt,te,ie))}function bt(te,ie){I("resume",ie.reading),ie.reading||te.read(0),ie.resumeScheduled=!1,te.emit("resume"),gt(te),ie.flowing&&!ie.reading&&te.read(0)}Te.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[_]=!0,this};function gt(te){const ie=te._readableState;for(I("flow",ie.flowing);ie.flowing&&te.read()!==null;);}Te.prototype.wrap=function(te){let ie=!1;te.on("data",Ne=>{!this.push(Ne)&&te.pause&&(ie=!0,te.pause())}),te.on("end",()=>{this.push(null)}),te.on("error",Ne=>{b(this,Ne)}),te.on("close",()=>{this.destroy()}),te.on("destroy",()=>{this.destroy()}),this._read=()=>{ie&&te.resume&&(ie=!1,te.resume())};const Ce=o(te);for(let Ne=1;Ne<Ce.length;Ne++){const ke=Ce[Ne];this[ke]===void 0&&typeof te[ke]=="function"&&(this[ke]=te[ke].bind(te))}return this},Te.prototype[f]=function(){return vt(this)},Te.prototype.iterator=function(te){return te!==void 0&&p(te,"options"),vt(this,te)};function vt(te,ie){typeof te.read!="function"&&(te=Te.wrap(te,{objectMode:!0}));const Ce=er(te,ie);return Ce.stream=te,Ce}async function*er(te,ie){let Ce=S;function Ne(z){this===te?(Ce(),Ce=S):Ce=z}te.on("readable",Ne);let ke;const xt=C(te,{writable:!1},z=>{ke=z?L(ke,z):null,Ce(),Ce=S});try{for(;;){const z=te.destroyed?null:te.read();if(z!==null)yield z;else{if(ke)throw ke;if(ke===null)return;await new c(Ne)}}}catch(z){throw ke=L(ke,z),ke}finally{(ke||(ie==null?void 0:ie.destroyOnReturn)!==!1)&&(ke===void 0||te._readableState.autoDestroy)?O.destroyer(te,null):(te.off("readable",Ne),xt())}}s(Te.prototype,{readable:{__proto__:null,get(){const te=this._readableState;return!!te&&te.readable!==!1&&!te.destroyed&&!te.errorEmitted&&!te.endEmitted},set(te){this._readableState&&(this._readableState.readable=!!te)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(te){this._readableState&&(this._readableState.flowing=te)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(te){this._readableState&&(this._readableState.destroyed=te)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(qe.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[_]!==!1},set(te){this[_]=!!te}}}),Te._fromList=sr;function sr(te,ie){if(ie.length===0)return null;let Ce;return ie.objectMode?Ce=ie.buffer.shift():!te||te>=ie.length?(ie.decoder?Ce=ie.buffer.join(""):ie.buffer.length===1?Ce=ie.buffer.first():Ce=ie.buffer.concat(ie.length),ie.buffer.clear()):Ce=ie.buffer.consume(te,ie.decoder),Ce}function Lt(te){const ie=te._readableState;I("endReadable",ie.endEmitted),ie.endEmitted||(ie.ended=!0,t.nextTick(jt,ie,te))}function jt(te,ie){if(I("endReadableNT",te.endEmitted,te.length),!te.errored&&!te.closeEmitted&&!te.endEmitted&&te.length===0){if(te.endEmitted=!0,ie.emit("end"),ie.writable&&ie.allowHalfOpen===!1)t.nextTick(Et,ie);else if(te.autoDestroy){const Ce=ie._writableState;(!Ce||Ce.autoDestroy&&(Ce.finished||Ce.writable===!1))&&ie.destroy()}}}function Et(te){te.writable&&!te.writableEnded&&!te.destroyed&&te.end()}Te.from=function(te,ie){return E(Te,te,ie)};let lt;function Ot(){return lt===void 0&&(lt={}),lt}return Te.fromWeb=function(te,ie){return Ot().newStreamReadableFromReadableStream(te,ie)},Te.toWeb=function(te,ie){return Ot().newReadableStreamFromStreamReadable(te,ie)},Te.wrap=function(te,ie){var Ce,Ne;return new Te({objectMode:(Ce=(Ne=te.readableObjectMode)!==null&&Ne!==void 0?Ne:te.objectMode)!==null&&Ce!==void 0?Ce:!0,...ie,destroy(ke,xt){O.destroyer(te,ke),xt(ke)}}).wrap(te)},Cw}var Rw,US;function kx(){if(US)return Rw;US=1;const t=rl,{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:s,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:a,Symbol:c,SymbolHasInstance:l}=vn;Rw=p,p.WritableState=m;const{EventEmitter:u}=hi,f=Ex.Stream,{Buffer:h}=Rt,g=cd,{addAbortSignal:y}=$m,{getHighWaterMark:v,getDefaultHighWaterMark:T}=Um,{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_MULTIPLE_CALLBACK:I,ERR_STREAM_CANNOT_PIPE:D,ERR_STREAM_DESTROYED:O,ERR_STREAM_ALREADY_FINISHED:F,ERR_STREAM_NULL_VALUES:x,ERR_STREAM_WRITE_AFTER_END:L,ERR_UNKNOWN_ENCODING:J}=as.codes,{errorOrDestroy:ne}=g;o(p.prototype,f.prototype),o(p,f);function j(){}const w=c("kOnFinished");function m(X,re,ce){typeof ce!="boolean"&&(ce=re instanceof Ja()),this.objectMode=!!(X&&X.objectMode),ce&&(this.objectMode=this.objectMode||!!(X&&X.writableObjectMode)),this.highWaterMark=X?v(this,X,"writableHighWaterMark",ce):T(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const be=!!(X&&X.decodeStrings===!1);this.decodeStrings=!be,this.defaultEncoding=X&&X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=b.bind(void 0,re),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,d(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!X||X.emitClose!==!1,this.autoDestroy=!X||X.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[w]=[]}function d(X){X.buffered=[],X.bufferedIndex=0,X.allBuffers=!0,X.allNoop=!0}m.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},i(m.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function p(X){const re=this instanceof Ja();if(!re&&!n(p,this))return new p(X);this._writableState=new m(X,this,re),X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final),typeof X.construct=="function"&&(this._construct=X.construct),X.signal&&y(X.signal,this)),f.call(this,X),g.construct(this,()=>{const ce=this._writableState;ce.writing||ue(this,ce),H(this,ce)})}i(p,l,{__proto__:null,value:function(X){return n(this,X)?!0:this!==p?!1:X&&X._writableState instanceof m}}),p.prototype.pipe=function(){ne(this,new D)};function _(X,re,ce,be){const Ee=X._writableState;if(typeof ce=="function")be=ce,ce=Ee.defaultEncoding;else{if(!ce)ce=Ee.defaultEncoding;else if(ce!=="buffer"&&!h.isEncoding(ce))throw new J(ce);typeof be!="function"&&(be=j)}if(re===null)throw new x;if(!Ee.objectMode)if(typeof re=="string")Ee.decodeStrings!==!1&&(re=h.from(re,ce),ce="buffer");else if(re instanceof h)ce="buffer";else if(f._isUint8Array(re))re=f._uint8ArrayToBuffer(re),ce="buffer";else throw new k("chunk",["string","Buffer","Uint8Array"],re);let Ae;return Ee.ending?Ae=new L:Ee.destroyed&&(Ae=new O("write")),Ae?(t.nextTick(be,Ae),ne(X,Ae,!0),Ae):(Ee.pendingcb++,N(X,Ee,re,ce,be))}p.prototype.write=function(X,re,ce){return _(this,X,re,ce)===!0},p.prototype.cork=function(){this._writableState.corked++},p.prototype.uncork=function(){const X=this._writableState;X.corked&&(X.corked--,X.writing||ue(this,X))},p.prototype.setDefaultEncoding=function(re){if(typeof re=="string"&&(re=a(re)),!h.isEncoding(re))throw new J(re);return this._writableState.defaultEncoding=re,this};function N(X,re,ce,be,Ee){const Ae=re.objectMode?1:ce.length;re.length+=Ae;const Ve=re.length<re.highWaterMark;return Ve||(re.needDrain=!0),re.writing||re.corked||re.errored||!re.constructed?(re.buffered.push({chunk:ce,encoding:be,callback:Ee}),re.allBuffers&&be!=="buffer"&&(re.allBuffers=!1),re.allNoop&&Ee!==j&&(re.allNoop=!1)):(re.writelen=Ae,re.writecb=Ee,re.writing=!0,re.sync=!0,X._write(ce,be,re.onwrite),re.sync=!1),Ve&&!re.errored&&!re.destroyed}function E(X,re,ce,be,Ee,Ae,Ve){re.writelen=be,re.writecb=Ve,re.writing=!0,re.sync=!0,re.destroyed?re.onwrite(new O("write")):ce?X._writev(Ee,re.onwrite):X._write(Ee,Ae,re.onwrite),re.sync=!1}function S(X,re,ce,be){--re.pendingcb,be(ce),q(re),ne(X,ce)}function b(X,re){const ce=X._writableState,be=ce.sync,Ee=ce.writecb;if(typeof Ee!="function"){ne(X,new I);return}ce.writing=!1,ce.writecb=null,ce.length-=ce.writelen,ce.writelen=0,re?(re.stack,ce.errored||(ce.errored=re),X._readableState&&!X._readableState.errored&&(X._readableState.errored=re),be?t.nextTick(S,X,ce,re,Ee):S(X,ce,re,Ee)):(ce.buffered.length>ce.bufferedIndex&&ue(X,ce),be?ce.afterWriteTickInfo!==null&&ce.afterWriteTickInfo.cb===Ee?ce.afterWriteTickInfo.count++:(ce.afterWriteTickInfo={count:1,cb:Ee,stream:X,state:ce},t.nextTick(R,ce.afterWriteTickInfo)):P(X,ce,1,Ee))}function R({stream:X,state:re,count:ce,cb:be}){return re.afterWriteTickInfo=null,P(X,re,ce,be)}function P(X,re,ce,be){for(!re.ending&&!X.destroyed&&re.length===0&&re.needDrain&&(re.needDrain=!1,X.emit("drain"));ce-- >0;)re.pendingcb--,be();re.destroyed&&q(re),H(X,re)}function q(X){if(X.writing)return;for(let Ee=X.bufferedIndex;Ee<X.buffered.length;++Ee){var re;const{chunk:Ae,callback:Ve}=X.buffered[Ee],De=X.objectMode?1:Ae.length;X.length-=De,Ve((re=X.errored)!==null&&re!==void 0?re:new O("write"))}const ce=X[w].splice(0);for(let Ee=0;Ee<ce.length;Ee++){var be;ce[Ee]((be=X.errored)!==null&&be!==void 0?be:new O("end"))}d(X)}function ue(X,re){if(re.corked||re.bufferProcessing||re.destroyed||!re.constructed)return;const{buffered:ce,bufferedIndex:be,objectMode:Ee}=re,Ae=ce.length-be;if(!Ae)return;let Ve=be;if(re.bufferProcessing=!0,Ae>1&&X._writev){re.pendingcb-=Ae-1;const De=re.allNoop?j:Te=>{for(let et=Ve;et<ce.length;++et)ce[et].callback(Te)},qe=re.allNoop&&Ve===0?ce:e(ce,Ve);qe.allBuffers=re.allBuffers,E(X,re,!0,re.length,qe,"",De),d(re)}else{do{const{chunk:De,encoding:qe,callback:Te}=ce[Ve];ce[Ve++]=null;const et=Ee?1:De.length;E(X,re,!1,et,De,qe,Te)}while(Ve<ce.length&&!re.writing);Ve===ce.length?d(re):Ve>256?(ce.splice(0,Ve),re.bufferedIndex=0):re.bufferedIndex=Ve}re.bufferProcessing=!1}p.prototype._write=function(X,re,ce){if(this._writev)this._writev([{chunk:X,encoding:re}],ce);else throw new C("_write()")},p.prototype._writev=null,p.prototype.end=function(X,re,ce){const be=this._writableState;typeof X=="function"?(ce=X,X=null,re=null):typeof re=="function"&&(ce=re,re=null);let Ee;if(X!=null){const Ae=_(this,X,re);Ae instanceof r&&(Ee=Ae)}return be.corked&&(be.corked=1,this.uncork()),Ee||(!be.errored&&!be.ending?(be.ending=!0,H(this,be,!0),be.ended=!0):be.finished?Ee=new F("end"):be.destroyed&&(Ee=new O("end"))),typeof ce=="function"&&(Ee||be.finished?t.nextTick(ce,Ee):be[w].push(ce)),this};function $(X){return X.ending&&!X.destroyed&&X.constructed&&X.length===0&&!X.errored&&X.buffered.length===0&&!X.finished&&!X.writing&&!X.errorEmitted&&!X.closeEmitted}function oe(X,re){let ce=!1;function be(Ee){if(ce){ne(X,Ee??I());return}if(ce=!0,re.pendingcb--,Ee){const Ae=re[w].splice(0);for(let Ve=0;Ve<Ae.length;Ve++)Ae[Ve](Ee);ne(X,Ee,re.sync)}else $(re)&&(re.prefinished=!0,X.emit("prefinish"),re.pendingcb++,t.nextTick(K,X,re))}re.sync=!0,re.pendingcb++;try{X._final(be)}catch(Ee){be(Ee)}re.sync=!1}function ee(X,re){!re.prefinished&&!re.finalCalled&&(typeof X._final=="function"&&!re.destroyed?(re.finalCalled=!0,oe(X,re)):(re.prefinished=!0,X.emit("prefinish")))}function H(X,re,ce){$(re)&&(ee(X,re),re.pendingcb===0&&(ce?(re.pendingcb++,t.nextTick((be,Ee)=>{$(Ee)?K(be,Ee):Ee.pendingcb--},X,re)):$(re)&&(re.pendingcb++,K(X,re))))}function K(X,re){re.pendingcb--,re.finished=!0;const ce=re[w].splice(0);for(let be=0;be<ce.length;be++)ce[be]();if(X.emit("finish"),re.autoDestroy){const be=X._readableState;(!be||be.autoDestroy&&(be.endEmitted||be.readable===!1))&&X.destroy()}}s(p.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(X){this._writableState&&(this._writableState.destroyed=X)}},writable:{__proto__:null,get(){const X=this._writableState;return!!X&&X.writable!==!1&&!X.destroyed&&!X.errored&&!X.ending&&!X.ended},set(X){this._writableState&&(this._writableState.writable=!!X)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const X=this._writableState;return X?!X.destroyed&&!X.ending&&X.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const A=g.destroy;p.prototype.destroy=function(X,re){const ce=this._writableState;return!ce.destroyed&&(ce.bufferedIndex<ce.buffered.length||ce[w].length)&&t.nextTick(q,ce),A.call(this,X,re),this},p.prototype._undestroy=g.undestroy,p.prototype._destroy=function(X,re){re(X)},p.prototype[u.captureRejectionSymbol]=function(X){this.destroy(X)};let V;function se(){return V===void 0&&(V={}),V}return p.fromWeb=function(X,re){return se().newStreamWritableFromWritableStream(X,re)},p.toWeb=function(X){return se().newWritableStreamFromStreamWritable(X)},Rw}var Pw,FS;function JK(){if(FS)return Pw;FS=1;const t=rl,e=Rt,{isReadable:r,isWritable:n,isIterable:i,isNodeStream:s,isReadableNodeStream:o,isWritableNodeStream:a,isDuplexNodeStream:c,isReadableStream:l,isWritableStream:u}=tc,f=al,{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:y}}=as,{destroyer:v}=cd,T=Ja(),k=Fm(),C=kx(),{createDeferredPromise:I}=qi,D=cC,O=globalThis.Blob||e.Blob,F=typeof O<"u"?function(m){return m instanceof O}:function(m){return!1},x=globalThis.AbortController||ep().AbortController,{FunctionPrototypeCall:L}=vn;class J extends T{constructor(m){super(m),(m==null?void 0:m.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(m==null?void 0:m.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}Pw=function w(m,d){if(c(m))return m;if(o(m))return j({readable:m});if(a(m))return j({writable:m});if(s(m))return j({writable:!1,readable:!1});if(l(m))return j({readable:k.fromWeb(m)});if(u(m))return j({writable:C.fromWeb(m)});if(typeof m=="function"){const{value:_,write:N,final:E,destroy:S}=ne(m);if(i(_))return D(J,_,{objectMode:!0,write:N,final:E,destroy:S});const b=_==null?void 0:_.then;if(typeof b=="function"){let R;const P=L(b,_,q=>{if(q!=null)throw new y("nully","body",q)},q=>{v(R,q)});return R=new J({objectMode:!0,readable:!1,write:N,final(q){E(async()=>{try{await P,t.nextTick(q,null)}catch(ue){t.nextTick(q,ue)}})},destroy:S})}throw new y("Iterable, AsyncIterable or AsyncFunction",d,_)}if(F(m))return w(m.arrayBuffer());if(i(m))return D(J,m,{objectMode:!0,writable:!1});if(l(m==null?void 0:m.readable)&&u(m==null?void 0:m.writable))return J.fromWeb(m);if(typeof(m==null?void 0:m.writable)=="object"||typeof(m==null?void 0:m.readable)=="object"){const _=m!=null&&m.readable?o(m==null?void 0:m.readable)?m==null?void 0:m.readable:w(m.readable):void 0,N=m!=null&&m.writable?a(m==null?void 0:m.writable)?m==null?void 0:m.writable:w(m.writable):void 0;return j({readable:_,writable:N})}const p=m==null?void 0:m.then;if(typeof p=="function"){let _;return L(p,m,N=>{N!=null&&_.push(N),_.push(null)},N=>{v(_,N)}),_=new J({objectMode:!0,writable:!1,read(){}})}throw new g(d,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],m)};function ne(w){let{promise:m,resolve:d}=I();const p=new x,_=p.signal;return{value:w(async function*(){for(;;){const E=m;m=null;const{chunk:S,done:b,cb:R}=await E;if(t.nextTick(R),b)return;if(_.aborted)throw new h(void 0,{cause:_.reason});({promise:m,resolve:d}=I()),yield S}}(),{signal:_}),write(E,S,b){const R=d;d=null,R({chunk:E,done:!1,cb:b})},final(E){const S=d;d=null,S({done:!0,cb:E})},destroy(E,S){p.abort(),S(E)}}}function j(w){const m=w.readable&&typeof w.readable.read!="function"?k.wrap(w.readable):w.readable,d=w.writable;let p=!!r(m),_=!!n(d),N,E,S,b,R;function P(q){const ue=b;b=null,ue?ue(q):q&&R.destroy(q)}return R=new J({readableObjectMode:!!(m!=null&&m.readableObjectMode),writableObjectMode:!!(d!=null&&d.writableObjectMode),readable:p,writable:_}),_&&(f(d,q=>{_=!1,q&&v(m,q),P(q)}),R._write=function(q,ue,$){d.write(q,ue)?$():N=$},R._final=function(q){d.end(),E=q},d.on("drain",function(){if(N){const q=N;N=null,q()}}),d.on("finish",function(){if(E){const q=E;E=null,q()}})),p&&(f(m,q=>{p=!1,q&&v(m,q),P(q)}),m.on("readable",function(){if(S){const q=S;S=null,q()}}),m.on("end",function(){R.push(null)}),R._read=function(){for(;;){const q=m.read();if(q===null){S=R._read;return}if(!R.push(q))return}}),R._destroy=function(q,ue){!q&&b!==null&&(q=new h),S=null,N=null,E=null,b===null?ue(q):(b=ue,v(d,q),v(m,q))},R}return Pw}var Tw,jS;function Ja(){if(jS)return Tw;jS=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:n}=vn;Tw=o;const i=Fm(),s=kx();n(o.prototype,i.prototype),n(o,i);{const u=r(s.prototype);for(let f=0;f<u.length;f++){const h=u[f];o.prototype[h]||(o.prototype[h]=s.prototype[h])}}function o(u){if(!(this instanceof o))return new o(u);i.call(this,u),s.call(this,u),u?(this.allowHalfOpen=u.allowHalfOpen!==!1,u.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),u.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(o.prototype,{writable:{__proto__:null,...e(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(s.prototype,"writableLength")},writableFinished:{__proto__:null,...e(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(u){this._readableState&&this._writableState&&(this._readableState.destroyed=u,this._writableState.destroyed=u)}}});let a;function c(){return a===void 0&&(a={}),a}o.fromWeb=function(u,f){return c().newStreamDuplexFromReadableWritablePair(u,f)},o.toWeb=function(u){return c().newReadableWritablePairFromDuplex(u)};let l;return o.from=function(u){return l||(l=JK()),l(u,"body")},Tw}const{ObjectSetPrototypeOf:lC,Symbol:XK}=vn;var uC=Xa;const{ERR_METHOD_NOT_IMPLEMENTED:ZK}=as.codes,Cx=Ja(),{getHighWaterMark:QK}=Um;lC(Xa.prototype,Cx.prototype);lC(Xa,Cx);const xh=XK("kCallback");function Xa(t){if(!(this instanceof Xa))return new Xa(t);const e=t?QK(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),Cx.call(this,t),this._readableState.sync=!1,this[xh]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",eW)}function Qv(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function eW(){this._final!==Qv&&Qv.call(this)}Xa.prototype._final=Qv;Xa.prototype._transform=function(t,e,r){throw new ZK("_transform()")};Xa.prototype._write=function(t,e,r){const n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[xh]=r})};Xa.prototype._read=function(){if(this[xh]){const t=this[xh];this[xh]=null,t()}};const{ObjectSetPrototypeOf:fC}=vn;var dC=qf;const Rx=uC;fC(qf.prototype,Rx.prototype);fC(qf,Rx);function qf(t){if(!(this instanceof qf))return new qf(t);Rx.call(this,t)}qf.prototype._transform=function(t,e,r){r(null,t)};const oh=rl,{ArrayIsArray:tW,Promise:rW,SymbolAsyncIterator:nW,SymbolDispose:iW}=vn,f1=al,{once:sW}=qi,oW=cd,zS=Ja(),{aggregateTwoErrors:aW,codes:{ERR_INVALID_ARG_TYPE:e2,ERR_INVALID_RETURN_VALUE:Nw,ERR_MISSING_ARGS:cW,ERR_STREAM_DESTROYED:lW,ERR_STREAM_PREMATURE_CLOSE:uW},AbortError:fW}=as,{validateFunction:dW,validateAbortSignal:hW}=Tp,{isIterable:Sl,isReadable:Mw,isReadableNodeStream:mg,isNodeStream:qS,isTransformStream:zu,isWebStream:pW,isReadableStream:Ow,isReadableFinished:gW}=tc,mW=globalThis.AbortController||ep().AbortController;let Lw,Dw,Bw;function KS(t,e,r){let n=!1;t.on("close",()=>{n=!0});const i=f1(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,oW.destroyer(t,s||new lW("pipe")))},cleanup:i}}function yW(t){return dW(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function $w(t){if(Sl(t))return t;if(mg(t))return wW(t);throw new e2("val",["Readable","Iterable","AsyncIterable"],t)}async function*wW(t){Dw||(Dw=Fm()),yield*Dw.prototype[nW].call(t)}async function C0(t,e,r,{end:n}){let i,s=null;const o=l=>{if(l&&(i=l),s){const u=s;s=null,u()}},a=()=>new rW((l,u)=>{i?u(i):s=()=>{i?u(i):l()}});e.on("drain",o);const c=f1(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(const l of t)e.write(l)||await a();n&&(e.end(),await a()),r()}catch(l){r(i!==l?aW(i,l):l)}finally{c(),e.off("drain",o)}}async function Uw(t,e,r,{end:n}){zu(e)&&(e=e.writable);const i=e.getWriter();try{for await(const s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function bW(...t){return hC(t,sW(yW(t)))}function hC(t,e,r){if(t.length===1&&tW(t[0])&&(t=t[0]),t.length<2)throw new cW("streams");const n=new mW,i=n.signal,s=r==null?void 0:r.signal,o=[];hW(s,"options.signal");function a(){y(new fW)}Bw=Bw||qi.addAbortListener;let c;s&&(c=Bw(s,a));let l,u;const f=[];let h=0;function g(C){y(C,--h===0)}function y(C,I){var D;if(C&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=C),!(!l&&!I)){for(;f.length;)f.shift()(l);(D=c)===null||D===void 0||D[iW](),n.abort(),I&&(l||o.forEach(O=>O()),oh.nextTick(e,l,u))}}let v;for(let C=0;C<t.length;C++){const I=t[C],D=C<t.length-1,O=C>0,F=D||(r==null?void 0:r.end)!==!1,x=C===t.length-1;if(qS(I)){let L=function(J){J&&J.name!=="AbortError"&&J.code!=="ERR_STREAM_PREMATURE_CLOSE"&&g(J)};if(F){const{destroy:J,cleanup:ne}=KS(I,D,O);f.push(J),Mw(I)&&x&&o.push(ne)}I.on("error",L),Mw(I)&&x&&o.push(()=>{I.removeListener("error",L)})}if(C===0)if(typeof I=="function"){if(v=I({signal:i}),!Sl(v))throw new Nw("Iterable, AsyncIterable or Stream","source",v)}else Sl(I)||mg(I)||zu(I)?v=I:v=zS.from(I);else if(typeof I=="function"){if(zu(v)){var T;v=$w((T=v)===null||T===void 0?void 0:T.readable)}else v=$w(v);if(v=I(v,{signal:i}),D){if(!Sl(v,!0))throw new Nw("AsyncIterable",`transform[${C-1}]`,v)}else{var k;Lw||(Lw=dC);const L=new Lw({objectMode:!0}),J=(k=v)===null||k===void 0?void 0:k.then;if(typeof J=="function")h++,J.call(v,w=>{u=w,w!=null&&L.write(w),F&&L.end(),oh.nextTick(g)},w=>{L.destroy(w),oh.nextTick(g,w)});else if(Sl(v,!0))h++,C0(v,L,g,{end:F});else if(Ow(v)||zu(v)){const w=v.readable||v;h++,C0(w,L,g,{end:F})}else throw new Nw("AsyncIterable or Promise","destination",v);v=L;const{destroy:ne,cleanup:j}=KS(v,!1,!0);f.push(ne),x&&o.push(j)}}else if(qS(I)){if(mg(v)){h+=2;const L=vW(v,I,g,{end:F});Mw(I)&&x&&o.push(L)}else if(zu(v)||Ow(v)){const L=v.readable||v;h++,C0(L,I,g,{end:F})}else if(Sl(v))h++,C0(v,I,g,{end:F});else throw new e2("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],v);v=I}else if(pW(I)){if(mg(v))h++,Uw($w(v),I,g,{end:F});else if(Ow(v)||Sl(v))h++,Uw(v,I,g,{end:F});else if(zu(v))h++,Uw(v.readable,I,g,{end:F});else throw new e2("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],v);v=I}else v=zS.from(I)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&oh.nextTick(a),v}function vW(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new uW)}),t.pipe(e,{end:!1}),n){let s=function(){i=!0,e.end()};gW(t)?oh.nextTick(s):t.once("end",s)}else r();return f1(t,{readable:!0,writable:!1},s=>{const o=t._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&o&&o.ended&&!o.errored&&!o.errorEmitted?t.once("end",r).once("error",r):r(s)}),f1(e,{readable:!1,writable:!0},r)}var Px={pipelineImpl:hC,pipeline:bW};const{pipeline:xW}=Px,R0=Ja(),{destroyer:_W}=cd,{isNodeStream:P0,isReadable:WS,isWritable:HS,isWebStream:Fw,isTransformStream:ml,isWritableStream:VS,isReadableStream:GS}=tc,{AbortError:SW,codes:{ERR_INVALID_ARG_VALUE:YS,ERR_MISSING_ARGS:EW}}=as,AW=al;var pC=function(...e){if(e.length===0)throw new EW("streams");if(e.length===1)return R0.from(e[0]);const r=[...e];if(typeof e[0]=="function"&&(e[0]=R0.from(e[0])),typeof e[e.length-1]=="function"){const g=e.length-1;e[g]=R0.from(e[g])}for(let g=0;g<e.length;++g)if(!(!P0(e[g])&&!Fw(e[g]))){if(g<e.length-1&&!(WS(e[g])||GS(e[g])||ml(e[g])))throw new YS(`streams[${g}]`,r[g],"must be readable");if(g>0&&!(HS(e[g])||VS(e[g])||ml(e[g])))throw new YS(`streams[${g}]`,r[g],"must be writable")}let n,i,s,o,a;function c(g){const y=o;o=null,y?y(g):g?a.destroy(g):!h&&!f&&a.destroy()}const l=e[0],u=xW(e,c),f=!!(HS(l)||VS(l)||ml(l)),h=!!(WS(u)||GS(u)||ml(u));if(a=new R0({writableObjectMode:!!(l!=null&&l.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:f,readable:h}),f){if(P0(l))a._write=function(y,v,T){l.write(y,v)?T():n=T},a._final=function(y){l.end(),i=y},l.on("drain",function(){if(n){const y=n;n=null,y()}});else if(Fw(l)){const v=(ml(l)?l.writable:l).getWriter();a._write=async function(T,k,C){try{await v.ready,v.write(T).catch(()=>{}),C()}catch(I){C(I)}},a._final=async function(T){try{await v.ready,v.close().catch(()=>{}),i=T}catch(k){T(k)}}}const g=ml(u)?u.readable:u;AW(g,()=>{if(i){const y=i;i=null,y()}})}if(h){if(P0(u))u.on("readable",function(){if(s){const g=s;s=null,g()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){const g=u.read();if(g===null){s=a._read;return}if(!a.push(g))return}};else if(Fw(u)){const y=(ml(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{const{value:v,done:T}=await y.read();if(!a.push(v))return;if(T){a.push(null);return}}catch{return}}}}return a._destroy=function(g,y){!g&&o!==null&&(g=new SW),s=null,n=null,i=null,o===null?y(g):(o=y,P0(u)&&_W(u,g))},a};const IW=globalThis.AbortController||ep().AbortController,{codes:{ERR_INVALID_ARG_VALUE:kW,ERR_INVALID_ARG_TYPE:Mp,ERR_MISSING_ARGS:CW,ERR_OUT_OF_RANGE:RW},AbortError:fa}=as,{validateAbortSignal:vu,validateInteger:JS,validateObject:xu}=Tp,PW=vn.Symbol("kWeak"),TW=vn.Symbol("kResistStopPropagation"),{finished:NW}=al,MW=pC,{addAbortSignalNoValidate:OW}=$m,{isWritable:LW,isNodeStream:DW}=tc,{deprecate:BW}=qi,{ArrayPrototypePush:$W,Boolean:UW,MathFloor:XS,Number:FW,NumberIsNaN:jW,Promise:ZS,PromiseReject:QS,PromiseResolve:zW,PromisePrototypeThen:eE,Symbol:gC}=vn,d1=gC("kEmpty"),tE=gC("kEof");function qW(t,e){if(e!=null&&xu(e,"options"),(e==null?void 0:e.signal)!=null&&vu(e.signal,"options.signal"),DW(t)&&!LW(t))throw new kW("stream",t,"must be writable");const r=MW(this,t);return e!=null&&e.signal&&OW(e.signal,r),r}function jm(t,e){if(typeof t!="function")throw new Mp("fn",["Function","AsyncFunction"],t);e!=null&&xu(e,"options"),(e==null?void 0:e.signal)!=null&&vu(e.signal,"options.signal");let r=1;(e==null?void 0:e.concurrency)!=null&&(r=XS(e.concurrency));let n=r-1;return(e==null?void 0:e.highWaterMark)!=null&&(n=XS(e.highWaterMark)),JS(r,"options.concurrency",1),JS(n,"options.highWaterMark",0),n+=r,(async function*(){const s=qi.AbortSignalAny([e==null?void 0:e.signal].filter(UW)),o=this,a=[],c={signal:s};let l,u,f=!1,h=0;function g(){f=!0,y()}function y(){h-=1,v()}function v(){u&&!f&&h<r&&a.length<n&&(u(),u=null)}async function T(){try{for await(let k of o){if(f)return;if(s.aborted)throw new fa;try{if(k=t(k,c),k===d1)continue;k=zW(k)}catch(C){k=QS(C)}h+=1,eE(k,y,g),a.push(k),l&&(l(),l=null),!f&&(a.length>=n||h>=r)&&await new ZS(C=>{u=C})}a.push(tE)}catch(k){const C=QS(k);eE(C,y,g),a.push(C)}finally{f=!0,l&&(l(),l=null)}}T();try{for(;;){for(;a.length>0;){const k=await a[0];if(k===tE)return;if(s.aborted)throw new fa;k!==d1&&(yield k),a.shift(),v()}await new ZS(k=>{l=k})}}finally{f=!0,u&&(u(),u=null)}}).call(this)}function KW(t=void 0){return t!=null&&xu(t,"options"),(t==null?void 0:t.signal)!=null&&vu(t.signal,"options.signal"),(async function*(){let r=0;for await(const i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new fa({cause:t.signal.reason});yield[r++,i]}}).call(this)}async function mC(t,e=void 0){for await(const r of Tx.call(this,t,e))return!0;return!1}async function WW(t,e=void 0){if(typeof t!="function")throw new Mp("fn",["Function","AsyncFunction"],t);return!await mC.call(this,async(...r)=>!await t(...r),e)}async function HW(t,e){for await(const r of Tx.call(this,t,e))return r}async function VW(t,e){if(typeof t!="function")throw new Mp("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),d1}for await(const n of jm.call(this,r,e));}function Tx(t,e){if(typeof t!="function")throw new Mp("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:d1}return jm.call(this,r,e)}class GW extends CW{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function YW(t,e,r){var n;if(typeof t!="function")throw new Mp("reducer",["Function","AsyncFunction"],t);r!=null&&xu(r,"options"),(r==null?void 0:r.signal)!=null&&vu(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const l=new fa(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await NW(this.destroy(l)),l}const s=new IW,o=s.signal;if(r!=null&&r.signal){const l={once:!0,[PW]:this,[TW]:!0};r.signal.addEventListener("abort",()=>s.abort(),l)}let a=!1;try{for await(const l of this){var c;if(a=!0,r!=null&&(c=r.signal)!==null&&c!==void 0&&c.aborted)throw new fa;i?e=await t(e,l,{signal:o}):(e=l,i=!0)}if(!a&&!i)throw new GW}finally{s.abort()}return e}async function JW(t){t!=null&&xu(t,"options"),(t==null?void 0:t.signal)!=null&&vu(t.signal,"options.signal");const e=[];for await(const n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new fa(void 0,{cause:t.signal.reason});$W(e,n)}return e}function XW(t,e){const r=jm.call(this,t,e);return(async function*(){for await(const i of r)yield*i}).call(this)}function yC(t){if(t=FW(t),jW(t))return 0;if(t<0)throw new RW("number",">= 0",t);return t}function ZW(t,e=void 0){return e!=null&&xu(e,"options"),(e==null?void 0:e.signal)!=null&&vu(e.signal,"options.signal"),t=yC(t),(async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new fa;for await(const s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new fa;t--<=0&&(yield s)}}).call(this)}function QW(t,e=void 0){return e!=null&&xu(e,"options"),(e==null?void 0:e.signal)!=null&&vu(e.signal,"options.signal"),t=yC(t),(async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new fa;for await(const s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new fa;if(t-- >0&&(yield s),t<=0)return}}).call(this)}bx.streamReturningOperators={asIndexedPairs:BW(KW,"readable.asIndexedPairs will be removed in a future version."),drop:ZW,filter:Tx,flatMap:XW,map:jm,take:QW,compose:qW};bx.promiseReturningOperators={every:WW,forEach:VW,reduce:YW,toArray:JW,some:mC,find:HW};var jw,rE;function wC(){if(rE)return jw;rE=1;const{ArrayPrototypePop:t,Promise:e}=vn,{isIterable:r,isNodeStream:n,isWebStream:i}=tc,{pipelineImpl:s}=Px,{finished:o}=al;bC();function a(...c){return new e((l,u)=>{let f,h;const g=c[c.length-1];if(g&&typeof g=="object"&&!n(g)&&!r(g)&&!i(g)){const y=t(c);f=y.signal,h=y.end}s(c,(y,v)=>{y?u(y):l(v)},{signal:f,end:h})})}return jw={finished:o,pipeline:a},jw}var nE;function bC(){if(nE)return Sw.exports;nE=1;const{Buffer:t}=Rt,{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:n}=vn,{promisify:{custom:i}}=qi,{streamReturningOperators:s,promiseReturningOperators:o}=bx,{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=as,c=pC,{setDefaultHighWaterMark:l,getDefaultHighWaterMark:u}=Um,{pipeline:f}=Px,{destroyer:h}=cd,g=al,y=wC(),v=tc,T=Sw.exports=Ex.Stream;T.isDestroyed=v.isDestroyed,T.isDisturbed=v.isDisturbed,T.isErrored=v.isErrored,T.isReadable=v.isReadable,T.isWritable=v.isWritable,T.Readable=Fm();for(const I of r(s)){let O=function(...F){if(new.target)throw a();return T.Readable.from(n(D,this,F))};var C=O;const D=s[I];e(O,"name",{__proto__:null,value:D.name}),e(O,"length",{__proto__:null,value:D.length}),e(T.Readable.prototype,I,{__proto__:null,value:O,enumerable:!1,configurable:!0,writable:!0})}for(const I of r(o)){let O=function(...x){if(new.target)throw a();return n(D,this,x)};var C=O;const D=o[I];e(O,"name",{__proto__:null,value:D.name}),e(O,"length",{__proto__:null,value:D.length}),e(T.Readable.prototype,I,{__proto__:null,value:O,enumerable:!1,configurable:!0,writable:!0})}T.Writable=kx(),T.Duplex=Ja(),T.Transform=uC,T.PassThrough=dC,T.pipeline=f;const{addAbortSignal:k}=$m;return T.addAbortSignal=k,T.finished=g,T.destroy=h,T.compose=c,T.setDefaultHighWaterMark=l,T.getDefaultHighWaterMark=u,e(T,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return y}}),e(f,i,{__proto__:null,enumerable:!0,get(){return y.pipeline}}),e(g,i,{__proto__:null,enumerable:!0,get(){return y.finished}}),T.Stream=T,T._isUint8Array=function(D){return D instanceof Uint8Array},T._uint8ArrayToBuffer=function(D){return t.from(D.buffer,D.byteOffset,D.byteLength)},Sw.exports}(function(t){const e=bC(),r=wC(),n=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=n,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return r}}),t.exports.Stream=e.Stream,t.exports.default=t.exports})(Mz);function iE(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function eH(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class Zc extends hi.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")iE(s,this,r);else{const o=s.length,a=eH(s);for(let c=0;c<o;c+=1)iE(a[c],this,r)}return!0}}class Ud extends Error{constructor({code:e,message:r,data:n}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!r||typeof r!="string")throw new Error("message must be string");super(r),Pe(this,"code",void 0),Pe(this,"data",void 0),this.code=e,n!==void 0&&(this.data=n)}toString(){return z7({code:this.code,message:this.message,data:this.data,stack:this.stack})}}const si={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},sE={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},oE=si.rpc.internal,tH="Unspecified error message. This is a bug, please report it.",rH="Unspecified server error.";function vC(t){return Number.isInteger(t)}function aE(t){return typeof t=="string"&&t.length>0}function h1(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function nH(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function iH(t){return t>=-32099&&t<=-32e3}function xC(t){const e=t;return!(!e||!vC(e.code)||!aE(e.message)||e.stack&&!aE(e.stack))}function Nx(t,e=tH){if(vC(t)){const r=t.toString();if(Object.hasOwn(sE,r))return sE[r].message;if(iH(t))return rH}return e}const sH={code:oE,message:Nx(oE)};function t2(t){try{JSON.parse(JSON.stringify(t,(e,r)=>{if(e==="__proto__"||e==="constructor")throw new Error("Not valid json");if(typeof r=="function"||typeof r=="symbol")throw new Error("Not valid json");return r}),(e,r)=>{if(!(e==="__proto__"||e==="constructor"))return r})}catch{return!1}return!0}function cE(t){return Object.getOwnPropertyNames(t).reduce((e,r)=>{const n=t[r];return t2(n)&&(e[r]=n),e},{})}function _C(t){return Array.isArray(t)?t.map(e=>t2(e)?e:h1(e)?cE(e):null):h1(t)?cE(t):t2(t)?t:null}function oH(t,e){if(t&&typeof t=="object"&&"serialize"in t&&typeof t.serialize=="function")return t.serialize();if(xC(t))return t;const r=_C(t);return Ie(Ie({},e),{},{data:{cause:r}})}function r2(t,{fallbackError:e=sH,shouldIncludeStack:r=!0}={}){if(!xC(e))throw new Error("Must provide fallback error with integer number code and string message.");const n=oH(t,e);return r||delete n.stack,n}function aH(t){return h1(t)&&Object.hasOwn(t,"cause")&&h1(t.cause)}function cH(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function lH(t,e){if(e!=="[Circular]")return e}class SC extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a non-empty string.');aH(n)?(super(r,{cause:n.cause}),Pe(this,"cause",void 0),Pe(this,"code",void 0),Pe(this,"data",void 0),Object.hasOwn(this,"cause")||Object.assign(this,{cause:n.cause})):(super(r),Pe(this,"cause",void 0),Pe(this,"code",void 0),Pe(this,"data",void 0)),n!==void 0&&(this.data=n),this.code=e,this.cause=n==null?void 0:n.cause}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,nH(this.data)&&(e.data.cause=_C(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return z7(this.serialize(),{replacer:lH,space:2})}}class EC extends SC{constructor(e,r,n){if(!cH(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}function AC(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,r]}}return[]}function Ns(t,e){const[r,n]=AC(e);return new SC(t,r??Nx(t),n)}function Fd(t,e){const[r,n]=AC(e);return new EC(t,r??Nx(t),n)}const Ht={parse:t=>Ns(si.rpc.parse,t),invalidRequest:t=>Ns(si.rpc.invalidRequest,t),invalidParams:t=>Ns(si.rpc.invalidParams,t),methodNotFound:t=>Ns(si.rpc.methodNotFound,t),internal:t=>Ns(si.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ns(e,t)},invalidInput:t=>Ns(si.rpc.invalidInput,t),resourceNotFound:t=>Ns(si.rpc.resourceNotFound,t),resourceUnavailable:t=>Ns(si.rpc.resourceUnavailable,t),transactionRejected:t=>Ns(si.rpc.transactionRejected,t),methodNotSupported:t=>Ns(si.rpc.methodNotSupported,t),limitExceeded:t=>Ns(si.rpc.limitExceeded,t)},Ws={userRejectedRequest:t=>Fd(si.provider.userRejectedRequest,t),unauthorized:t=>Fd(si.provider.unauthorized,t),unsupportedMethod:t=>Fd(si.provider.unsupportedMethod,t),disconnected:t=>Fd(si.provider.disconnected,t),chainDisconnected:t=>Fd(si.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new EC(e,r,n)}};function Mx(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}function ki(t){return async(e,r,n,i)=>{let s;const o=new Promise(u=>{s=u});let a=null,c=!1;const l=async()=>{c=!0,n(u=>{a=u,s()}),await o};try{await t(e,r,l),c?(await o,a(null)):i(null)}catch(u){const f=u;a?a(f):i(f)}}}class Vi extends Zc{constructor(){super(),Pe(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await Vi._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const l=c||r.error;l&&(typeof l=="object"&&Object.keys(l).includes("stack")===!1&&(l.stack="Stack trace is not available."),r.error=r2(l,{shouldIncludeStack:!0,fallbackError:{message:(l==null?void 0:l.message)||(l==null?void 0:l.toString()),code:(l==null?void 0:l.code)||-32603,stack:(l==null?void 0:l.stack)||"Stack trace is not available.",data:(l==null?void 0:l.data)||(l==null?void 0:l.message)||(l==null?void 0:l.toString())}})),s([l,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new Ud({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Ud({code:-32603,message:"Response has no error or result for request"});if(!n)throw new Ud({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await Vi._runAllMiddleware(e,r,this._middleware);return o?(await Vi._runReturnHandlers(a),i(s)):n(async c=>{try{await Vi._runReturnHandlers(a)}catch(l){return c(l)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise((r,n)=>{this._handle(e,(i,s)=>{i&&s===void 0?n(i):r(s)}).catch(n)})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const g=new Ud({code:-32603,message:"request must be plain object"});return r(g,{id:void 0,jsonrpc:"2.0",error:g})}if(typeof e.method!="string"){const g=new Ud({code:-32603,message:"method must be string"});return r(g,{id:e.id,jsonrpc:"2.0",error:g})}const n=Ie({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(g){s=g}if(s&&(delete i.result,!i.error)){var o,a,c,l,u,f,h;typeof s=="object"&&Object.keys(s).includes("stack")===!1&&(s.stack="Stack trace is not available."),i.error=r2(s,{shouldIncludeStack:!0,fallbackError:{message:((o=s)===null||o===void 0?void 0:o.message)||((a=s)===null||a===void 0?void 0:a.toString()),code:((c=s)===null||c===void 0?void 0:c.code)||-32603,stack:((l=s)===null||l===void 0?void 0:l.stack)||"Stack trace is not available.",data:((u=s)===null||u===void 0?void 0:u.data)||((f=s)===null||f===void 0?void 0:f.message)||((h=s)===null||h===void 0?void 0:h.toString())}})}return r(s,i)}async _processRequest(e,r){const[n,i,s]=await Vi._runAllMiddleware(e,r,this._middleware);if(Vi._checkForCompletion(e,r,i),await Vi._runReturnHandlers(s),n)throw n}}function cl(t){const e=new Vi;return t.forEach(r=>{e.push(r)}),e.asMiddleware()}function tp(t){const e=new Zc;return e.sendAsync=async r=>{const n=await t.handle(r);if(n.error){var i,s,o,a,c,l,u;typeof n.error=="object"&&Object.keys(n.error).includes("stack")===!1&&(n.error.stack="Stack trace is not available.");const f=r2(n.error,{fallbackError:{message:((i=n.error)===null||i===void 0?void 0:i.message)||((s=n.error)===null||s===void 0?void 0:s.toString()),code:((o=n.error)===null||o===void 0?void 0:o.code)||-32603,stack:((a=n.error)===null||a===void 0?void 0:a.stack)||"Stack trace is not available.",data:((c=n.error)===null||c===void 0?void 0:c.data)||((l=n.error)===null||l===void 0?void 0:l.message)||((u=n.error)===null||u===void 0?void 0:u.toString())},shouldIncludeStack:!0});throw Ht.internal(f)}return n.result},e.send=(r,n)=>{if(typeof n!="function")throw new Error('Must provide callback to "send" method.');t.handle(r,n)},t.on&&t.on("notification",r=>{e.emit("data",null,r)}),e.request=async r=>{const n=Ie(Ie({},r),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await e.sendAsync(n)},e}const uo={en:"en",ja:"ja",ko:"ko",de:"de",zh:"zh",es:"es",fr:"fr",pt:"pt",nl:"nl",tr:"tr"},uH={en:"english",ja:"japanese",ko:"korean",de:"german",zh:"mandarin",es:"spanish",fr:"french",pt:"portuguese",nl:"dutch",tr:"turkish"};var IC={exports:{}},kC={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},CC={exports:{}},fH=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")},dH=fH,hH=Array.prototype.concat,pH=Array.prototype.slice,lE=CC.exports=function(e){for(var r=[],n=0,i=e.length;n<i;n++){var s=e[n];dH(s)?r=hH.call(r,pH.call(s)):r.push(s)}return r};lE.wrap=function(t){return function(){return t(lE(arguments))}};var gH=CC.exports,_h=kC,Op=gH,RC=Object.hasOwnProperty,PC=Object.create(null);for(var zw in _h)RC.call(_h,zw)&&(PC[_h[zw]]=zw);var bs=IC.exports={to:{},get:{}};bs.get=function(t){var e=t.substring(0,3).toLowerCase(),r,n;switch(e){case"hsl":r=bs.get.hsl(t),n="hsl";break;case"hwb":r=bs.get.hwb(t),n="hwb";break;default:r=bs.get.rgb(t),n="rgb";break}return r?{model:n,value:r}:null};bs.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^(\w+)$/,o=[0,0,0,1],a,c,l;if(a=t.match(r)){for(l=a[2],a=a[1],c=0;c<3;c++){var u=c*2;o[c]=parseInt(a.slice(u,u+2),16)}l&&(o[3]=parseInt(l,16)/255)}else if(a=t.match(e)){for(a=a[1],l=a[3],c=0;c<3;c++)o[c]=parseInt(a[c]+a[c],16);l&&(o[3]=parseInt(l+l,16)/255)}else if(a=t.match(n)){for(c=0;c<3;c++)o[c]=parseInt(a[c+1],0);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else if(a=t.match(i)){for(c=0;c<3;c++)o[c]=Math.round(parseFloat(a[c+1])*2.55);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else return(a=t.match(s))?a[1]==="transparent"?[0,0,0,0]:RC.call(_h,a[1])?(o=_h[a[1]],o[3]=1,o):null:null;for(c=0;c<3;c++)o[c]=qc(o[c],0,255);return o[3]=qc(o[3],0,1),o};bs.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,s=qc(parseFloat(r[2]),0,100),o=qc(parseFloat(r[3]),0,100),a=qc(isNaN(n)?1:n,0,1);return[i,s,o,a]}return null};bs.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,s=qc(parseFloat(r[2]),0,100),o=qc(parseFloat(r[3]),0,100),a=qc(isNaN(n)?1:n,0,1);return[i,s,o,a]}return null};bs.to.hex=function(){var t=Op(arguments);return"#"+T0(t[0])+T0(t[1])+T0(t[2])+(t[3]<1?T0(Math.round(t[3]*255)):"")};bs.to.rgb=function(){var t=Op(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};bs.to.rgb.percent=function(){var t=Op(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"};bs.to.hsl=function(){var t=Op(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};bs.to.hwb=function(){var t=Op(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};bs.to.keyword=function(t){return PC[t.slice(0,3)]};function qc(t,e,r){return Math.min(Math.max(e,t),r)}function T0(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}var mH=IC.exports;const rp=kC,TC={};for(const t of Object.keys(rp))TC[rp[t]]=t;const Nt={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var NC=Nt;for(const t of Object.keys(Nt)){if(!("channels"in Nt[t]))throw new Error("missing channels property: "+t);if(!("labels"in Nt[t]))throw new Error("missing channel labels property: "+t);if(Nt[t].labels.length!==Nt[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:r}=Nt[t];delete Nt[t].channels,delete Nt[t].labels,Object.defineProperty(Nt[t],"channels",{value:e}),Object.defineProperty(Nt[t],"labels",{value:r})}Nt.rgb.hsl=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i;let a,c;s===i?a=0:e===s?a=(r-n)/o:r===s?a=2+(n-e)/o:n===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);const l=(i+s)/2;return s===i?c=0:l<=.5?c=o/(s+i):c=o/(2-s-i),[a,c*100,l*100]};Nt.rgb.hsv=function(t){let e,r,n,i,s;const o=t[0]/255,a=t[1]/255,c=t[2]/255,l=Math.max(o,a,c),u=l-Math.min(o,a,c),f=function(h){return(l-h)/6/u+1/2};return u===0?(i=0,s=0):(s=u/l,e=f(o),r=f(a),n=f(c),o===l?i=n-r:a===l?i=1/3+e-n:c===l&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,l*100]};Nt.rgb.hwb=function(t){const e=t[0],r=t[1];let n=t[2];const i=Nt.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};Nt.rgb.cmyk=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),s=(1-e-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function yH(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}Nt.rgb.keyword=function(t){const e=TC[t];if(e)return e;let r=1/0,n;for(const i of Object.keys(rp)){const s=rp[i],o=yH(t,s);o<r&&(r=o,n=i)}return n};Nt.keyword.rgb=function(t){return rp[t]};Nt.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;const i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,o=e*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};Nt.rgb.lab=function(t){const e=Nt.rgb.xyz(t);let r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};Nt.hsl.rgb=function(t){const e=t[0]/360,r=t[1]/100,n=t[2]/100;let i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;const a=2*n-i,c=[0,0,0];for(let l=0;l<3;l++)s=e+1/3*-(l-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,c[l]=o*255;return c};Nt.hsl.hsv=function(t){const e=t[0];let r=t[1]/100,n=t[2]/100,i=r;const s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;const o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[e,a*100,o*100]};Nt.hsv.rgb=function(t){const e=t[0]/60,r=t[1]/100;let n=t[2]/100;const i=Math.floor(e)%6,s=e-Math.floor(e),o=255*n*(1-r),a=255*n*(1-r*s),c=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,c,o];case 1:return[a,n,o];case 2:return[o,n,c];case 3:return[o,a,n];case 4:return[c,o,n];case 5:return[n,o,a]}};Nt.hsv.hsl=function(t){const e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01);let s,o;o=(2-r)*n;const a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};Nt.hwb.rgb=function(t){const e=t[0]/360;let r=t[1]/100,n=t[2]/100;const i=r+n;let s;i>1&&(r/=i,n/=i);const o=Math.floor(6*e),a=1-n;s=6*e-o,o&1&&(s=1-s);const c=r+s*(a-r);let l,u,f;switch(o){default:case 6:case 0:l=a,u=c,f=r;break;case 1:l=c,u=a,f=r;break;case 2:l=r,u=a,f=c;break;case 3:l=r,u=c,f=a;break;case 4:l=c,u=r,f=a;break;case 5:l=a,u=r,f=c;break}return[l*255,u*255,f*255]};Nt.cmyk.rgb=function(t){const e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};Nt.xyz.rgb=function(t){const e=t[0]/100,r=t[1]/100,n=t[2]/100;let i,s,o;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,o=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};Nt.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;const i=116*r-16,s=500*(e-r),o=200*(r-n);return[i,s,o]};Nt.lab.xyz=function(t){const e=t[0],r=t[1],n=t[2];let i,s,o;s=(e+16)/116,i=r/500+s,o=s-n/200;const a=s**3,c=i**3,l=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=c>.008856?c:(i-16/116)/7.787,o=l>.008856?l:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};Nt.lab.lch=function(t){const e=t[0],r=t[1],n=t[2];let i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);const o=Math.sqrt(r*r+n*n);return[e,o,i]};Nt.lch.lab=function(t){const e=t[0],r=t[1],i=t[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[e,s,o]};Nt.rgb.ansi16=function(t,e=null){const[r,n,i]=t;let s=e===null?Nt.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};Nt.hsv.ansi16=function(t){return Nt.rgb.ansi16(Nt.hsv.rgb(t),t[2])};Nt.rgb.ansi256=function(t){const e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};Nt.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[n,i,s]};Nt.ansi256.rgb=function(t){if(t>=232){const s=(t-232)*10+8;return[s,s,s]}t-=16;let e;const r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};Nt.rgb.hex=function(t){const r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};Nt.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(a=>a+a).join(""));const n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};Nt.rgb.hcg=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),o=i-s;let a,c;return o<1?a=s/(1-o):a=0,o<=0?c=0:i===e?c=(r-n)/o%6:i===r?c=2+(n-e)/o:c=4+(e-r)/o,c/=6,c%=1,[c*360,o*100,a*100]};Nt.hsl.hcg=function(t){const e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r);let i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};Nt.hsv.hcg=function(t){const e=t[1]/100,r=t[2]/100,n=e*r;let i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};Nt.hcg.rgb=function(t){const e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];const i=[0,0,0],s=e%1*6,o=s%1,a=1-o;let c=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return c=(1-r)*n,[(r*i[0]+c)*255,(r*i[1]+c)*255,(r*i[2]+c)*255]};Nt.hcg.hsv=function(t){const e=t[1]/100,r=t[2]/100,n=e+r*(1-e);let i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};Nt.hcg.hsl=function(t){const e=t[1]/100,n=t[2]/100*(1-e)+.5*e;let i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};Nt.hcg.hwb=function(t){const e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};Nt.hwb.hcg=function(t){const e=t[1]/100,n=1-t[2]/100,i=n-e;let s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};Nt.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};Nt.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};Nt.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};Nt.gray.hsl=function(t){return[0,0,t[0]]};Nt.gray.hsv=Nt.gray.hsl;Nt.gray.hwb=function(t){return[0,100,t[0]]};Nt.gray.cmyk=function(t){return[0,0,0,t[0]]};Nt.gray.lab=function(t){return[t[0],0,0]};Nt.gray.hex=function(t){const e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};Nt.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};const p1=NC;function wH(){const t={},e=Object.keys(p1);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function bH(t){const e=wH(),r=[t];for(e[t].distance=0;r.length;){const n=r.pop(),i=Object.keys(p1[n]);for(let s=i.length,o=0;o<s;o++){const a=i[o],c=e[a];c.distance===-1&&(c.distance=e[n].distance+1,c.parent=n,r.unshift(a))}}return e}function vH(t,e){return function(r){return e(t(r))}}function xH(t,e){const r=[e[t].parent,t];let n=p1[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=vH(p1[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}var _H=function(t){const e=bH(t),r={},n=Object.keys(e);for(let i=n.length,s=0;s<i;s++){const o=n[s];e[o].parent!==null&&(r[o]=xH(o,e))}return r};const n2=NC,SH=_H,qu={},EH=Object.keys(n2);function AH(t){const e=function(...r){const n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function IH(t){const e=function(...r){const n=r[0];if(n==null)return n;n.length>1&&(r=n);const i=t(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}EH.forEach(t=>{qu[t]={},Object.defineProperty(qu[t],"channels",{value:n2[t].channels}),Object.defineProperty(qu[t],"labels",{value:n2[t].labels});const e=SH(t);Object.keys(e).forEach(n=>{const i=e[n];qu[t][n]=IH(i),qu[t][n].raw=AH(i)})});var kH=qu;const Ku=mH,gs=kH,MC=["keyword","gray","hex"],i2={};for(const t of Object.keys(gs))i2[[...gs[t].labels].sort().join("")]=t;const g1={};function Hn(t,e){if(!(this instanceof Hn))return new Hn(t,e);if(e&&e in MC&&(e=null),e&&!(e in gs))throw new Error("Unknown model: "+e);let r,n;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof Hn)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){const i=Ku.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,n=gs[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(t.length>0){this.model=e||"rgb",n=gs[this.model].channels;const i=Array.prototype.slice.call(t,0,n);this.color=s2(i,n),this.valpha=typeof t[n]=="number"?t[n]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;const i=Object.keys(t);"alpha"in t&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);const s=i.sort().join("");if(!(s in i2))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=i2[s];const{labels:o}=gs[this.model],a=[];for(r=0;r<o.length;r++)a.push(t[o[r]]);this.color=s2(a)}if(g1[this.model])for(n=gs[this.model].channels,r=0;r<n;r++){const i=g1[this.model][r];i&&(this.color[r]=i(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Hn.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in Ku.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);const r=e.valpha===1?e.color:[...e.color,this.valpha];return Ku.to[e.model](r)},percentString(t){const e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:[...e.color,this.valpha];return Ku.to.rgb.percent(r)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=gs[this.model],{labels:r}=gs[this.model];for(let n=0;n<e;n++)t[r[n]]=this.color[n];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new Hn([...this.color.map(RH(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new Hn([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:hn("rgb",0,Nn(255)),green:hn("rgb",1,Nn(255)),blue:hn("rgb",2,Nn(255)),hue:hn(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:hn("hsl",1,Nn(100)),lightness:hn("hsl",2,Nn(100)),saturationv:hn("hsv",1,Nn(100)),value:hn("hsv",2,Nn(100)),chroma:hn("hcg",1,Nn(100)),gray:hn("hcg",2,Nn(100)),white:hn("hwb",1,Nn(100)),wblack:hn("hwb",2,Nn(100)),cyan:hn("cmyk",0,Nn(100)),magenta:hn("cmyk",1,Nn(100)),yellow:hn("cmyk",2,Nn(100)),black:hn("cmyk",3,Nn(100)),x:hn("xyz",0,Nn(95.047)),y:hn("xyz",1,Nn(100)),z:hn("xyz",2,Nn(108.833)),l:hn("lab",0,Nn(100)),a:hn("lab",1),b:hn("lab",2),keyword(t){return t!==void 0?new Hn(t):gs[this.model].keyword(this.color)},hex(t){return t!==void 0?new Hn(t):Ku.to.hex(this.rgb().round().color)},hexa(t){if(t!==void 0)return new Hn(t);const e=this.rgb().round().color;let r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),Ku.to.hex(e)+r},rgbNumber(){const t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){const t=this.rgb().color,e=[];for(const[r,n]of t.entries()){const i=n/255;e[r]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return Hn.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const r=t.rgb(),n=this.rgb(),i=e===void 0?.5:e,s=2*i-1,o=r.alpha()-n.alpha(),a=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,c=1-a;return Hn.rgb(a*r.red()+c*n.red(),a*r.green()+c*n.green(),a*r.blue()+c*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};for(const t of Object.keys(gs)){if(MC.includes(t))continue;const{channels:e}=gs[t];Hn.prototype[t]=function(...r){return this.model===t?new Hn(this):r.length>0?new Hn(r,t):new Hn([...PH(gs[this.model][t].raw(this.color)),this.valpha],t)},Hn[t]=function(...r){let n=r[0];return typeof n=="number"&&(n=s2(r,e)),new Hn(n,t)}}function CH(t,e){return Number(t.toFixed(e))}function RH(t){return function(e){return CH(e,t)}}function hn(t,e,r){t=Array.isArray(t)?t:[t];for(const n of t)(g1[n]||(g1[n]=[]))[e]=r;return t=t[0],function(n){let i;return n!==void 0?(r&&(n=r(n)),i=this[t](),i.color[e]=n,i):(i=this[t]().color[e],r&&(i=r(i)),i)}}function Nn(t){return function(e){return Math.max(0,Math.min(t,e))}}function PH(t){return Array.isArray(t)?t:[t]}function s2(t,e){for(let r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}var TH=Hn;const uE=An(TH);function fE(t=3,e=50,r="black",n=0,i=20,s="#0346ff"){const o=[];let a;for(a=0;a<t;a+=1)o.push(uE(s).rotate((a+1)/t*-n).saturate((a+1)/t*(i/100)).mix(uE(r),e/100*(a+1)/t).hex());return o}function NH(t){const e=fE(3,50,"black",0,20,t),r=fE(6,85,"white",0,20,t);return[...e.reverse(),t,...r]}function MH(t,e){if(e.primary){const r=NH(e.primary);t.style.setProperty("--app-primary-900",r[0]),t.style.setProperty("--app-primary-800",r[1]),t.style.setProperty("--app-primary-700",r[2]),t.style.setProperty("--app-primary-600",r[3]),t.style.setProperty("--app-primary-500",r[4]),t.style.setProperty("--app-primary-400",r[5]),t.style.setProperty("--app-primary-300",r[6]),t.style.setProperty("--app-primary-200",r[7]),t.style.setProperty("--app-primary-100",r[8]),t.style.setProperty("--app-primary-50",r[9])}e.onPrimary&&t.style.setProperty("--app-on-primary",e.onPrimary)}class OH extends Zc{constructor({config:e={},state:r={}}){super(),Pe(this,"defaultConfig",{}),Pe(this,"defaultState",{}),Pe(this,"disabled",!1),Pe(this,"name","BaseController"),Pe(this,"initialConfig",void 0),Pe(this,"initialState",void 0),Pe(this,"internalConfig",this.defaultConfig),Pe(this,"internalState",this.defaultState),this.initialState=r,this.initialConfig=e}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,r=!1,n=!0){if(n){this.internalConfig=r?e:Object.assign(this.internalConfig,e);for(const i in this.internalConfig)typeof this.internalConfig[i]<"u"&&(this[i]=this.internalConfig[i])}else for(const i in e)typeof this.internalConfig[i]<"u"&&(this.internalConfig[i]=e[i],this[i]=e[i])}update(e,r=!1){this.internalState=Ie(r?{}:Ie({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}const LH=()=>!0,DH=["newListener","removeListener"],BH=t=>!DH.includes(t);function $H(t,e){return typeof t.rawListeners<"u"?t.rawListeners(e):t.listeners(e)}function OC(t,e){let n={}.eventFilter||LH;if(typeof n=="string"&&n==="skipInternal"&&(n=BH),typeof n!="function")throw new Error("createEventEmitterProxy - Invalid eventFilter");let i=t,s=a=>{if(i===a)return;const c=i;i=a,c.eventNames().filter(n).forEach(u=>{$H(c,u).forEach(f=>{a.on(u,f)})}),c.removeAllListeners()};return new Proxy({},{get:(a,c)=>c==="setTarget"?s:i[c],set:(a,c,l)=>c==="setTarget"?(s=l,!0):(i[c]=l,!0)})}const UH=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function FH(t){switch(t.status){case 405:throw Ht.methodNotFound();case 418:throw Ht.internal({message:"Request is being rate limited.",data:{cause:t}});case 503:case 504:throw Ht.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range.",data:{cause:t}})}}function jH(t){return new Promise(e=>{setTimeout(e,t)})}function zH(t,e){if(t.status!==200)throw Ht.internal({message:`Non-200 status code: '${t.status}'`,data:e});if(e.error){var r;throw Ht.internal({data:e.error,message:(r=e.error)===null||r===void 0?void 0:r.message})}return e.result}function qH({req:t,rpcTarget:e,originHttpHeaderKey:r}){const n=new URL(e),i={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},s=t.origin,o=JSON.stringify(i),a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:o};return r&&s&&(a.headers[r]=s),{fetchUrl:n.href,fetchParams:a}}function Ox({rpcTarget:t,originHttpHeaderKey:e}){return ki(async(r,n,i)=>{const{fetchUrl:s,fetchParams:o}=qH({req:r,rpcTarget:t,originHttpHeaderKey:e}),a=5,c=1e3;for(let l=0;l<a;l++){try{const u=await fetch(s,o);FH(u);const f=await u.json(),h=zH(u,f);n.result=h;return}catch(u){const f=(u.message||u).toString();if(!UH.some(g=>f.includes(g)))throw u}await jH(c)}})}function Sh(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t,(r,n)=>typeof n=="bigint"?n.toString():n))}}class ah extends Error{}ah.prototype.name="InvalidTokenError";function KH(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function WH(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return KH(e)}catch{return atob(e)}}function HH(t,e){if(typeof t!="string")throw new ah("Invalid token specified: must be a string");e||(e={});const r=e.header===!0?0:1,n=t.split(".")[r];if(typeof n!="string")throw new ah(`Invalid token specified: missing part #${r+1}`);let i;try{i=WH(n)}catch(s){throw new ah(`Invalid token specified: invalid base64 for part #${r+1} (${s.message})`)}try{return JSON.parse(i)}catch(s){throw new ah(`Invalid token specified: invalid json for part #${r+1} (${s.message})`)}}const LC="https://authjs.web3auth.io",DC=async(t,e)=>{const s={payload:t,header:{t:e==="solana"?"sip99":"eip191"},network:e==="solana"?"solana":"ethereum"},o=await Cp(`${LC}/siww/get`,s);if(!o.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return o.challenge},BC=async(t,e,r,n,i,s,o,a,c)=>{var l;const f=Ie({signature:{s:e,t:t==="solana"?"sip99":"eip191"},message:r,issuer:n,audience:typeof window<"u"&&((l=window.location)===null||l===void 0?void 0:l.hostname)||"com://reactnative",timeout:i},{}),h=await Cp(`${LC}/siww/verify`,f,{headers:{client_id:s,wallet_provider:n,web3auth_network:o}});if(!h.success)throw am.error("Failed to authenticate user, ,message verification failed",h.error),new Error("Failed to authenticate user, ,message verification failed");return h.token},Eh={AUTH:"auth",WALLET_CONNECT_V2:"wallet-connect-v2",SFA:"sfa"},np=Ie({TORUS_SOLANA:"torus-solana"},Eh),Kc=Ie({TORUS_EVM:"torus-evm",COINBASE:"coinbase"},Eh),gr=Ie(Ie({},Kc),np),$C={[Eh.AUTH]:"Auth",[Eh.WALLET_CONNECT_V2]:"Wallet Connect v2",[Eh.SFA]:"SFA",[np.TORUS_SOLANA]:"Torus",[Kc.TORUS_EVM]:"Torus",[Kc.COINBASE]:"Coinbase Smart Wallet"},po={EXTERNAL:"external",IN_APP:"in_app"},tt={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},Qt=Ie(Ie({},tt),{},{ADAPTER_DATA_UPDATED:"adapter_data_updated",CACHE_CLEAR:"cache_clear"});class Lx extends Zc{constructor(e={}){super(),Pe(this,"adapterData",{}),Pe(this,"sessionTime",86400),Pe(this,"clientId",void 0),Pe(this,"web3AuthNetwork",zc.MAINNET),Pe(this,"useCoreKitKey",void 0),Pe(this,"rehydrated",!1),Pe(this,"chainConfig",null),Pe(this,"knownChainConfigs",{}),Pe(this,"adapterNamespace",void 0),Pe(this,"currentChainNamespace",void 0),Pe(this,"type",void 0),Pe(this,"name",void 0),Pe(this,"status",void 0),this.setAdapterSettings(e)}get chainConfigProxy(){return this.chainConfig?Ie({},this.chainConfig):null}get connnected(){return this.status===tt.CONNECTED}setAdapterSettings(e){if(this.status===tt.READY)return;e!=null&&e.sessionTime&&(this.sessionTime=e.sessionTime),e!=null&&e.clientId&&(this.clientId=e.clientId),e!=null&&e.web3AuthNetwork&&(this.web3AuthNetwork=e.web3AuthNetwork),(e==null?void 0:e.useCoreKitKey)!==void 0&&(this.useCoreKitKey=e.useCoreKitKey);const r=e.chainConfig;if(r){if(!r.chainNamespace)throw st.notReady("ChainNamespace is required while setting chainConfig");this.currentChainNamespace=r.chainNamespace;const n=Jc(r.chainNamespace,r.chainId),i=Ie(Ie({},n||{}),r);this.chainConfig=i,this.addChainConfig(i)}}checkConnectionRequirements(){if(!(this.name===gr.WALLET_CONNECT_V2&&this.status===tt.CONNECTING)){if(this.status===tt.CONNECTING)throw st.notReady("Already connecting");if(this.status===tt.CONNECTED)throw Kt.connectionError("Already connected");if(this.status!==tt.READY)throw Kt.connectionError("Wallet adapter is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements(){if(!this.clientId)throw st.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!this.chainConfig||!this.chainConfig.rpcTarget&&this.chainConfig.chainNamespace!==Vt.OTHER)throw st.invalidParams("rpcTarget is required in chainConfig");if(!this.chainConfig.chainId&&this.chainConfig.chainNamespace!==Vt.OTHER)throw st.invalidParams("chainID is required in chainConfig");if(this.status!==tt.NOT_READY){if(this.status===tt.CONNECTED)throw st.notReady("Already connected");if(this.status===tt.READY)throw st.notReady("Adapter is already initialized")}}checkDisconnectionRequirements(){if(this.status!==tt.CONNECTED)throw Kt.disconnectionError("Not connected with wallet")}checkAddChainRequirements(e,r=!1){if(!r&&!this.provider)throw Kt.notConnectedError("Not connected with wallet.");if(this.currentChainNamespace!==e.chainNamespace)throw qs.chainNamespaceNotAllowed("This adapter doesn't support this chainNamespace")}checkSwitchChainRequirements({chainId:e},r=!1){if(!r&&!this.provider)throw Kt.notConnectedError("Not connected with wallet.");if(!this.knownChainConfigs[e])throw Kt.chainConfigNotAdded("Invalid chainId")}updateAdapterData(e){this.adapterData=e,this.emit(Qt.ADAPTER_DATA_UPDATED,{adapterName:this.name,data:e})}addChainConfig(e){const r=this.knownChainConfigs[e.chainId];this.knownChainConfigs[e.chainId]=Ie(Ie({},r||{}),e)}getChainConfig(e){return this.knownChainConfigs[e]||null}}function Ec(t){let e=!1,r=0,n;try{n=window[t],e=!0,r=n.length;const i="__storage_test__";return n.setItem(i,i),n.removeItem(i),!0}catch(i){const s=i;return!!(s&&(s.code===22||s.code===1014||s.name==="QuotaExceededError"||s.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&r!==0)}}const VH=t=>K$[t??zc.SAPPHIRE_MAINNET],UC=async(t,e,r)=>{const n=new URL(`${VH(e)}/api/configuration`);return n.searchParams.append("project_id",t),n.searchParams.append("network",e),n.searchParams.append("whitelist","true"),r&&n.searchParams.append("aa_provider",r),await Am(n.href)},GH=async t=>await Am(t),YH=t=>{let e=t.toLowerCase();return e=e.split("|")[0],e=e.replace(/-/g," "),e=e.replace(/\s+/g," "),e=e.replace(/wallet$/i,"").trim(),e=e.replace(/\s/g,"-"),e},FC=t=>{const e=HH(t);return!e.exp||e.exp<Math.floor(Date.now()/1e3)},jC=(t,e)=>Ec("localStorage")?localStorage.getItem(`${t.toLowerCase()}_${e}`):null,zC=(t,e,r)=>Ec("localStorage")?localStorage.setItem(`${t.toLowerCase()}_${e}`,r):null,JH=(t,e)=>Ec("localStorage")?localStorage.removeItem(`${t.toLowerCase()}_${e}`):null,XH=Ie(Ie({},Vt),{},{MULTICHAIN:"multichain"}),qC={READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"};Ie({},qC);const ZH={WALLET_SERVICES:"wallet-services"},QH={SOLANA:"solana"};Ie(Ie({},ZH),QH);Vt.SOLANA,np.TORUS_SOLANA+"",np.AUTH+"";Vt.EIP155,Kc.TORUS_EVM+"",Kc.AUTH+"",Kc.WALLET_CONNECT_V2+"";Vt.SOLANA,np.AUTH+"";Vt.EIP155,Kc.AUTH+"";const eV={chainNamespace:Vt.OTHER,adapters:{[Kc.AUTH]:{label:"Auth",showOnModal:!0,showOnMobile:!0,showOnDesktop:!0}}},tV="https://assets.web3auth.io/v1/wallet-registry.json",KC=()=>({adapterSettings:{network:zc.SAPPHIRE_MAINNET,clientId:"",uxMode:Fo.POPUP},loginSettings:{},privateKeyProvider:void 0});class rV extends Lx{constructor(e={}){super(e),Pe(this,"name",gr.AUTH),Pe(this,"adapterNamespace",Yh.MULTICHAIN),Pe(this,"type",po.IN_APP),Pe(this,"authInstance",null),Pe(this,"status",tt.NOT_READY),Pe(this,"currentChainNamespace",Vt.EIP155),Pe(this,"privateKeyProvider",null),Pe(this,"authOptions",void 0),Pe(this,"loginSettings",{loginProvider:""}),this.setAdapterSettings(Ie(Ie({},e.adapterSettings),{},{chainConfig:e.chainConfig,clientId:e.clientId||"",sessionTime:e.sessionTime,web3AuthNetwork:e.web3AuthNetwork,useCoreKitKey:e.useCoreKitKey,privateKeyProvider:e.privateKeyProvider})),this.loginSettings=e.loginSettings||{loginProvider:""},this.privateKeyProvider=e.privateKeyProvider||null}get chainConfigProxy(){return this.chainConfig?Ie({},this.chainConfig):null}get provider(){return this.status!==tt.NOT_READY&&this.privateKeyProvider?this.privateKeyProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){if(super.checkInitializationRequirements(),!this.clientId)throw st.invalidParams("clientId is required before auth's initialization");if(!this.authOptions)throw st.invalidParams("authOptions is required before auth's initialization");const r=this.authOptions.uxMode===Fo.REDIRECT;if(this.authOptions=Ie(Ie({},this.authOptions),{},{replaceUrlOnRedirect:r,useCoreKitKey:this.useCoreKitKey}),this.authInstance=new Pz(Ie(Ie({},this.authOptions),{},{clientId:this.clientId,network:this.authOptions.network||this.web3AuthNetwork||zc.SAPPHIRE_MAINNET})),dt.debug("initializing auth adapter init"),await this.authInstance.init(),!this.chainConfig)throw st.invalidParams("chainConfig is required before initialization");this.status=tt.READY,this.emit(Qt.READY,gr.AUTH);try{dt.debug("initializing auth adapter"),this._getFinalPrivKey()&&(e.autoConnect||r)&&(this.rehydrated=!0,await this.connect())}catch(n){dt.error("Failed to connect with cached auth provider",n),this.emit(Qt.ERRORED,n)}}async connect(e={loginProvider:""}){super.checkConnectionRequirements(),this.status=tt.CONNECTING,this.emit(Qt.CONNECTING,Ie(Ie({},e),{},{adapter:gr.AUTH}));try{return await this.connectWithProvider(e),this.provider}catch(r){throw dt.error("Failed to connect with auth provider",r),this.status=tt.READY,this.emit(Qt.ERRORED,r),r!=null&&r.message.includes("user closed popup")?Kt.popupClosed():r instanceof nu?r:Kt.connectionError("Failed to login with auth",r)}}async enableMFA(e={loginProvider:""}){if(this.status!==tt.CONNECTED)throw Kt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw st.notReady("authInstance is not ready");try{await this.authInstance.enableMFA(e)}catch(r){throw dt.error("Failed to enable MFA with auth provider",r),r instanceof nu?r:Kt.connectionError("Failed to enable MFA with auth",r)}}async disconnect(e={cleanup:!1}){if(this.status!==tt.CONNECTED)throw Kt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw st.notReady("authInstance is not ready");await this.authInstance.logout(),e.cleanup?(this.status=tt.NOT_READY,this.authInstance=null,this.privateKeyProvider=null):this.status=tt.READY,this.rehydrated=!1,this.emit(Qt.DISCONNECTED)}async authenticateUser(){if(this.status!==tt.CONNECTED)throw Kt.notConnectedError("Not connected with wallet, Please login/connect first");return{idToken:(await this.getUserInfo()).idToken}}async getUserInfo(){if(this.status!==tt.CONNECTED)throw Kt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw st.notReady("authInstance is not ready");return this.authInstance.getUserInfo()}setAdapterSettings(e){super.setAdapterSettings(e);const r=KC();dt.info("setting adapter settings",e),this.authOptions=Io.all([r.adapterSettings,this.authOptions||{},e||{}]),e.web3AuthNetwork&&(this.authOptions.network=e.web3AuthNetwork),e.privateKeyProvider&&(this.privateKeyProvider=e.privateKeyProvider)}async addChain(e,r=!1){var n;super.checkAddChainRequirements(e,r),(n=this.privateKeyProvider)===null||n===void 0||n.addChain(e),this.addChainConfig(e)}async switchChain(e,r=!1){var n;super.checkSwitchChainRequirements(e,r),await((n=this.privateKeyProvider)===null||n===void 0?void 0:n.switchChain(e)),this.setAdapterSettings({chainConfig:this.getChainConfig(e.chainId)})}_getFinalPrivKey(){if(!this.authInstance)return"";let e=this.authInstance.privKey;if(this.useCoreKitKey){if(this.authInstance.privKey&&!this.authInstance.coreKitKey)throw Kt.coreKitKeyNotFound();e=this.authInstance.coreKitKey}return e}_getFinalEd25519PrivKey(){if(!this.authInstance)return"";let e=this.authInstance.ed25519PrivKey;if(this.useCoreKitKey){if(this.authInstance.ed25519PrivKey&&!this.authInstance.coreKitEd25519Key)throw Kt.coreKitKeyNotFound();e=this.authInstance.coreKitEd25519Key}return e}async connectWithProvider(e={loginProvider:""}){var r;if(!this.privateKeyProvider)throw st.invalidParams("PrivateKey Provider is required before initialization");if(!this.authInstance)throw st.notReady("authInstance is not ready");if(!this._getFinalPrivKey()||(r=e.extraLoginOptions)!==null&&r!==void 0&&r.id_token){var i;if(this.loginSettings.curve||(this.loginSettings.curve=this.currentChainNamespace===Vt.SOLANA?hS.ED25519:hS.SECP256K1),!e.loginProvider&&!this.loginSettings.loginProvider)throw st.invalidParams("loginProvider is required for login");await this.authInstance.login(Io.all([this.loginSettings,e,{extraLoginOptions:Ie(Ie({},e.extraLoginOptions||{}),{},{login_hint:e.login_hint||((i=e.extraLoginOptions)===null||i===void 0?void 0:i.login_hint)})}]))}let s=this._getFinalPrivKey();s&&(this.currentChainNamespace===Vt.SOLANA&&(s=this._getFinalEd25519PrivKey()),await this.privateKeyProvider.setupProvider(s),this.status=tt.CONNECTED,this.emit(Qt.CONNECTED,{adapter:gr.AUTH,reconnected:this.rehydrated,provider:this.provider}))}}class zm extends OH{constructor({config:e,state:r}){if(super({config:e,state:r}),Pe(this,"_providerEngineProxy",null),Pe(this,"keyExportFlagSetByCode",!1),!e.chainConfig)throw st.invalidProviderConfigError("Please provide chainConfig");if(!e.chainConfig.chainId)throw st.invalidProviderConfigError("Please provide chainId inside chainConfig");if(!e.chainConfig.rpcTarget)throw st.invalidProviderConfigError("Please provide rpcTarget inside chainConfig");typeof e.keyExportEnabled=="boolean"&&(this.keyExportFlagSetByCode=!0),this.defaultState={chainId:"loading"},this.defaultConfig={chainConfig:e.chainConfig,networks:{[e.chainConfig.chainId]:e.chainConfig},keyExportEnabled:typeof e.keyExportEnabled=="boolean"?e.keyExportEnabled:!0},super.initialize()}get currentChainConfig(){return this.config.chainConfig}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(e){throw new Error("Method not implemented.")}async request(e){var r;if(!e||typeof e!="object"||Array.isArray(e))throw Ht.invalidRequest({message:Pa.invalidRequestArgs().message,data:Ie(Ie({},e||{}),{},{cause:Pa.invalidRequestArgs().message})});const{method:n,params:i}=e;if(typeof n!="string"||n.length===0)throw Ht.invalidRequest({message:Pa.invalidRequestMethod().message,data:Ie(Ie({},e||{}),{},{cause:Pa.invalidRequestMethod().message})});if(i!==void 0&&!Array.isArray(i)&&(typeof i!="object"||i===null))throw Ht.invalidRequest({message:Pa.invalidRequestParams().message,data:Ie(Ie({},e||{}),{},{cause:Pa.invalidRequestParams().message})});return(r=this.provider)===null||r===void 0?void 0:r.request(e)}sendAsync(e,r){return r?this.send(e,r):this.request(e)}send(e,r){this.request(e).then(n=>r(null,{result:n})).catch(n=>r(n,null))}addChain(e){if(!e.chainId||!e.rpcTarget)throw Ht.invalidParams("chainId is required");this.configure({networks:Ie(Ie({},this.config.networks),{},{[e.chainId]:e})})}getChainConfig(e){var r;const n=(r=this.config.networks)===null||r===void 0?void 0:r[e];if(!n)throw Ht.invalidRequest(`Chain ${e} is not supported, please add chainConfig for it`);return n}updateProviderEngineProxy(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=OC(e)}setKeyExportFlag(e){this.keyExportFlagSetByCode||this.configure({keyExportEnabled:e})}getProviderEngineProxy(){return this._providerEngineProxy}}function nV(t){return(e,r,n,i)=>e.method==="chainId"?(r.result=t,i()):n()}function iV(t){return(e,r,n,i)=>e.method==="provider_config"?(r.result=t,i()):n()}function sV(t){const{chainId:e,rpcTarget:r}=t,n=Ox({rpcTarget:r});return{networkMiddleware:cl([nV(e),iV(t),n]),fetchMiddleware:n}}var WC;class qm extends zm{constructor({config:e,state:r}){super({config:e,state:r})}async setupProvider(){const{networkMiddleware:e}=sV(this.config.chainConfig),r=new Vi;r.push(e);const n=tp(r);this.updateProviderEngineProxy(n);const i=this.config.chainConfig.chainId;this.state.chainId!==i&&(this.emit("chainChanged",i),this.emit("connect",{chainId:i})),this.update({chainId:this.config.chainConfig.chainId})}async switchChain(e){if(!this._providerEngineProxy)throw Ws.custom({message:"Provider is not initialized",code:4902});const r=this.getChainConfig(e.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:r}),await this.setupProvider()}updateProviderEngineProxy(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=OC(e)}getProviderEngineProxy(){return this._providerEngineProxy}lookupNetwork(){throw new Error("Method not implemented.")}}WC=qm;Pe(qm,"getProviderInstance",async t=>{const e=new WC({config:{chainConfig:t.chainConfig}});return await e.setupProvider(),e});const N0="Web3Auth-cachedAdapter";class oV extends Zc{constructor(e){var r,n,i,s;if(super(),Pe(this,"coreOptions",void 0),Pe(this,"connectedAdapterName",null),Pe(this,"status",tt.NOT_READY),Pe(this,"cachedAdapter",null),Pe(this,"walletAdapters",{}),Pe(this,"commonJRPCProvider",null),Pe(this,"plugins",{}),Pe(this,"storage","localStorage"),!e.clientId)throw st.invalidParams("Please provide a valid clientId in constructor");if(e.enableLogging?dt.enableAll():dt.setLevel("error"),!e.privateKeyProvider&&!e.chainConfig)throw st.invalidParams("Please provide chainConfig or privateKeyProvider");if(e.chainConfig=e.chainConfig||e.privateKeyProvider.currentChainConfig,!((r=e.chainConfig)!==null&&r!==void 0&&r.chainNamespace)||!Object.values(Vt).includes((n=e.chainConfig)===null||n===void 0?void 0:n.chainNamespace))throw st.invalidParams("Please provide a valid chainNamespace in chainConfig");e.storageKey==="session"&&(this.storage="sessionStorage"),this.cachedAdapter=Ec(this.storage)?window[this.storage].getItem(N0):null,this.coreOptions=Ie(Ie({},e),{},{chainConfig:Ie(Ie({},Jc((i=e.chainConfig)===null||i===void 0?void 0:i.chainNamespace,(s=e.chainConfig)===null||s===void 0?void 0:s.chainId)||{}),e.chainConfig)}),this.subscribeToAdapterEvents=this.subscribeToAdapterEvents.bind(this)}get connected(){return!!this.connectedAdapterName}get provider(){return this.status!==tt.NOT_READY&&this.commonJRPCProvider?this.commonJRPCProvider:null}set provider(e){throw new Error("Not implemented")}async init(){this.commonJRPCProvider=await qm.getProviderInstance({chainConfig:this.coreOptions.chainConfig});let e;try{var r;e=await UC(this.coreOptions.clientId,this.coreOptions.web3AuthNetwork,(r=this.coreOptions.accountAbstractionProvider)===null||r===void 0?void 0:r.config.smartAccountInit.name)}catch(i){throw dt.error("Failed to fetch project configurations",i),st.notReady("failed to fetch project configurations",i)}const n=Object.keys(this.walletAdapters).map(async i=>{if(this.subscribeToAdapterEvents(this.walletAdapters[i]),this.walletAdapters[i].chainConfigProxy)this.walletAdapters[i].setAdapterSettings({sessionTime:this.coreOptions.sessionTime,clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,useCoreKitKey:this.coreOptions.useCoreKitKey});else{const s=this.coreOptions.chainConfig;if(!s.chainNamespace)throw st.invalidParams("Please provide chainNamespace in chainConfig");this.walletAdapters[i].setAdapterSettings({chainConfig:s,sessionTime:this.coreOptions.sessionTime,clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,useCoreKitKey:this.coreOptions.useCoreKitKey})}if(i===gr.AUTH){const s=this.walletAdapters[i],{whitelabel:o}=e;this.coreOptions.uiConfig=Io(Sh(o||{}),this.coreOptions.uiConfig||{}),this.coreOptions.uiConfig.mode||(this.coreOptions.uiConfig.mode="light");const{sms_otp_enabled:a,whitelist:c,key_export_enabled:l}=e;if(a!==void 0&&s.setAdapterSettings({loginConfig:{[Rr.SMS_PASSWORDLESS]:{showOnModal:a,showOnDesktop:a,showOnMobile:a,showOnSocialBackupFactor:a}}}),c&&s.setAdapterSettings({originData:c.signed_urls}),typeof l=="boolean"&&(this.coreOptions.privateKeyProvider.setKeyExportFlag(l),this.commonJRPCProvider.setKeyExportFlag(l)),this.coreOptions.privateKeyProvider){if(s.currentChainNamespace!==this.coreOptions.privateKeyProvider.currentChainConfig.chainNamespace)throw st.incompatibleChainNameSpace("private key provider is not compatible with provided chainNamespace for auth adapter");s.setAdapterSettings({privateKeyProvider:this.coreOptions.privateKeyProvider})}if(s.setAdapterSettings({whiteLabel:this.coreOptions.uiConfig}),!s.privateKeyProvider)throw st.invalidParams("privateKeyProvider is required for auth adapter")}else if(i===gr.WALLET_CONNECT_V2){const s=this.walletAdapters[i],{wallet_connect_enabled:o,wallet_connect_project_id:a}=e;if(o===!1)throw st.invalidParams("Please enable wallet connect v2 addon on dashboard");if(!a)throw st.invalidParams("Invalid wallet connect project id. Please configure it on the dashboard");s.setAdapterSettings({adapterSettings:{walletConnectInitOptions:{projectId:a}}})}return this.walletAdapters[i].init({autoConnect:this.cachedAdapter===i}).catch(s=>dt.error(s,i))});await Promise.all(n),this.status===tt.NOT_READY&&(this.status=tt.READY,this.emit(Qt.READY))}getAdapter(e){return this.walletAdapters[e]||null}configureAdapter(e){this.checkInitRequirements();const r=this.coreOptions.chainConfig;if(!r.chainNamespace)throw st.invalidParams("Please provide chainNamespace in chainConfig");if(this.walletAdapters[e.name])throw st.duplicateAdapterError(`Wallet adapter for ${e.name} already exists`);if(e.adapterNamespace!==Yh.MULTICHAIN&&e.adapterNamespace!==r.chainNamespace)throw st.incompatibleChainNameSpace(`This wallet adapter belongs to ${e.adapterNamespace} which is incompatible with currently used namespace: ${r.chainNamespace}`);return e.adapterNamespace===Yh.MULTICHAIN&&e.currentChainNamespace&&r.chainNamespace!==e.currentChainNamespace&&e.setAdapterSettings({chainConfig:r}),this.walletAdapters[e.name]=e,this}clearCache(){Ec(this.storage)&&(window[this.storage].removeItem(N0),this.cachedAdapter=null)}async addChain(e){if(this.status===tt.CONNECTED&&this.connectedAdapterName)return this.walletAdapters[this.connectedAdapterName].addChain(e);if(this.commonJRPCProvider)return this.commonJRPCProvider.addChain(e);throw st.notReady("No wallet is ready")}async switchChain(e){if(this.status===tt.CONNECTED&&this.connectedAdapterName)return this.walletAdapters[this.connectedAdapterName].switchChain(e);if(this.commonJRPCProvider)return this.commonJRPCProvider.switchChain(e);throw st.notReady("No wallet is ready")}async connectTo(e,r){if(!this.walletAdapters[e]||!this.commonJRPCProvider)throw st.notFound(`Please add wallet adapter for ${e} wallet, before connecting`);const n=await this.walletAdapters[e].connect(r);return this.commonJRPCProvider.updateProviderEngineProxy(n.provider||n),this.provider}async logout(e={cleanup:!1}){if(this.status!==tt.CONNECTED||!this.connectedAdapterName)throw Kt.notConnectedError("No wallet is connected");await this.walletAdapters[this.connectedAdapterName].disconnect(e)}async getUserInfo(){if(dt.debug("Getting user info",this.status,this.connectedAdapterName),this.status!==tt.CONNECTED||!this.connectedAdapterName)throw Kt.notConnectedError("No wallet is connected");return this.walletAdapters[this.connectedAdapterName].getUserInfo()}async enableMFA(e){if(this.status!==tt.CONNECTED||!this.connectedAdapterName)throw Kt.notConnectedError("No wallet is connected");if(this.connectedAdapterName!==gr.AUTH)throw Kt.unsupportedOperation("EnableMFA is not supported for this adapter.");return this.walletAdapters[this.connectedAdapterName].enableMFA(e)}async authenticateUser(){if(this.status!==tt.CONNECTED||!this.connectedAdapterName)throw Kt.notConnectedError("No wallet is connected");return this.walletAdapters[this.connectedAdapterName].authenticateUser()}addPlugin(e){if(this.plugins[e.name])throw st.duplicateAdapterError(`Plugin ${e.name} already exist`);if(e.pluginNamespace!==XH.MULTICHAIN&&e.pluginNamespace!==this.coreOptions.chainConfig.chainNamespace)throw st.incompatibleChainNameSpace(`This plugin belongs to ${e.pluginNamespace} namespace which is incompatible with currently used namespace: ${this.coreOptions.chainConfig.chainNamespace}`);return this.plugins[e.name]=e,this.status===tt.CONNECTED&&this.connectedAdapterName&&this.connectToPlugins({adapter:this.connectedAdapterName}),this}getPlugin(e){return this.plugins[e]||null}subscribeToAdapterEvents(e){e.on(Qt.CONNECTED,async r=>{if(!this.commonJRPCProvider)throw st.notFound("CommonJrpcProvider not found");const{provider:n}=r;let i=n.provider||n;this.coreOptions.accountAbstractionProvider&&(r.adapter===gr.AUTH||r.adapter!==gr.AUTH&&this.coreOptions.useAAWithExternalWallet)&&(await this.coreOptions.accountAbstractionProvider.setupProvider(n),i=this.coreOptions.accountAbstractionProvider),this.commonJRPCProvider.updateProviderEngineProxy(i),this.connectedAdapterName=r.adapter,this.status=tt.CONNECTED,this.cacheWallet(r.adapter),dt.debug("connected",this.status,this.connectedAdapterName),this.connectToPlugins(r),this.emit(Qt.CONNECTED,Ie({},r))}),e.on(Qt.DISCONNECTED,async()=>{if(this.status=tt.READY,Ec(this.storage)){const r=window[this.storage].getItem(N0);this.connectedAdapterName===r&&this.clearCache()}dt.debug("disconnected",this.status,this.connectedAdapterName),await Promise.all(Object.values(this.plugins).map(r=>r.disconnect().catch(n=>{n.code!==5211&&dt.error(n)}))),this.connectedAdapterName=null,this.emit(Qt.DISCONNECTED)}),e.on(Qt.CONNECTING,r=>{this.status=tt.CONNECTING,this.emit(Qt.CONNECTING,r),dt.debug("connecting",this.status,this.connectedAdapterName)}),e.on(Qt.ERRORED,r=>{this.status=tt.ERRORED,this.clearCache(),this.emit(Qt.ERRORED,r),dt.debug("errored",this.status,this.connectedAdapterName)}),e.on(Qt.ADAPTER_DATA_UPDATED,r=>{dt.debug("adapter data updated",r),this.emit(Qt.ADAPTER_DATA_UPDATED,r)}),e.on(Qt.CACHE_CLEAR,r=>{dt.debug("adapter cache clear",r),Ec(this.storage)&&this.clearCache()})}checkInitRequirements(){if(this.status===tt.CONNECTING)throw st.notReady("Already pending connection");if(this.status===tt.CONNECTED)throw st.notReady("Already connected");if(this.status===tt.READY)throw st.notReady("Adapter is already initialized")}cacheWallet(e){Ec(this.storage)&&(window[this.storage].setItem(N0,e),this.cachedAdapter=e)}connectToPlugins(e){Object.values(this.plugins).map(async r=>{try{if(!r.SUPPORTED_ADAPTERS.includes(e.adapter)||r.status===qC.CONNECTED)return;const{authInstance:n}=this.walletAdapters[this.connectedAdapterName],{options:i,sessionId:s,sessionNamespace:o}=n||{};await r.initWithWeb3Auth(this,i.whiteLabel),await r.connect({sessionId:s,sessionNamespace:o})}catch(n){if(n.code===5211)return;dt.error(n)}})}}function Dx(t){return t.charAt(0).toUpperCase()+t.slice(1)}const aV=new Set([Rr.AUTHENTICATOR,Rr.PASSKEYS,Rr.JWT,Rr.WEBAUTHN]),Bx=Object.values(Rr).filter(t=>!aV.has(t)),cV=Bx.reduce((t,e)=>(e==="email_passwordless"?t[e]="Email":e==="sms_passwordless"?t[e]="Mobile":t[e]=Dx(e),t),{}),bo={INIT_EXTERNAL_WALLETS:"INIT_EXTERNAL_WALLETS",LOGIN:"LOGIN",DISCONNECT:"DISCONNECT",MODAL_VISIBILITY:"MODAL_VISIBILITY"},wn={INITIALIZED:"initialized",CONNECTED:"connected",CONNECTING:"connecting",ERRORED:"errored"},HC="https://images.web3auth.io/web3auth-logo-w.svg",VC="https://images.web3auth.io/web3auth-logo-w-light.svg",lV="https://images.web3auth.io/login-wallet-connect.svg",uV="modulepreload",fV=function(t){return"/"+t},dE={},Bo=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(r.map(a=>{if(a=fV(a),a in dE)return;dE[a]=!0;const c=a.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${l}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":uV,c||(u.as="script",u.crossOrigin=""),u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),c)return new Promise((f,h)=>{u.addEventListener("load",f),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function GC(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(!t||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var dV=`@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap");.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.w3a-parent-container ::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }
/*! tailwindcss v3.4.14 | MIT License | https://tailwindcss.com*/.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{border:0 solid;box-sizing:border-box}.w3a-parent-container :after,.w3a-parent-container :before{--tw-content:""}.w3a-parent-container :host,.w3a-parent-container html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;tab-size:4}.w3a-parent-container body{line-height:inherit;margin:0}.w3a-parent-container hr{border-top-width:1px;color:inherit;height:0}.w3a-parent-container abbr:where([title]){text-decoration:underline dotted}.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6{font-size:inherit;font-weight:inherit}.w3a-parent-container a{color:inherit;text-decoration:inherit}.w3a-parent-container b,.w3a-parent-container strong{font-weight:bolder}.w3a-parent-container code,.w3a-parent-container kbd,.w3a-parent-container pre,.w3a-parent-container samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}.w3a-parent-container small{font-size:80%}.w3a-parent-container sub,.w3a-parent-container sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}.w3a-parent-container sub{bottom:-.25em}.w3a-parent-container sup{top:-.5em}.w3a-parent-container table{border-collapse:collapse;border-color:inherit;text-indent:0}.w3a-parent-container button,.w3a-parent-container input,.w3a-parent-container optgroup,.w3a-parent-container select,.w3a-parent-container textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}.w3a-parent-container button,.w3a-parent-container select{text-transform:none}.w3a-parent-container button,.w3a-parent-container input:where([type=button]),.w3a-parent-container input:where([type=reset]),.w3a-parent-container input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}.w3a-parent-container :-moz-focusring{outline:auto}.w3a-parent-container :-moz-ui-invalid{box-shadow:none}.w3a-parent-container progress{vertical-align:initial}.w3a-parent-container ::-webkit-inner-spin-button,.w3a-parent-container ::-webkit-outer-spin-button{height:auto}.w3a-parent-container [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.w3a-parent-container ::-webkit-search-decoration{-webkit-appearance:none}.w3a-parent-container ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.w3a-parent-container summary{display:list-item}.w3a-parent-container blockquote,.w3a-parent-container dd,.w3a-parent-container dl,.w3a-parent-container figure,.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6,.w3a-parent-container hr,.w3a-parent-container p,.w3a-parent-container pre{margin:0}.w3a-parent-container fieldset{margin:0;padding:0}.w3a-parent-container legend{padding:0}.w3a-parent-container menu,.w3a-parent-container ol,.w3a-parent-container ul{list-style:none;margin:0;padding:0}.w3a-parent-container dialog{padding:0}.w3a-parent-container textarea{resize:vertical}.w3a-parent-container input::placeholder,.w3a-parent-container textarea::placeholder{color:#9ca3af;opacity:1}.w3a-parent-container [role=button],.w3a-parent-container button{cursor:pointer}.w3a-parent-container :disabled{cursor:default}.w3a-parent-container audio,.w3a-parent-container canvas,.w3a-parent-container embed,.w3a-parent-container iframe,.w3a-parent-container img,.w3a-parent-container object,.w3a-parent-container svg,.w3a-parent-container video{display:block;vertical-align:middle}.w3a-parent-container img,.w3a-parent-container video{height:auto;max-width:100%}.w3a-parent-container [hidden]:where(:not([hidden=until-found])){display:none}.w3a-parent-container{--app-on-primary:#fff;--app-primary-50:#ebf5ff;--app-primary-100:#e1effe;--app-primary-200:#c3ddfd;--app-primary-300:#a4cafe;--app-primary-400:#76a9fa;--app-primary-500:#3f83f8;--app-primary-600:#0346ff;--app-primary-700:#1a56db;--app-primary-800:#1e429f;--app-primary-900:#233876;--app-gray-50:#f9fafb;--app-gray-100:#f3f4f6;--app-gray-200:#e5e7eb;--app-gray-300:#d1d5db;--app-gray-400:#9ca3af;--app-gray-500:#6b7280;--app-gray-600:#4b5563;--app-gray-700:#374151;--app-gray-800:#1f2a37;--app-gray-900:#111928;--app-blue-50:#ebf5ff;--app-blue-100:#e1effe;--app-blue-200:#c3ddfd;--app-blue-300:#a4cafe;--app-blue-400:#76a9fa;--app-blue-500:#3f83f8;--app-blue-600:#0346ff;--app-blue-700:#1a56db;--app-blue-800:#1e429f;--app-blue-900:#233876;--app-red-50:#fdf2f2;--app-red-100:#fde8e8;--app-red-200:#fbd5d5;--app-red-300:#f8b4b4;--app-red-400:#f98080;--app-red-500:#f05252;--app-red-600:#e02424;--app-red-700:#c81e1e;--app-red-800:#9b1c1c;--app-red-900:#771d1d;--app-green-50:#f3faf7;--app-green-100:#def7ec;--app-green-200:#bcf0da;--app-green-300:#84e1bc;--app-green-400:#31c48d;--app-green-500:#0e9f6e;--app-green-600:#057a55;--app-green-700:#046c4e;--app-green-800:#03543f;--app-green-900:#014737;--app-yellow-50:#fdfdea;--app-yellow-100:#fdf6b2;--app-yellow-200:#fce96a;--app-yellow-300:#faca15;--app-yellow-400:#e3a008;--app-yellow-500:#c27803;--app-yellow-600:#9f580a;--app-yellow-700:#8e4b10;--app-yellow-800:#723b13;--app-yellow-900:#633112;--app-success:#30cca4;--app-warning:#fbc94a;--app-error:#fb4a61;--app-info:#d4d4d4;--app-white:#fff;--app-black:#000}.w3a-parent-container .container{width:100%}@media (min-width:380px){.w3a-parent-container .container{max-width:380px}}@media (min-width:440px){.w3a-parent-container .container{max-width:440px}}@media (min-width:570px){.w3a-parent-container .container{max-width:570px}}@media (min-width:640px){.w3a-parent-container .container{max-width:640px}}@media (min-width:768px){.w3a-parent-container .container{max-width:768px}}@media (min-width:840px){.w3a-parent-container .container{max-width:840px}}@media (min-width:1024px){.w3a-parent-container .container{max-width:1024px}}@media (min-width:1280px){.w3a-parent-container .container{max-width:1280px}}@media (min-width:1536px){.w3a-parent-container .container{max-width:1536px}}.w3a-parent-container .absolute{position:absolute}.w3a-parent-container .relative{position:relative}.w3a-parent-container .left-20{left:5rem}.w3a-parent-container .left-8{left:2rem}.w3a-parent-container .left-\\[calc\\(50\\%_-_8px\\)\\]{left:calc(50% - 8px)}.w3a-parent-container .top-4{top:1rem}.w3a-parent-container .top-\\[100\\%\\]{top:100%}.w3a-parent-container .z-20{z-index:20}.w3a-parent-container .col-span-2{grid-column:span 2/span 2}.w3a-parent-container .col-span-3{grid-column:span 3/span 3}.w3a-parent-container .col-span-6{grid-column:span 6/span 6}.w3a-parent-container .mx-auto{margin-left:auto;margin-right:auto}.w3a-parent-container .my-4{margin-bottom:1rem;margin-top:1rem}.w3a-parent-container .my-6{margin-bottom:1.5rem;margin-top:1.5rem}.w3a-parent-container .-mb-2{margin-bottom:-.5rem}.w3a-parent-container .-ml-\\[100px\\]{margin-left:-100px}.w3a-parent-container .mb-1{margin-bottom:.25rem}.w3a-parent-container .mb-2{margin-bottom:.5rem}.w3a-parent-container .mb-4{margin-bottom:1rem}.w3a-parent-container .mb-5{margin-bottom:1.25rem}.w3a-parent-container .ml-2{margin-left:.5rem}.w3a-parent-container .ml-\\[3px\\]{margin-left:3px}.w3a-parent-container .ml-auto{margin-left:auto}.w3a-parent-container .mr-6{margin-right:1.5rem}.w3a-parent-container .mr-auto{margin-right:auto}.w3a-parent-container .mt-4{margin-top:1rem}.w3a-parent-container .block{display:block}.w3a-parent-container .flex{display:flex}.w3a-parent-container .inline-flex{display:inline-flex}.w3a-parent-container .hidden{display:none}.w3a-parent-container .h-10{height:2.5rem}.w3a-parent-container .h-3{height:.75rem}.w3a-parent-container .h-4{height:1rem}.w3a-parent-container .h-auto{height:auto}.w3a-parent-container .h-full{height:100%}.w3a-parent-container .w-10{width:2.5rem}.w3a-parent-container .w-3{width:.75rem}.w3a-parent-container .w-\\[270px\\]{width:270px}.w3a-parent-container .w-\\[300px\\]{width:300px}.w3a-parent-container .w-auto{width:auto}.w3a-parent-container .w-full{width:100%}.w3a-parent-container .flex-shrink{flex-shrink:1}.w3a-parent-container .flex-shrink-0{flex-shrink:0}.w3a-parent-container .flex-grow-0{flex-grow:0}.w3a-parent-container .-translate-x-16{--tw-translate-x:-4rem}.w3a-parent-container .-translate-x-16,.w3a-parent-container .rotate-45{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .rotate-45{--tw-rotate:45deg}.w3a-parent-container .cursor-pointer{cursor:pointer}.w3a-parent-container .flex-row{flex-direction:row}.w3a-parent-container .flex-col{flex-direction:column}.w3a-parent-container .items-center{align-items:center}.w3a-parent-container .\\!justify-start{justify-content:flex-start!important}.w3a-parent-container .justify-start{justify-content:flex-start}.w3a-parent-container .justify-end{justify-content:flex-end}.w3a-parent-container .justify-center{justify-content:center}.w3a-parent-container .\\!justify-between{justify-content:space-between!important}.w3a-parent-container .justify-between{justify-content:space-between}.w3a-parent-container .gap-1{gap:.25rem}.w3a-parent-container .gap-2{gap:.5rem}.w3a-parent-container .gap-3{gap:.75rem}.w3a-parent-container .gap-y-0\\.5{row-gap:.125rem}.w3a-parent-container .truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.w3a-parent-container .rounded{border-radius:.25rem}.w3a-parent-container .rounded-full{border-radius:9999px}.w3a-parent-container .rounded-lg{border-radius:.5rem}.w3a-parent-container .rounded-md{border-radius:.375rem}.w3a-parent-container .rounded-xl{border-radius:.75rem}.w3a-parent-container .border-8{border-width:8px}.w3a-parent-container .border-b-0{border-bottom-width:0}.w3a-parent-container .border-l-transparent{border-left-color:#0000}.w3a-parent-container .border-r-transparent{border-right-color:#0000}.w3a-parent-container .border-t-app-gray-900{border-top-color:var(--app-gray-900)}.w3a-parent-container .bg-app-gray-50{background-color:var(--app-gray-50)}.w3a-parent-container .bg-app-primary-100{background-color:var(--app-primary-100)}.w3a-parent-container .object-contain{object-fit:contain}.w3a-parent-container .p-4{padding:1rem}.w3a-parent-container .p-6{padding:1.5rem}.w3a-parent-container .px-2{padding-left:.5rem;padding-right:.5rem}.w3a-parent-container .px-3{padding-left:.75rem;padding-right:.75rem}.w3a-parent-container .py-1{padding-bottom:.25rem;padding-top:.25rem}.w3a-parent-container .py-2{padding-bottom:.5rem;padding-top:.5rem}.w3a-parent-container .py-4{padding-bottom:1rem;padding-top:1rem}.w3a-parent-container .py-6{padding-bottom:1.5rem;padding-top:1.5rem}.w3a-parent-container .pt-7{padding-top:1.75rem}.w3a-parent-container .text-left{text-align:left}.w3a-parent-container .text-center{text-align:center}.w3a-parent-container .text-right{text-align:right}.w3a-parent-container .text-sm{font-size:.875rem;line-height:1.25rem}.w3a-parent-container .text-xs{font-size:.75rem;line-height:1rem}.w3a-parent-container .font-medium{font-weight:500}.w3a-parent-container .leading-none{line-height:1}.w3a-parent-container .text-app-gray-300{color:var(--app-gray-300)}.w3a-parent-container .text-app-gray-400{color:var(--app-gray-400)}.w3a-parent-container .text-app-gray-500{color:var(--app-gray-500)}.w3a-parent-container .text-app-gray-900{color:var(--app-gray-900)}.w3a-parent-container .text-app-primary-800{color:var(--app-primary-800)}.w3a-parent-container .text-app-white{color:var(--app-white)}.w3a-parent-container .shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.w3a-parent-container .transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container input[type=number]::-webkit-inner-spin-button,.w3a-parent-container input[type=number]::-webkit-outer-spin-button{appearance:none}@keyframes shake{0%,to{transform:translateX(0)}10%,30%,50%,70%,90%{transform:translateX(-5px)}20%,40%,60%,80%{transform:translateX(5px)}}@keyframes tilt{0%{opacity:0;transform:scale(.9) rotate(0deg)}30%{opacity:1;transform:scale(1.05) rotate(-5deg)}60%{transform:scale(1.05) rotate(5deg)}to{transform:scale(1) rotate(0deg)}}@keyframes open-modal{0%{opacity:0;transform:scale(.8) rotate(-5deg)}60%{opacity:1;transform:scale(1.05) rotate(2deg)}to{transform:scale(1) rotate(0deg)}}@keyframes bounce{0%{opacity:0;transform:scale(.9) translateY(-50%)}30%{opacity:1;transform:scale(1.05) translateY(0)}50%{transform:scale(.95) translateY(-10%)}70%{transform:scale(1.02) translateY(0)}85%{transform:scale(.98) translateY(-5%)}to{transform:scale(1) translateY(0)}}@keyframes subtleAppear{0%{opacity:0;transform:scale(.9)}60%{opacity:1;transform:scale(1.02)}to{transform:scale(1)}}.w3a-parent-container .transition-wrapper{height:100%;position:relative;width:100%}.w3a-parent-container .fade-in{opacity:1;transition:opacity .3s}.w3a-parent-container .fade-out{opacity:0;transition:opacity .3s}.w3a-parent-container .slide-enter{opacity:0;transform:translateX(100%)}.w3a-parent-container .slide-enter-active{opacity:1;transform:translateX(0);transition:transform .3s ease-in-out,opacity .3s ease-in-out}.w3a-parent-container .slide-exit{opacity:1;transform:translateX(0)}.w3a-parent-container .slide-exit-active{opacity:0;transform:translateX(-100%);transition:transform .3s ease-in-out,opacity .3s ease-in-out}.w3a-parent-container .tooltip{--tw-translate-x:-50%;--tw-translate-y:-50%;--tw-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a;--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);background-color:var(--app-gray-900);border-radius:.5rem;bottom:58%;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);color:var(--app-white);font-size:.875rem;left:50%;line-height:1.25rem;padding:.25rem .5rem;position:absolute;text-align:center;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));width:max-content}.w3a-parent-container #w3a-modal{align-items:center;box-sizing:border-box;display:flex;font-family:Inter;inset:0;justify-content:center;padding:1rem;position:fixed}.w3a-parent-container #w3a-modal.w3a-modal--hidden{display:none}.w3a-parent-container #w3a-modal:before{background-color:var(--app-black);content:"";inset:0;opacity:0;position:fixed;transition:opacity .2s ease-in-out}.w3a-parent-container #w3a-modal .w3a-modal__inner{--tw-shadow:0px 4px 16px #00000014;--tw-shadow-colored:0px 4px 16px var(--tw-shadow-color);background-color:var(--app-white);border-color:var(--app-gray-100);border-radius:32px;border-width:1px;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);display:flex;flex-direction:column;max-height:95%;max-width:392px;opacity:0;overflow-x:hidden;overflow-y:hidden;position:relative;width:100%}.w3a-parent-container #w3a-modal .w3a-modal__inner:is(.dark *){background-color:var(--app-gray-800);border-color:var(--app-gray-800)}.w3a-parent-container #w3a-modal .w3a-modal__inner{transform:scale(.8) rotate(-5deg);transform-origin:center center;transition:all .15s cubic-bezier(.92,0,1,.67)}.w3a-parent-container #w3a-modal .w3a-modal__inner.w3a-modal__inner--active{animation:subtleAppear .5s ease-out forwards;opacity:1;transform-origin:center center;transition:none}.w3a-parent-container #w3a-modal.w3a-modal--active:before{opacity:.5}.w3a-parent-container #w3a-modal .w3a-modal__header{padding:0 2rem .5rem;position:relative}.w3a-parent-container #w3a-modal .w3a-modal__content{overflow-y:auto;padding:1rem 2rem}.w3a-parent-container #w3a-modal .w3a-modal__content_external_wallet{overflow-y:auto;padding-left:2rem;padding-right:2rem;padding-top:1.5rem}.w3a-parent-container #w3a-modal .w3a-modal__footer{align-items:center;justify-content:center;margin-top:auto;padding:1rem 2rem;text-align:center}.w3a-parent-container #w3a-modal .w3a-header{align-items:center;display:flex;padding-top:2rem}.w3a-parent-container #w3a-modal .w3a-header__logo{margin-bottom:1rem}.w3a-parent-container #w3a-modal .w3a-header__logo img{height:auto;width:2.5rem}.w3a-parent-container #w3a-modal .w3a-header__title{color:var(--app-gray-900);font-size:1.25rem;font-weight:700;line-height:1.75rem}.w3a-parent-container #w3a-modal .w3a-header__title:is(.dark *){color:var(--app-white)}.w3a-parent-container #w3a-modal div.w3a-header__subtitle{align-items:center;color:var(--app-gray-500);display:flex;font-size:.875rem;font-weight:400;line-height:1.25rem}.w3a-parent-container #w3a-modal div.w3a-header__subtitle:is(.dark *){color:var(--app-gray-400)}.w3a-parent-container #w3a-modal div.w3a-header__subtitle img{height:14px;margin-left:.25rem;width:14px}.w3a-parent-container #w3a-modal button.w3a-header__button{align-items:center;border-radius:9999px;border-width:0;cursor:pointer;display:flex;height:1.5rem;justify-content:center;padding:0;position:absolute;right:1.75rem;top:1.7rem;width:1.5rem}.w3a-parent-container #w3a-modal button.w3a-header__button:hover{background-color:var(--app-gray-100)}.w3a-parent-container #w3a-modal button.w3a-header__button:active,.w3a-parent-container #w3a-modal button.w3a-header__button:focus{outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal button.w3a-header__button:hover:is(.dark *){background-color:var(--app-gray-700)}.w3a-parent-container #w3a-modal button.w3a-header__button:focus:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal button.w3a-header__button:active:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal button.w3a-header__button_wallet{align-items:center;border-radius:9999px;border-width:0;cursor:pointer;display:flex;height:1.5rem;justify-content:center;padding:0;position:absolute;right:1.75rem;top:1.6rem;width:1.5rem}.w3a-parent-container #w3a-modal button.w3a-header__button_wallet:hover{background-color:var(--app-gray-100)}.w3a-parent-container #w3a-modal button.w3a-header__button_wallet:active,.w3a-parent-container #w3a-modal button.w3a-header__button_wallet:focus{outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal button.w3a-header__button_wallet:hover:is(.dark *){background-color:var(--app-gray-700)}.w3a-parent-container #w3a-modal button.w3a-header__button_wallet:focus:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal button.w3a-header__button_wallet:active:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal div.w3a-social__policy{color:var(--app-gray-500);font-size:.75rem;font-weight:500;line-height:1rem;margin-top:1rem;text-align:left}.w3a-parent-container #w3a-modal div.w3a-social__policy:is(.dark *){color:var(--app-gray-400)}.w3a-parent-container #w3a-modal .w3a-group{margin-bottom:1rem}.w3a-parent-container #w3a-modal .w3a-group-loader-height{align-items:center;display:flex;height:200px;justify-content:center}.w3a-parent-container #w3a-modal .w3a-group:last-child{margin-bottom:0}.w3a-parent-container #w3a-modal .w3ajs-passwordless div.w3a-group__title{align-items:center;display:flex}.w3a-parent-container #w3a-modal .w3ajs-passwordless div.w3a-group__title img{height:14px;margin-left:.25rem;width:14px}.w3a-parent-container #w3a-modal .w3a-group.w3a-group--email-hidden,.w3a-parent-container #w3a-modal .w3a-group.w3a-group--ext-wallet-hidden,.w3a-parent-container #w3a-modal .w3a-group.w3a-group--hidden,.w3a-parent-container #w3a-modal .w3a-group.w3a-group--social-hidden{display:none}.w3a-parent-container #w3a-modal div.w3a-group__title{color:var(--app-gray-900);font-size:.875rem;font-weight:500;line-height:1.25rem;margin-bottom:.5rem}.w3a-parent-container #w3a-modal div.w3a-group__title:is(.dark *){color:var(--app-white)}.w3a-parent-container #w3a-modal div.w3a-adapter-list-container{height:362px;overflow-y:auto;scrollbar-width:none}.w3a-parent-container #w3a-modal ul.w3a-adapter-list{column-gap:.5rem;display:grid;grid-template-columns:repeat(6,minmax(0,1fr));max-height:500px;overflow-y:auto;padding:1px;row-gap:.5rem;scrollbar-width:none;transition:max-height .35s;transition-timing-function:cubic-bezier(.92,0,.74,1)}.w3a-parent-container #w3a-modal ul.w3a-adapter-list.w3a-adapter-list--shrink{max-height:100px;overflow-y:hidden;transition:max-height .3s;transition-timing-function:cubic-bezier(0,.73,.71,1)}.w3a-parent-container #w3a-modal ul.w3a-adapter-list.w3a-adapter-list--hidden{display:none}.w3a-parent-container #w3a-modal li.w3a-adapter-item{list-style-type:none}.w3a-parent-container #w3a-modal li.w3a-adapter-item--full{grid-column:span 6/span 6}.w3a-parent-container #w3a-modal .w3a-adapter-item--hide{display:none}.w3a-parent-container #w3a-modal .w3a-external-toggle{display:block}.w3a-parent-container #w3a-modal .w3a-external-toggle.w3a-external-toggle--hidden{display:none}.w3a-parent-container #w3a-modal .w3a-external-container{display:block;margin-bottom:0}.w3a-parent-container #w3a-modal .w3a-external-container.w3a-external-container--hidden{display:none}.w3a-parent-container #w3a-modal .w3a-external-group{display:flex;flex-wrap:wrap;gap:.75rem;margin-bottom:1rem}.w3a-parent-container #w3a-modal .w3a-external-group__left{flex-grow:1}.w3a-parent-container #w3a-modal button.w3a-external-back{align-items:center;background-image:none;border-radius:9999px;border-width:0;color:var(--app-gray-500);cursor:pointer;display:flex;height:1.5rem;justify-content:center;padding:0;width:1.5rem}.w3a-parent-container #w3a-modal button.w3a-external-back:hover{background-color:var(--app-gray-100);color:var(--app-gray-900)}.w3a-parent-container #w3a-modal button.w3a-external-back:active,.w3a-parent-container #w3a-modal button.w3a-external-back:focus{outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal button.w3a-external-back:is(.dark *){color:var(--app-gray-400)}.w3a-parent-container #w3a-modal button.w3a-external-back:hover:is(.dark *){background-color:var(--app-gray-700);color:var(--app-white)}.w3a-parent-container #w3a-modal button.w3a-external-back:focus:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal button.w3a-external-back:active:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-external-back .w3a-group__title{color:var(--app-gray-400);margin-bottom:0;margin-left:5px}.w3a-parent-container #w3a-modal .w3a-external-loader{display:flex;justify-content:center}.w3a-parent-container #w3a-modal .w3a-wallet-connect{display:block;margin-bottom:.625rem;text-align:center}.w3a-parent-container #w3a-modal .w3a-wallet-connect.w3a-wallet-connect--hidden{display:none}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container{background-color:var(--app-white);border-radius:10px;color:var(--app-gray-500);font-size:.625rem;margin-left:auto;margin-right:auto;min-width:250px;padding-bottom:.625rem;padding-top:.625rem;width:fit-content}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container:is(.dark *){background-color:var(--app-gray-800);color:var(--app-gray-400)}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container-android,.w3a-parent-container #w3a-modal .w3a-wallet-connect__container-desktop{margin:auto}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container-btn-group{display:flex;gap:18px}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container-ios{box-sizing:border-box;column-gap:1.25rem;display:flex;flex-wrap:wrap;padding:0 0 1.75rem;row-gap:30px}.w3a-parent-container #w3a-modal .w3a-wallet-connect-qr>canvas,.w3a-parent-container #w3a-modal .w3a-wallet-connect-qr>svg{margin:auto}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container-android a{text-decoration-line:none}.w3a-parent-container #w3a-modal .w3a-wallet-connect__logo>img{margin:0 auto 1rem;width:115px}.w3a-parent-container #w3a-modal .w3a-footer{align-items:center;color:var(--app-gray-400);display:flex;font-size:.75rem;justify-content:center;line-height:1rem}.w3a-parent-container #w3a-modal .w3a-footer__links a:active,.w3a-parent-container #w3a-modal .w3a-footer__links a:focus{outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal .w3a-footer__links a:focus:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-footer__links a:active:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-footer__links span{margin:0 4px}.w3a-parent-container #w3a-modal.w3a-modal--light .w3a-footer__links a:focus-visible{outline:1px solid #0f1222}.w3a-parent-container #w3a-modal.w3a-modal--light .w3a-external-back:focus-visible{outline:1px solid #0f1222}.w3a-parent-container #w3a-modal .hover-icon{display:none;transition:display .15s;transition-timing-function:cubic-bezier(0,.54,.63,.99)}.w3a-parent-container #w3a-modal .w3a-text-field{background-color:var(--app-gray-50);border-color:var(--app-gray-300);border-radius:9999px;border-width:1px;color:var(--app-gray-900);font-size:.875rem;line-height:1.25rem;margin-top:.5rem;padding:.75rem 1.5rem}.w3a-parent-container #w3a-modal .w3a-text-field::placeholder{color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .w3a-text-field{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000);outline-width:0}.w3a-parent-container #w3a-modal .w3a-text-field:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);border-color:#0000;box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .w3a-text-field:disabled{cursor:not-allowed}.w3a-parent-container #w3a-modal .w3a-text-field:disabled::placeholder{color:var(--app-gray-400)}.w3a-parent-container #w3a-modal .w3a-text-field:is(.dark *){background-color:var(--app-gray-600);border-color:var(--app-gray-500);color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-text-field:is(.dark *)::placeholder{color:var(--app-gray-400)}.w3a-parent-container #w3a-modal .w3a-text-field:focus:is(.dark *){--tw-ring-color:var(--app-primary-500);border-color:#0000}.w3a-parent-container #w3a-modal .w3a-text-field:disabled:is(.dark *)::placeholder{color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .w3a-text-field{line-height:1.25em}.w3a-parent-container #w3a-modal .w3a-text-field--country-code{display:flex;justify-content:space-between;padding-left:1rem;padding-right:1rem;width:100%}.w3a-parent-container #w3a-modal .w3a-text-field--number{appearance:none}.w3a-parent-container #w3a-modal .w3a-sms-field--error{color:var(--app-red-500);font-size:.875rem;line-height:1.25rem;margin-bottom:.5rem;margin-left:.375rem;margin-top:-.5rem}.w3a-parent-container #w3a-container #w3a-modal input.w3a-text-field:-webkit-autofill,.w3a-parent-container #w3a-container #w3a-modal input.w3a-text-field:-webkit-autofill:active,.w3a-parent-container #w3a-container #w3a-modal input.w3a-text-field:-webkit-autofill:focus,.w3a-parent-container #w3a-container #w3a-modal input.w3a-text-field:-webkit-autofill:hover{--tw-shadow:0 0 0 30px #f9fafb inset;--tw-shadow-colored:inset 0 0 0 30px var(--tw-shadow-color);-webkit-text-fill-color:#111928!important;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container #w3a-container.dark #w3a-modal input.w3a-text-field:-webkit-autofill,.w3a-parent-container #w3a-container.dark #w3a-modal input.w3a-text-field:-webkit-autofill:active,.w3a-parent-container #w3a-container.dark #w3a-modal input.w3a-text-field:-webkit-autofill:focus,.w3a-parent-container #w3a-container.dark #w3a-modal input.w3a-text-field:-webkit-autofill:hover{--tw-shadow:0 0 0 30px #374151 inset;--tw-shadow-colored:inset 0 0 0 30px var(--tw-shadow-color);-webkit-text-fill-color:#fff!important;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container #w3a-modal .w3a-button{background-color:var(--app-gray-100);border-radius:9999px;color:var(--app-gray-900);font-size:1rem;font-weight:500;line-height:1.5rem;padding:.75rem 1.5rem}.w3a-parent-container #w3a-modal .w3a-button:hover{background-color:var(--app-gray-300)}.w3a-parent-container #w3a-modal .w3a-button:focus{background-color:var(--app-gray-100);color:var(--app-gray-700);outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal .w3a-button:active{outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal .w3a-button:disabled{background-color:var(--app-gray-50);color:var(--app-gray-300)}.w3a-parent-container #w3a-modal .w3a-button:is(.dark *){background-color:var(--app-gray-900);color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-button:hover:is(.dark *){background-color:var(--app-gray-800)}.w3a-parent-container #w3a-modal .w3a-button:focus:is(.dark *){background-color:var(--app-gray-900);color:var(--app-white);outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-button:active:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-button:disabled:is(.dark *){--tw-bg-opacity:1;background-color:rgb(59 69 85/var(--tw-bg-opacity));color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .w3a-button--primary{background-color:var(--app-primary-600);color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-button--primary:hover{background-color:var(--app-primary-800)}.w3a-parent-container #w3a-modal .w3a-button--primary:focus{background-color:var(--app-primary-600);color:var(--app-white);outline-color:var(--app-primary-300)}.w3a-parent-container #w3a-modal .w3a-button--primary:active{outline-color:var(--app-primary-300)}.w3a-parent-container #w3a-modal .w3a-button--primary:disabled{--tw-text-opacity:1;background-color:var(--app-primary-200);color:rgb(235 245 255/var(--tw-text-opacity))}.w3a-parent-container #w3a-modal .w3a-button--primary:is(.dark *){background-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .w3a-button--primary:hover:is(.dark *){background-color:var(--app-primary-800)}.w3a-parent-container #w3a-modal .w3a-button--primary:focus:is(.dark *){background-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .w3a-button--primary:disabled:is(.dark *){--tw-bg-opacity:1;background-color:rgb(45 72 116/var(--tw-bg-opacity));color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .w3a-button--login{align-items:center;display:inline-flex;height:2.75rem;justify-content:center}.w3a-parent-container #w3a-modal button.w3a-button--login:hover>.hover-icon{display:block;transition:display .15s;transition-timing-function:cubic-bezier(0,.54,.63,.99)}.w3a-parent-container #w3a-modal button.w3a-button--login:hover>.image-icon{display:none;transition:display .15s;transition-timing-function:cubic-bezier(0,.54,.63,.99)}.w3a-parent-container #w3a-modal button.w3a-button-expand{color:var(--app-primary-600);font-size:.875rem;height:auto;line-height:1.25rem;margin-left:auto;margin-top:1rem;width:auto}.w3a-parent-container #w3a-modal button.w3a-button-expand:hover{color:var(--app-primary-800)}.w3a-parent-container #w3a-modal button.w3a-button-expand:focus-visible{outline-color:var(--app-gray-50);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal button.w3a-button-expand:is(.dark *){color:var(--app-primary-500)}.w3a-parent-container #w3a-modal button.w3a-button-expand:hover:is(.dark *){color:var(--app-primary-400)}.w3a-parent-container #w3a-modal button.w3a-button-expand:focus-visible:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-sms-field__container{display:grid;gap:.5rem;grid-template-columns:repeat(12,minmax(0,1fr))}.w3a-parent-container #w3a-modal .w3a-sms-field__code-selected{display:flex}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown{height:185px;position:absolute;width:120px;z-index:10}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown>:not([hidden])~:not([hidden]){--tw-divide-y-reverse:0;border-bottom-width:calc(1px*var(--tw-divide-y-reverse));border-color:var(--app-gray-100);border-top-width:calc(1px*(1 - var(--tw-divide-y-reverse)))}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown{--tw-shadow:0px 4px 16px #00000014;--tw-shadow-colored:0px 4px 16px var(--tw-shadow-color);background-color:var(--app-white);border-radius:.5rem;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);overflow-y:scroll}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown:is(.dark *){background-color:var(--app-gray-700)}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown{transform:translateY(-230px)}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown--hidden{display:none}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown ul{color:var(--app-gray-700);font-size:.875rem;line-height:1.25rem;padding-bottom:.5rem;padding-top:.5rem}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown ul:is(.dark *){color:var(--app-gray-200)}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown li{cursor:pointer;padding:0}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown li:hover{background-color:var(--app-gray-100)}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown li:hover:is(.dark *){background-color:var(--app-gray-900);color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown li button{height:100%;padding:.5rem 1rem;text-align:left;width:100%}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown li button div{align-items:center;display:flex}.w3a-parent-container #w3a-modal .w3a-sms-field__code{grid-column:span 5/span 5}.w3a-parent-container #w3a-modal .w3a-sms-field__number{grid-column:span 7/span 7}.w3a-parent-container #w3a-modal .w3a-modal__loader{background-color:var(--app-white);display:flex;inset:0;justify-content:center;position:absolute;z-index:10}.w3a-parent-container #w3a-modal .w3a-modal__loader:is(.dark *){background-color:var(--app-gray-800)}.w3a-parent-container #w3a-modal .w3a-modal__loader.w3a-modal__loader--hidden{display:none}.w3a-parent-container #w3a-modal .w3a-modal__loader-content{display:flex;flex-direction:column;position:relative;text-align:center}.w3a-parent-container #w3a-modal .w3a-modal__loader-info{align-items:center;display:flex;flex-direction:column;flex-grow:1;justify-content:center;padding:0 30px}.w3a-parent-container #w3a-modal .w3a-spinner-label{color:var(--app-primary-600);font-size:1rem;font-weight:500;line-height:1.5rem;margin-top:10px}.w3a-parent-container #w3a-modal .w3a-spinner-label:is(.dark *){color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .w3a-spinner-message{color:var(--app-gray-500);font-size:1rem;line-height:1.5rem;margin-top:10px}.w3a-parent-container #w3a-modal .w3a-spinner-message:first-letter{text-transform:capitalize}.w3a-parent-container #w3a-modal .w3a-spinner-message:is(.dark *){color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-spinner-message.w3a-spinner-message--error{color:var(--app-red-500)}.w3a-parent-container #w3a-modal .w3a-spinner-power{--tw-text-opacity:1;color:rgb(183 184 189/var(--tw-text-opacity));font-size:.75rem;line-height:1rem;margin-top:auto}.w3a-parent-container #w3a-modal .w3a-spinner-power>img{display:inline;height:2rem;width:auto}.w3a-parent-container #w3a-modal .w3a-spinner{display:inline-flex;height:60px;position:relative;width:60px}.w3a-parent-container #w3a-modal .w3a-spinner__spinner{position:absolute}@keyframes spin{to{transform:rotate(1turn)}}.w3a-parent-container #w3a-modal .w3a-spinner__spinner{animation:spin 1s linear infinite;background-image:conic-gradient(from 0deg at 50% 50%,var(--app-primary-600) 0,#e5e7ebcc 90deg,#e5e7ebcc 270deg,var(--app-primary-600) 1turn);background-position:0 0;background-size:100% 100%;border-radius:100vw;display:inline-block;height:100%;-webkit-mask:radial-gradient(farthest-side,#000 98%,#0000) center/85% 85% no-repeat,linear-gradient(#000 0 0);-webkit-mask-composite:destination-out;mask:radial-gradient(farthest-side,#000 98%,#0000) center/85% 85% no-repeat,linear-gradient(#000 0 0);mask-composite:exclude;width:100%}.w3a-parent-container .dark #w3a-modal .w3a-spinner__spinner{background-image:conic-gradient(from 0deg at 50% 50%,var(--app-primary-500) 0,#e5e7eb33 90deg,#e5e7eb33 270deg,var(--app-primary-500) 1turn)}.w3a-parent-container #w3a-modal .w3a-modal__loader-bridge{align-items:center;display:flex;justify-content:center;margin-bottom:14px}.w3a-parent-container #w3a-modal .w3a-modal__loader-bridge-message{color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .w3a-modal__loader-bridge-message:first-letter{text-transform:capitalize}.w3a-parent-container #w3a-modal .w3a-modal__loader-bridge-message:is(.dark *){color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-modal__loader-app-logo{display:flex;padding:.5rem}.w3a-parent-container #w3a-modal .w3a-modal__loader-app-logo img{height:3rem;max-height:3rem;max-width:3rem;object-fit:contain;width:3rem}.w3a-parent-container #w3a-modal .w3a-modal__loader-social-logo{align-items:center;border-radius:9999px;display:flex;height:3.5rem;justify-content:center;padding:.25rem;width:3.5rem}.w3a-parent-container #w3a-modal .w3a-modal__loader-social-logo img{height:2.5rem;max-height:2.5rem;max-width:2.5rem;object-fit:contain;width:2.5rem}.w3a-parent-container #w3a-modal .w3a-modal__loader-adapter img{height:auto;width:84px}.w3a-parent-container #w3a-modal .w3a-modal__connector{align-items:center;display:flex}.w3a-parent-container .w3a-modal__connector-beat{display:inline-block;height:80px;position:relative;width:80px}.w3a-parent-container .w3a-modal__connector-beat div{animation-timing-function:cubic-bezier(0,1,1,0);background:grey;border-radius:50%;height:13px;position:absolute;top:33px;width:13px}@keyframes pulse{50%{opacity:.5}}.w3a-parent-container .w3a-modal__connector-beat div{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite;background-color:var(--app-gray-200)}.w3a-parent-container .w3a-modal__connector-beat div:is(.dark *){background-color:var(--app-gray-700)}.w3a-parent-container .w3a-modal__connector-beat div:first-child{animation:beat1 2.4s infinite;left:8px}.w3a-parent-container .w3a-modal__connector-beat div:nth-child(2){animation:beat2 2.4s infinite;left:8px}.w3a-parent-container .w3a-modal__connector-beat div:nth-child(3){animation:beat3 2.4s infinite;left:8px}.w3a-parent-container .w3a-modal__connector-beat div:nth-child(4){animation:beat4 2.4s infinite;left:32px}.w3a-parent-container .w3a-modal__connector-beat div:nth-child(5){animation:beat5 2.4s infinite;left:56px}.w3a-parent-container .wallet-btn{background-color:var(--app-gray-100)!important}.w3a-parent-container .wallet-btn:hover{background-color:var(--app-gray-200)!important}.w3a-parent-container .wallet-btn:is(.dark *){background-color:var(--app-gray-700)!important}.w3a-parent-container .wallet-btn:hover:is(.dark *){background-color:var(--app-gray-800)}.w3a-parent-container .wallet-link-btn{color:var(--app-gray-900)!important}.w3a-parent-container .wallet-link-btn:is(.dark *){background-color:var(--app-gray-700)!important;color:var(--app-white)!important}.w3a-parent-container .wallet-link-btn:hover:is(.dark *){background-color:var(--app-gray-700)!important}.w3a-parent-container .wallet-link-btn img{height:1.75rem;width:1.75rem}.w3a-parent-container .wallet-adapter-container{height:551px}@keyframes beat1{0%{transform:scale(0)}25%{transform:scale(0)}50%{transform:scale(1)}75%{transform:scale(0)}to{transform:scale(0)}}@keyframes beat2{0%{transform:scale(0)}25%{transform:scale(1)}50%{transform:translate(24px)}75%{transform:translate(0)}to{transform:translate(0) scale(0)}}@keyframes beat3{0%{transform:translate(0)}25%{transform:translate(24px)}50%{transform:translate(48px)}75%{transform:translate(24px)}to{transform:translate(0)}}@keyframes beat4{0%{transform:translate(0)}25%{transform:translate(24px)}50%{transform:translate(24px) scale(0)}75%{transform:translate(24px) scale(1)}to{transform:translate(0)}}@keyframes beat5{0%{transform:scale(1)}25%{transform:scale(0)}50%{transform:scale(0)}75%{transform:scale(0)}to{transform:scale(1)}}.w3a-parent-container .group:hover .group-hover\\:flex{display:flex}.w3a-parent-container .dark\\:block:is(.dark *){display:block}.w3a-parent-container .dark\\:hidden:is(.dark *){display:none}.w3a-parent-container .dark\\:bg-app-gray-600:is(.dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:bg-app-gray-700:is(.dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:text-app-gray-400:is(.dark *){color:var(--app-gray-400)}.w3a-parent-container .dark\\:text-app-gray-500:is(.dark *){color:var(--app-gray-500)}.w3a-parent-container .dark\\:text-app-white:is(.dark *){color:var(--app-white)}`;GC(dV);const hV=(...t)=>{console!=null&&console.warn&&(Yl(t[0])&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t))},hE={},o2=(...t)=>{Yl(t[0])&&hE[t[0]]||(Yl(t[0])&&(hE[t[0]]=new Date),hV(...t))},YC=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},pE=(t,e,r)=>{t.loadNamespaces(e,YC(t,r))},gE=(t,e,r,n)=>{Yl(r)&&(r=[r]),r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,YC(t,n))},pV=(t,e,r={})=>!e.languages||!e.languages.length?(o2("i18n.languages were undefined or empty",e.languages),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,i)=>{var s;if(((s=r.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,t))return!1}}),Yl=t=>typeof t=="string",gV=t=>typeof t=="object"&&t!==null,mV=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,yV={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},wV=t=>yV[t],bV=t=>t.replace(mV,wV);let a2={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:bV};const vV=(t={})=>{a2={...a2,...t}},xV=()=>a2;let JC;const _V=t=>{JC=t},SV=()=>JC,EV={type:"3rdParty",init(t){vV(t.options.react),_V(t)}},AV=Tt.createContext();class IV{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const kV=(t,e)=>{const r=Tt.useRef();return Tt.useEffect(()=>{r.current=t},[t,e]),r.current},XC=(t,e,r,n)=>t.getFixedT(e,r,n),CV=(t,e,r,n)=>Tt.useCallback(XC(t,e,r,n),[t,e,r,n]),Ro=(t,e={})=>{var D,O,F,x;const{i18n:r}=e,{i18n:n,defaultNS:i}=Tt.useContext(AV)||{},s=r||n||SV();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new IV),!s){o2("You will need to pass in an i18next instance by using initReactI18next");const L=(ne,j)=>Yl(j)?j:gV(j)&&Yl(j.defaultValue)?j.defaultValue:Array.isArray(ne)?ne[ne.length-1]:ne,J=[L,{},!1];return J.t=L,J.i18n={},J.ready=!1,J}(D=s.options.react)!=null&&D.wait&&o2("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...xV(),...s.options.react,...e},{useSuspense:a,keyPrefix:c}=o;let l=i||((O=s.options)==null?void 0:O.defaultNS);l=Yl(l)?[l]:l||["translation"],(x=(F=s.reportNamespaces).addUsedNamespaces)==null||x.call(F,l);const u=(s.isInitialized||s.initializedStoreOnce)&&l.every(L=>pV(L,s,o)),f=CV(s,e.lng||null,o.nsMode==="fallback"?l:l[0],c),h=()=>f,g=()=>XC(s,e.lng||null,o.nsMode==="fallback"?l:l[0],c),[y,v]=Tt.useState(h);let T=l.join();e.lng&&(T=`${e.lng}${T}`);const k=kV(T),C=Tt.useRef(!0);Tt.useEffect(()=>{const{bindI18n:L,bindI18nStore:J}=o;C.current=!0,!u&&!a&&(e.lng?gE(s,e.lng,l,()=>{C.current&&v(g)}):pE(s,l,()=>{C.current&&v(g)})),u&&k&&k!==T&&C.current&&v(g);const ne=()=>{C.current&&v(g)};return L&&(s==null||s.on(L,ne)),J&&(s==null||s.store.on(J,ne)),()=>{C.current=!1,s&&(L==null||L.split(" ").forEach(j=>s.off(j,ne))),J&&s&&J.split(" ").forEach(j=>s.store.off(j,ne))}},[s,T]),Tt.useEffect(()=>{C.current&&u&&v(h)},[s,c,u]);const I=[y,s,u];if(I.t=y,I.i18n=s,I.ready=u,u||!u&&!a)return I;throw new Promise(L=>{e.lng?gE(s,e.lng,l,()=>L()):pE(s,l,()=>L())})},Xt=t=>typeof t=="string",jd=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},mE=t=>t==null?"":""+t,RV=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},PV=/###/g,yE=t=>t&&t.indexOf("###")>-1?t.replace(PV,"."):t,wE=t=>!t||Xt(t),Ah=(t,e,r)=>{const n=Xt(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(wE(t))return{};const s=yE(n[i]);!t[s]&&r&&(t[s]=new r),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return wE(t)?{}:{obj:t,k:yE(n[i])}},bE=(t,e,r)=>{const{obj:n,k:i}=Ah(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=Ah(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=Ah(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=r},TV=(t,e,r,n)=>{const{obj:i,k:s}=Ah(t,e,Object);i[s]=i[s]||[],i[s].push(r)},m1=(t,e)=>{const{obj:r,k:n}=Ah(t,e);if(r)return r[n]},NV=(t,e,r)=>{const n=m1(t,r);return n!==void 0?n:m1(e,r)},ZC=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?Xt(t[n])||t[n]instanceof String||Xt(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):ZC(t[n],e[n],r):t[n]=e[n]);return t},Lu=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var MV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const OV=t=>Xt(t)?t.replace(/[&<>"'\/]/g,e=>MV[e]):t;class LV{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const DV=[" ",",","?","!",";"],BV=new LV(20),$V=(t,e,r)=>{e=e||"",r=r||"";const n=DV.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const i=BV.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},c2=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(r);let i=t;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let o,a="";for(let c=s;c<n.length;++c)if(c!==s&&(a+=r),a+=n[c],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}i=o}return i},y1=t=>t&&t.replace("_","-"),UV={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};let FV=class l2{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||UV,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(Xt(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new l2(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new l2(this.logger,e)}};var Xo=new FV;let Km=class{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,c]=o;for(let l=0;l<c;l++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,c]=o;for(let l=0;l<c;l++)a.apply(a,[e,...n])})}};class vE extends Km{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,r],n&&(Array.isArray(n)?a.push(...n):Xt(n)&&s?a.push(...n.split(s)):a.push(n)));const c=m1(this.data,a);return!c&&!r&&!n&&e.indexOf(".")>-1&&(e=a[0],r=a[1],n=a.slice(2).join(".")),c||!o||!Xt(n)?c:c2(this.data&&this.data[e]&&this.data[e][r],n,s)}addResource(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,r];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),i=r,r=a[1]),this.addNamespaces(r),bE(this.data,a,i),s.silent||this.emit("added",e,r,n,i)}addResources(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in n)(Xt(n[s])||Array.isArray(n[s]))&&this.addResource(e,r,s,n[s],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,r];e.indexOf(".")>-1&&(a=e.split("."),i=n,n=r,r=a[1]),this.addNamespaces(r);let c=m1(this.data,a)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?ZC(c,n,s):c={...c,...n},bE(this.data,a,c),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,r)}:this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var QC={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,r,n,i))}),e}};const xE={};class w1 extends Km{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),RV(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Xo.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,r);return n&&n.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!$V(e,n,i);if(o&&!a){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:s};const l=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(l[0])>-1)&&(s=l.shift()),e=l.join(i)}return Xt(s)&&(s=[s]),{key:e,namespaces:s}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],r),c=a[a.length-1],l=r.lng||this.language,u=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&l.toLowerCase()==="cimode"){if(u){const D=r.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${D}${o}`,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${D}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:o}const f=this.resolve(e,r);let h=f&&f.res;const g=f&&f.usedKey||o,y=f&&f.exactUsedKey||o,v=Object.prototype.toString.apply(h),T=["[object Number]","[object Function]","[object RegExp]"],k=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,I=!Xt(h)&&typeof h!="boolean"&&typeof h!="number";if(C&&h&&I&&T.indexOf(v)<0&&!(Xt(k)&&Array.isArray(h))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const D=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,h,{...r,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(f.res=D,f.usedParams=this.getUsedParamsDetails(r),f):D}if(s){const D=Array.isArray(h),O=D?[]:{},F=D?y:g;for(const x in h)if(Object.prototype.hasOwnProperty.call(h,x)){const L=`${F}${s}${x}`;O[x]=this.translate(L,{...r,joinArrays:!1,ns:a}),O[x]===L&&(O[x]=h[x])}h=O}}else if(C&&Xt(k)&&Array.isArray(h))h=h.join(k),h&&(h=this.extendTranslation(h,e,r,n));else{let D=!1,O=!1;const F=r.count!==void 0&&!Xt(r.count),x=w1.hasDefaultValue(r),L=F?this.pluralResolver.getSuffix(l,r.count,r):"",J=r.ordinal&&F?this.pluralResolver.getSuffix(l,r.count,{ordinal:!1}):"",ne=F&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),j=ne&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${L}`]||r[`defaultValue${J}`]||r.defaultValue;!this.isValidLookup(h)&&x&&(D=!0,h=j),this.isValidLookup(h)||(O=!0,h=o);const m=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&O?void 0:h,d=x&&j!==h&&this.options.updateMissing;if(O||D||d){if(this.logger.log(d?"updateKey":"missingKey",l,c,o,d?j:h),s){const E=this.resolve(o,{...r,keySeparator:!1});E&&E.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let p=[];const _=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&_&&_[0])for(let E=0;E<_.length;E++)p.push(_[E]);else this.options.saveMissingTo==="all"?p=this.languageUtils.toResolveHierarchy(r.lng||this.language):p.push(r.lng||this.language);const N=(E,S,b)=>{const R=x&&b!==h?b:m;this.options.missingKeyHandler?this.options.missingKeyHandler(E,c,S,R,d,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(E,c,S,R,d,r),this.emit("missingKey",E,c,S,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&F?p.forEach(E=>{const S=this.pluralResolver.getSuffixes(E,r);ne&&r[`defaultValue${this.options.pluralSeparator}zero`]&&S.indexOf(`${this.options.pluralSeparator}zero`)<0&&S.push(`${this.options.pluralSeparator}zero`),S.forEach(b=>{N([E],o+b,r[`defaultValue${b}`]||j)})}):N(p,o,j))}h=this.extendTranslation(h,e,r,f,n),O&&h===o&&this.options.appendNamespaceToMissingKey&&(h=`${c}:${o}`),(O||D)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,D?h:void 0):h=this.options.parseMissingKeyHandler(h))}return i?(f.res=h,f.usedParams=this.getUsedParamsDetails(r),f):h}extendTranslation(e,r,n,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const l=Xt(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(l){const h=e.match(this.interpolator.nestingRegexp);u=h&&h.length}let f=n.replace&&!Xt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,n.lng||this.language||i.usedLng,n),l){const h=e.match(this.interpolator.nestingRegexp),g=h&&h.length;u<g&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var h=arguments.length,g=new Array(h),y=0;y<h;y++)g[y]=arguments[y];return s&&s[0]===g[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${r[0]}`),null):o.translate(...g,r)},n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,c=Xt(a)?[a]:a;return e!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(e=QC.handle(c,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,s,o,a;return Xt(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const l=this.extractFromKey(c,r),u=l.key;i=u;let f=l.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!Xt(r.count),g=h&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),y=r.context!==void 0&&(Xt(r.context)||typeof r.context=="number")&&r.context!=="",v=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(T=>{this.isValidLookup(n)||(a=T,!xE[`${v[0]}-${T}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(xE[`${v[0]}-${T}`]=!0,this.logger.warn(`key "${i}" for languages "${v.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(k=>{if(this.isValidLookup(n))return;o=k;const C=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(C,u,k,T,r);else{let D;h&&(D=this.pluralResolver.getSuffix(k,r.count,r));const O=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(C.push(u+D),r.ordinal&&D.indexOf(F)===0&&C.push(u+D.replace(F,this.options.pluralSeparator)),g&&C.push(u+O)),y){const x=`${u}${this.options.contextSeparator}${r.context}`;C.push(x),h&&(C.push(x+D),r.ordinal&&D.indexOf(F)===0&&C.push(x+D.replace(F,this.options.pluralSeparator)),g&&C.push(x+O))}}let I;for(;I=C.pop();)this.isValidLookup(n)||(s=I,n=this.getResource(k,T,I,r))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Xt(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const s of r)delete i[s]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}const qw=t=>t.charAt(0).toUpperCase()+t.slice(1);class _E{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Xo.create("languageUtils")}getScriptPartFromCode(e){if(e=y1(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=y1(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(Xt(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=qw(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=qw(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=qw(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),Xt(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Xt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Xt(e)&&s(this.formatLanguageCode(e)),n.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let jV=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],zV={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const qV=["v1","v2","v3"],KV=["v4"],SE={zero:0,one:1,two:2,few:3,many:4,other:5},WV=()=>{const t={};return jV.forEach(e=>{e.lngs.forEach(r=>{t[r]={numbers:e.nr,plurals:zV[e.fc]}})}),t};class HV{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=Xo.create("pluralResolver"),(!this.options.compatibilityJSON||KV.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=WV(),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const n=y1(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];const o=new Intl.PluralRules(n,{type:i});return this.pluralRulesCache[s]=o,o}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,s)=>SE[i]-SE[s]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(e,i,r)):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:this.getSuffixRetroCompatible(i,r):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,r){const n=e.noAbs?e.plurals(r):e.plurals(Math.abs(r));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!qV.includes(this.options.compatibilityJSON)}}const EE=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=NV(t,e,r);return!s&&i&&Xt(r)&&(s=c2(t,r,n),s===void 0&&(s=c2(e,r,n))),s},Kw=t=>t.replace(/\$/g,"$$$$");class VV{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Xo.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:c,formatSeparator:l,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:g,nestingSuffix:y,nestingSuffixEscaped:v,nestingOptionsSeparator:T,maxReplaces:k,alwaysFormat:C}=e.interpolation;this.escape=r!==void 0?r:OV,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Lu(s):o||"{{",this.suffix=a?Lu(a):c||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?Lu(h):g||Lu("$t("),this.nestingSuffix=y?Lu(y):v||Lu(")"),this.nestingOptionsSeparator=T||",",this.maxReplaces=k||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,n,i){let s,o,a;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=g=>{if(g.indexOf(this.formatSeparator)<0){const k=EE(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,n,{...i,...r,interpolationkey:g}):k}const y=g.split(this.formatSeparator),v=y.shift().trim(),T=y.join(this.formatSeparator).trim();return this.format(EE(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),T,n,{...i,...r,interpolationkey:v})};this.resetRegExp();const u=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Kw(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Kw(this.escape(g)):Kw(g)}].forEach(g=>{for(a=0;s=g.regex.exec(e);){const y=s[1].trim();if(o=l(y),o===void 0)if(typeof u=="function"){const T=u(e,s,i);o=Xt(T)?T:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),o="";else!Xt(o)&&!this.useRawValueToEscape&&(o=mE(o));const v=g.safeValue(o);if(e=e.replace(s[0],v),f?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;const a=(c,l)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const f=c.split(new RegExp(`${u}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,o);const g=h.match(/'/g),y=h.match(/"/g);(g&&g.length%2===0&&!y||y.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),l&&(o={...l,...o})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,v),`${c}${u}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];o={...n},o=o.replace&&!Xt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let l=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const u=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=u.shift(),c=u,l=!0}if(s=r(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&!Xt(s))return s;Xt(s)||(s=mE(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),l&&(s=c.reduce((u,f)=>this.format(u,f,n.lng,{...n,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const GV=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...c]=o.split(":"),l=c.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();r[u]||(r[u]=l),l==="false"&&(r[u]=!1),l==="true"&&(r[u]=!0),isNaN(l)||(r[u]=parseInt(l,10))}})}return{formatName:e,formatOptions:r}},Du=t=>{const e={};return(r,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=n+JSON.stringify(s);let a=e[o];return a||(a=t(y1(n),i),e[o]=a),a(r)}};class YV{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Xo.create("formatter"),this.options=e,this.formats={number:Du((r,n)=>i=>new Intl.NumberFormat(r,{...n}).format(i)),currency:Du((r,n)=>i=>new Intl.NumberFormat(r,{...n,style:"currency"}).format(i)),datetime:Du((r,n)=>i=>new Intl.DateTimeFormat(r,{...n}).format(i)),relativetime:Du((r,n)=>i=>new Intl.RelativeTimeFormat(r,{...n}).format(i,n.range||"day")),list:Du((r,n)=>i=>new Intl.ListFormat(r,{...n}).format(i))},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Du(r)}format(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,c)=>{const{formatName:l,formatOptions:u}=GV(c);if(this.formats[l]){let f=a;try{const h=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},g=h.locale||h.lng||i.locale||i.lng||n;f=this.formats[l](a,g,{...u,...i,...h})}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${l}`);return a},e)}}const JV=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class XV extends Km{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Xo.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,r,n,i){const s={},o={},a={},c={};return e.forEach(l=>{let u=!0;r.forEach(f=>{const h=`${l}|${f}`;!n.reload&&this.store.hasResourceBundle(l,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,u=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),u||(a[l]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(e,r,n){const i=e.split("|"),s=i[0],o=i[1];r&&this.emit("failedLoading",s,o,r),!r&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const a={};this.queue.forEach(c=>{TV(c.loaded,[s],o),JV(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(l=>{a[l]||(a[l]={});const u=c.loaded[l];u.length&&u.forEach(f=>{a[l][f]===void 0&&(a[l][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(l,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(l&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,s*2,o)},s);return}o(l,u)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const l=c(e,r);l&&typeof l.then=="function"?l.then(u=>a(null,u)).catch(a):a(null,l)}catch(l){a(l)}return}return c(e,r,a)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Xt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Xt(r)&&(r=[r]);const s=this.queueLoad(e,r,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${r}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${r}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,r,n,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:s},l=this.backend.create.bind(this.backend);if(l.length<6)try{let u;l.length===5?u=l(e,r,n,i,c):u=l(e,r,n,i),u&&typeof u.then=="function"?u.then(f=>a(null,f)).catch(a):a(null,u)}catch(u){a(u)}else l(e,r,n,i,a,c)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const AE=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Xt(t[1])&&(e.defaultValue=t[1]),Xt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),IE=t=>(Xt(t.ns)&&(t.ns=[t.ns]),Xt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Xt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),M0=()=>{},ZV=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class ip extends Km{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=IE(e),this.services={},this.logger=Xo,this.modules={external:[]},ZV(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(Xt(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=AE();this.options={...i,...this.options,...IE(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Xo.init(s(this.modules.logger),this.options):Xo.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=YV);const f=new _E(this.options);this.store=new vE(this.options.resources,this.options);const h=this.services;h.logger=Xo,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new HV(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(h.formatter=s(u),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new VV(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new XV(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(g){for(var y=arguments.length,v=new Array(y>1?y-1:0),T=1;T<y;T++)v[T-1]=arguments[T];e.emit(g,...v)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new w1(this.services,this.options),this.translator.on("*",function(g){for(var y=arguments.length,v=new Array(y>1?y-1:0),T=1;T<y;T++)v[T-1]=arguments[T];e.emit(g,...v)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=M0),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const c=jd(),l=()=>{const u=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),n(f,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),c}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M0;const i=Xt(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(l=>{l!=="cimode"&&s.indexOf(l)<0&&s.push(l)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(a)})}else n(null)}reloadResources(e,r,n){const i=jd();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=M0),this.services.backendConnector.reload(e,r,s=>{i.resolve(),n(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&QC.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const i=jd();this.emit("languageChanging",e);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,l)=>{l?(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(c,function(){return n.t(...arguments)})},a=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const l=Xt(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);l&&(this.language||s(l),this.translator.language||this.translator.changeLanguage(l),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(l)),this.loadResources(l,u=>{o(u,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,r,n){var i=this;const s=function(o,a){let c;if(typeof a!="object"){for(var l=arguments.length,u=new Array(l>2?l-2:0),f=2;f<l;f++)u[f-2]=arguments[f];c=i.options.overloadTranslationOptionHandler([o,a].concat(u))}else c={...a};c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||s.keyPrefix);const h=i.options.keySeparator||".";let g;return c.keyPrefix&&Array.isArray(o)?g=o.map(y=>`${c.keyPrefix}${h}${y}`):g=c.keyPrefix?`${c.keyPrefix}${h}${o}`:o,i.t(g,c)};return Xt(e)?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(a,c)=>{const l=this.services.backendConnector.state[`${a}|${c}`];return l===-1||l===0||l===2};if(r.precheck){const a=r.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!i||o(s,e)))}loadNamespaces(e,r){const n=jd();return this.options.ns?(Xt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=jd();Xt(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new _E(AE());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new ip(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M0;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new ip(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n&&(s.store=new vE(this.store.data,i),s.services.resourceStore=s.store),s.translator=new w1(s.services,i),s.translator.on("*",function(a){for(var c=arguments.length,l=new Array(c>1?c-1:0),u=1;u<c;u++)l[u-1]=arguments[u];s.emit(a,...l)}),s.init(i,r),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Mi=ip.createInstance();Mi.createInstance=ip.createInstance;Mi.createInstance;Mi.dir;Mi.init;Mi.loadResources;Mi.reloadResources;Mi.use;Mi.changeLanguage;Mi.getFixedT;Mi.t;Mi.exists;Mi.setDefaultNamespace;Mi.hasLoadedNamespace;Mi.loadNamespaces;Mi.loadLanguages;var QV={"adapter-loader.message":"Verify your {{adapter}} account to continue","adapter-loader.message1":"Verify your {{adapter}}","adapter-loader.message2":"account to continue","errors-invalid-email":"Invalid Email","errors-invalid-number":"Invalid Phone Number","errors-invalid-number-email":"Invalid Email or Phone Number","errors-required":"Required","external.back":"Back","external.connect":"Continue with a wallet","external.search-text":"Don't see your wallet?","external.search-subtext":"Try search instead","external.connect-wallet":"Connect Wallet","external.continue":"Continue with external wallet","external.dont-have":"Don't have","external.get":"Get","external.get-wallet":"Get Wallet","external.install-browser-extension":"Install {{browser}} extension","external.install-mobile-app":"Install {{os}} app","external.installed":"Installed","external.no-wallets-found":"No wallets found","external.search-wallet":"Search through {{count}} wallets...","external.title":"External Wallet","external.walletconnect-connect":"Connect","external.walletconnect-copy":"Scan with a WalletConnect-supported wallet or click the QR code to copy to your clipboard.","external.walletconnect-subtitle":"Scan the QR code with a WalletConnect-compatible wallet","footer.message":"Self-custodial login by","footer.message-new":"Self-custody via","footer.policy":"Privacy Policy","footer.terms":"Terms of Use","footer.terms-service":"Terms of Service","footer.version":"Version","header-subtitle":"Select one of the following options to continue","header-subtitle-name":"Your {{appName}} wallet with one click","header-subtitle-new":"Your blockchain wallet with one click","header-title":"Sign in","header-tooltip-desc":"The wallet serves as an account to store and manage your digital assets on the blockchain.","header-tooltip-title":"Wallet","network.add-request":"This site is requesting to add a network","network.cancel":"Cancel","network.from":"From","network.proceed":"Proceed","network.switch-request":"This site is requesting to switch networks","network.to":"To","passkey.add":"Add Passkey","passkey.haveExisting":"Have an existing passkey?","passkey.learn-more":"Learn more","passkey.or":"or","passkey.register-desc":"With passkeys, you can verify your identity through your face, fingerprint, or security keys.","passkey.register-title":"Register Passkey","passkey.use":"I have a passkey","popup.phone-body":"Your country code will be detected automatically, but if you're using a phone number from a different country, you'll need to enter the correct country code manually.","popup.phone-header":"Phone number and country code","post-loading.connected":"You are connected with your account","post-loading.something-wrong":"Something went wrong!","social.continue":"Continue with","social.continueCustom":"Continue with {{adapter}}","social.email":"Email","social.email-continue":"Continue with Email","social.email-new":"name@example.com","social.passwordless-cta":"Continue","social.passwordless-login":"Login","social.passwordless-title":"Email or Phone","social.phone":"Phone","social.policy":"We do not store any data related to your social logins.","social.sms":"Mobile","social.sms-continue":"Continue with Mobile","social.sms-invalid-number":"Invalid phone number","social.sms-placeholder-text":"E.g.:","social.view-less":"View less","social.view-less-socials":"View less socials","social.view-more":"View more","social.view-more-socials":"View more socials"},eG={modal:QV};const kr=Mi.createInstance();kr.use(EV).init({resources:{en:{translation:eG}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,react:{useSuspense:!0}});var tG="data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M8.33333%2015.8333L2.5%209.99992M2.5%209.99992L8.33333%204.16659M2.5%209.99992L17.5%209.99992%22%20stroke%3D%22%239CA3AF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",rG="data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M8.33333%2015.8333L2.5%209.99995M2.5%209.99995L8.33333%204.16662M2.5%209.99995L17.5%209.99995%22%20stroke%3D%22%236B7280%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",nG="data:image/svg+xml,%3Csvg%20width%3D%2213%22%20height%3D%2213%22%20viewBox%3D%220%200%2013%2013%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M0.292787%201.29299C0.480314%201.10552%200.734622%201.0002%200.999786%201.0002C1.26495%201.0002%201.51926%201.10552%201.70679%201.29299L5.99979%205.58599L10.2928%201.29299C10.385%201.19748%2010.4954%201.1213%2010.6174%201.06889C10.7394%201.01648%2010.8706%200.988893%2011.0034%200.987739C11.1362%200.986585%2011.2678%201.01189%2011.3907%201.06217C11.5136%201.11245%2011.6253%201.1867%2011.7192%201.28059C11.8131%201.37449%2011.8873%201.48614%2011.9376%201.60904C11.9879%201.73193%2012.0132%201.86361%2012.012%201.99639C12.0109%202.12917%2011.9833%202.26039%2011.9309%202.38239C11.8785%202.5044%2011.8023%202.61474%2011.7068%202.70699L7.41379%206.99999L11.7068%2011.293C11.8889%2011.4816%2011.9897%2011.7342%2011.9875%2011.9964C11.9852%2012.2586%2011.88%2012.5094%2011.6946%2012.6948C11.5092%2012.8802%2011.2584%2012.9854%2010.9962%2012.9877C10.734%2012.9899%2010.4814%2012.8891%2010.2928%2012.707L5.99979%208.41399L1.70679%2012.707C1.51818%2012.8891%201.26558%2012.9899%201.00339%2012.9877C0.741188%2012.9854%200.490376%2012.8802%200.304968%2012.6948C0.11956%2012.5094%200.0143906%2012.2586%200.0121121%2011.9964C0.00983372%2011.7342%200.110629%2011.4816%200.292787%2011.293L4.58579%206.99999L0.292787%202.70699C0.105316%202.51946%200%202.26515%200%201.99999C0%201.73483%200.105316%201.48052%200.292787%201.29299V1.29299Z%22%20fill%3D%22%239CA3AF%22%2F%3E%3C%2Fsvg%3E",iG="data:image/svg+xml,%3Csvg%20width%3D%2213%22%20height%3D%2213%22%20viewBox%3D%220%200%2013%2013%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M0.292787%201.29299C0.480314%201.10552%200.734622%201.0002%200.999786%201.0002C1.26495%201.0002%201.51926%201.10552%201.70679%201.29299L5.99979%205.58599L10.2928%201.29299C10.385%201.19748%2010.4954%201.1213%2010.6174%201.06889C10.7394%201.01648%2010.8706%200.988893%2011.0034%200.987739C11.1362%200.986585%2011.2678%201.01189%2011.3907%201.06217C11.5136%201.11245%2011.6253%201.1867%2011.7192%201.28059C11.8131%201.37449%2011.8873%201.48614%2011.9376%201.60904C11.9879%201.73193%2012.0132%201.86361%2012.012%201.99639C12.0109%202.12917%2011.9833%202.26039%2011.9309%202.38239C11.8785%202.5044%2011.8023%202.61474%2011.7068%202.70699L7.41379%206.99999L11.7068%2011.293C11.8889%2011.4816%2011.9897%2011.7342%2011.9875%2011.9964C11.9852%2012.2586%2011.88%2012.5094%2011.6946%2012.6948C11.5092%2012.8802%2011.2584%2012.9854%2010.9962%2012.9877C10.734%2012.9899%2010.4814%2012.8891%2010.2928%2012.707L5.99979%208.41399L1.70679%2012.707C1.51818%2012.8891%201.26558%2012.9899%201.00339%2012.9877C0.741188%2012.9854%200.490376%2012.8802%200.304968%2012.6948C0.11956%2012.5094%200.0143906%2012.2586%200.0121121%2011.9964C0.00983372%2011.7342%200.110629%2011.4816%200.292787%2011.293L4.58579%206.99999L0.292787%202.70699C0.105316%202.51946%200%202.26515%200%201.99999C0%201.73483%200.105316%201.48052%200.292787%201.29299V1.29299Z%22%20fill%3D%22%236B7280%22%2F%3E%3C%2Fsvg%3E";const O0={"arrow-left":{image:"https://images.web3auth.io/circle-arrow-left.svg"},close:{image:"https://images.web3auth.io/close.svg"},"expand-light":{image:"https://images.web3auth.io/expand-light.svg"},expand:{image:"https://images.web3auth.io/expand.svg"},connected:{image:"https://images.web3auth.io/connected.svg"},"information-circle-light":{image:"https://images.web3auth.io/information-circle-light.svg"},"information-circle":{image:"https://images.web3auth.io/information-circle.svg"},"arrow-left-light":{image:rG},"x-light":{image:iG},"arrow-left-dark":{image:tG},"x-dark":{image:nG}};function Qc(t){const{iconName:e,iconTitle:r="",height:n="auto",width:i="auto",darkIconName:s=""}=t,o=n==="auto"?"h-auto":`h-[${n}px]`,a=i==="auto"?"w-auto":`w-[${i}px]`;return pe.jsxs(pe.Fragment,{children:[O0[e]&&pe.jsx("img",{className:`${r?"cursor-pointer":""} dark:hidden block ${o} ${a}`,height:n,width:i,src:O0[e].image,alt:e,title:r}),O0[s]&&pe.jsx("img",{className:`${r?"cursor-pointer":""} hidden dark:block ${o} ${a}`,height:n,width:i,src:O0[s].image,alt:s,title:r})]})}const ld=Tt.createContext({isDark:!0});function Wc(t){const{hoverImageId:e,darkHoverImageId:r,imageId:n,darkImageId:i,isButton:s=!1,height:o="auto",width:a="auto",fallbackImageId:c,extension:l="svg"}=t,{isDark:u}=Tt.useContext(ld),f=u&&i?i:n,h=u&&r?r:e;return pe.jsxs(pe.Fragment,{children:[pe.jsx("img",{src:`https://images.web3auth.io/${f}.${l}`,height:o,width:a,alt:n,className:"image-icon object-contain rounded",onError:({currentTarget:g})=>{c&&(g.onerror=null,g.src=`https://images.web3auth.io/${c}.svg`)}}),s?pe.jsx("img",{src:`https://images.web3auth.io/${h}.${l}`,height:o,width:a,alt:e,className:"hover-icon object-contain rounded"}):null]})}const sG=pe.jsx(Qc,{iconName:"x-light",darkIconName:"close"});function oG(t){const{adapter:e,appLogo:r,message:n,modalStatus:i,adapterName:s,onClose:o}=t,a=e==="twitter"?pe.jsx(Wc,{imageId:"login-x-dark"}):pe.jsx(Wc,{imageId:`login-${e}`,height:"30",width:"30"}),[c]=Ro(void 0,{i18n:kr});return Tt.useEffect(()=>{dt.debug("adapter loader re-rendering"),i===wn.CONNECTED&&setTimeout(()=>{o()},3e3)},[i,o]),i!==wn.INITIALIZED?pe.jsxs("div",{className:"w3ajs-modal-loader w3a-modal__loader h-full",children:[pe.jsx("div",{className:"w3a-modal__loader-content",children:pe.jsxs("div",{className:"w3a-modal__loader-info",children:[i===wn.CONNECTING&&pe.jsxs(pe.Fragment,{children:[pe.jsxs("div",{className:"w3a-modal__loader-bridge",children:[pe.jsxs("div",{className:"w3a-modal__loader-app-logo",children:[pe.jsx("img",{src:r,className:"block dark:hidden h-10 w-10",alt:""}),pe.jsx("img",{src:r,className:"hidden dark:block h-10 w-10",alt:""})]}),pe.jsx("div",{className:"w3a-modal__connector",children:pe.jsxs("div",{className:"w3a-modal__connector-beat",children:[pe.jsx("div",{}),pe.jsx("div",{}),pe.jsx("div",{}),pe.jsx("div",{}),pe.jsx("div",{})]})}),pe.jsx("div",{className:"w3a-modal__loader-social-logo",children:a})]}),pe.jsxs("div",{children:[pe.jsx("div",{className:"w3a-modal__loader-bridge-message",children:c("modal.adapter-loader.message1",{adapter:s})}),pe.jsx("div",{className:"w3a-modal__loader-bridge-message",children:c("modal.adapter-loader.message2",{adapter:s})})]})]}),i===tt.CONNECTED&&pe.jsxs("div",{className:"flex flex-col items-center",children:[pe.jsx(Qc,{iconName:"connected"}),pe.jsx("div",{className:"w3ajs-modal-loader__message w3a-spinner-message mt-4",children:n})]}),i===tt.ERRORED&&pe.jsx("div",{className:"w3ajs-modal-loader__message w3a-spinner-message w3a-spinner-message--error",children:n})]})}),(i===tt.CONNECTED||i===tt.ERRORED)&&pe.jsx("button",{type:"button",className:"w3a-header__button w3ajs-loader-close-btn",onClick:o,children:sG})]}):null}var aG=".w3a-parent-container #w3a-modal button.t-btn,.w3a-parent-container a.t-btn{align-items:center;display:flex;justify-content:center;transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:linear}.w3a-parent-container #w3a-modal button.t-btn:not(.t-btn-text):disabled,.w3a-parent-container a.t-btn:not(.t-btn-text):disabled{background-color:var(--app-gray-300);border-width:0;color:var(--app-gray-400)}.w3a-parent-container #w3a-modal button.t-btn:not(.t-btn-text):hover:disabled,.w3a-parent-container a.t-btn:not(.t-btn-text):hover:disabled{background-color:var(--app-gray-300);border-color:var(--app-gray-300);color:var(--app-gray-400)}.w3a-parent-container #w3a-modal button.t-btn:not(.t-btn-text):active:disabled,.w3a-parent-container a.t-btn:not(.t-btn-text):active:disabled{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-offset-width:0px;background-color:var(--app-gray-300);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000);outline-width:0}.w3a-parent-container #w3a-modal button.t-btn:not(.t-btn-text):disabled:is(.dark *),.w3a-parent-container a.t-btn:not(.t-btn-text):disabled:is(.dark *){background-color:var(--app-gray-700);color:var(--app-gray-600)}.w3a-parent-container #w3a-modal .size-xs{font-size:.75rem;height:32px;line-height:1rem;padding:.5rem .75rem}.w3a-parent-container #w3a-modal .size-sm{font-size:.875rem;height:36px;line-height:1.25rem;padding:.5rem .75rem}.w3a-parent-container #w3a-modal .size-md{font-size:.875rem;height:42px;line-height:1.25rem;padding:.625rem 1.25rem}.w3a-parent-container #w3a-modal .size-lg{font-size:1rem;height:48px;line-height:1.5rem;padding:.75rem 1.25rem}.w3a-parent-container #w3a-modal .size-xl{font-size:1rem;height:52px;line-height:1.5rem;padding:.875rem 1rem}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary{background-color:var(--app-primary-600);color:var(--app-on-primary);outline:2px solid #0000;outline-offset:2px}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:hover{background-color:var(--app-primary-700)}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:focus-visible{outline-color:var(--app-primary-600);outline-offset:1px;outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:active{background-color:var(--app-primary-600);outline-color:var(--app-primary-600);outline-offset:1px;outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:is(.dark *){background-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:hover:is(.dark *){background-color:var(--app-primary-400)}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:focus-visible:is(.dark *){outline-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:active:is(.dark *){background-color:var(--app-primary-500);outline-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary{background-color:initial;border-color:var(--app-gray-500);border-width:1px;color:var(--app-gray-600);outline:2px solid #0000;outline-offset:2px}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:hover{background-color:var(--app-gray-200)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);background-color:initial;border-color:var(--app-primary-600);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:active{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);background-color:initial;border-color:var(--app-primary-600);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:is(.dark *){border-color:var(--app-gray-300);color:var(--app-white)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:hover:is(.dark *){background-color:var(--app-gray-700)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:focus-visible:is(.dark *){--tw-ring-color:var(--app-primary-500);background-color:initial;border-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:active:is(.dark *){--tw-ring-color:var(--app-primary-500);background-color:initial;border-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary{background-color:var(--app-gray-200);color:var(--app-gray-800)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:hover{background-color:var(--app-gray-300)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:active{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);background-color:var(--app-gray-200);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:is(.dark *){background-color:var(--app-gray-500);color:var(--app-white)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:hover:is(.dark *){background-color:var(--app-gray-400)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:focus-visible:is(.dark *){--tw-ring-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:active:is(.dark *){--tw-ring-color:var(--app-primary-500);background-color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text{color:var(--app-primary-600)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:hover{color:var(--app-primary-800);text-decoration-line:underline}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:active{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000);color:var(--app-primary-600)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:disabled{color:var(--app-gray-400);text-decoration-line:none}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:is(.dark *){color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:hover:is(.dark *){color:var(--app-primary-400)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:disabled:is(.dark *){color:var(--app-gray-600)}.w3a-parent-container #w3a-modal .btn-link{text-decoration-line:none}.w3a-parent-container #w3a-modal button.t-btn:hover>.hover-icon{display:block;transition:display .15s;transition-timing-function:cubic-bezier(0,.54,.63,.99)}.w3a-parent-container #w3a-modal button.t-btn:hover>.image-icon{display:none;transition:display .15s;transition-timing-function:cubic-bezier(0,.54,.63,.99)}";GC(aG);function cG(t){const{variant:e="primary",onClick:r,children:n,title:i,className:s,style:o,size:a="md",disabled:c,type:l="button"}=t,u=`size-${a}`;return pe.jsx("button",{disabled:c,type:l,className:`t-btn t-btn-${e} rounded-full ${u} ${s}`,onClick:r,title:i,style:o,children:n})}var el=Tt.memo(cG);function Ww(t){const{button:e,handleWalletClick:r}=t,[n]=Ro(void 0,{i18n:kr});return pe.jsxs(el,{variant:"tertiary",type:"button",onClick:()=>r(e),className:"w-full rounded-xl size-xl flex !justify-between items-center wallet-btn",title:e.name,children:[pe.jsxs("div",{className:"flex items-center",children:[pe.jsx(Wc,{imageId:`login-${e.name}`,hoverImageId:`login-${e.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:e.imgExtension}),pe.jsx("p",{className:"ml-2 text-left text-sm",children:e.displayName})]}),e.hasInjectedWallet&&pe.jsx("span",{className:"inline-flex items-center rounded-lg px-2 py-1 text-xs font-medium bg-app-primary-100 text-app-primary-800",children:n("modal.external.installed")})]})}const lG=pe.jsx(Qc,{iconName:"close"});function eR(t){const{message:e,modalStatus:r,label:n,onClose:i,canEmit:s=!0}=t;return Tt.useEffect(()=>{dt.debug("loader re-rendering"),r===wn.CONNECTED&&s&&setTimeout(()=>{i()},3e3)},[s,r,i]),r!==wn.INITIALIZED?pe.jsxs("div",{className:"w3ajs-modal-loader w3a-modal__loader",children:[pe.jsx("div",{className:"w3a-modal__loader-content",children:pe.jsxs("div",{className:"w3a-modal__loader-info",children:[r===wn.CONNECTING&&pe.jsx("div",{className:"w3ajs-modal-loader__spinner w3a-spinner",children:pe.jsx("div",{className:"w3a-spinner__spinner"})}),pe.jsx("div",{className:"w3ajs-modal-loader__label w3a-spinner-label",children:n}),r===tt.CONNECTED&&pe.jsx("div",{className:"w3ajs-modal-loader__message w3a-spinner-message",children:e}),r===tt.ERRORED&&pe.jsx("div",{className:"w3ajs-modal-loader__message w3a-spinner-message w3a-spinner-message--error",children:e})]})}),(r===tt.CONNECTED||r===tt.ERRORED)&&pe.jsx("button",{type:"button",className:"w3a-header__button w3ajs-loader-close-btn",onClick:i,children:lG})]}):null}var uG=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],n=0;n<t.rangeCount;n++)r.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||r.forEach(function(i){t.addRange(i)}),e&&e.focus()}},fG=uG,kE={"text/plain":"Text","text/html":"Url",default:"Text"},dG="Copy to clipboard: #{key}, Enter";function hG(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function pG(t,e){var r,n,i,s,o,a,c=!1;e||(e={}),r=e.debug||!1;try{i=fG(),s=document.createRange(),o=document.getSelection(),a=document.createElement("span"),a.textContent=t,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(u){if(u.stopPropagation(),e.format)if(u.preventDefault(),typeof u.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=kE[e.format]||kE.default;window.clipboardData.setData(f,t)}else u.clipboardData.clearData(),u.clipboardData.setData(e.format,t);e.onCopy&&(u.preventDefault(),e.onCopy(u.clipboardData))}),document.body.appendChild(a),s.selectNodeContents(a),o.addRange(s);var l=document.execCommand("copy");if(!l)throw new Error("copy command was unsuccessful");c=!0}catch(u){r&&console.error("unable to copy using execCommand: ",u),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),c=!0}catch(f){r&&console.error("unable to copy using clipboardData: ",f),r&&console.error("falling back to prompt"),n=hG("message"in e?e.message:dG),window.prompt(n,t)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(s):o.removeAllRanges()),a&&document.body.removeChild(a),i()}return c}var gG=pG;const CE=An(gG);var $x={},b1={exports:{}};b1.exports;(function(t,e){var r=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",f="[object Date]",h="[object Error]",g="[object Function]",y="[object GeneratorFunction]",v="[object Map]",T="[object Number]",k="[object Null]",C="[object Object]",I="[object Promise]",D="[object Proxy]",O="[object RegExp]",F="[object Set]",x="[object String]",L="[object Symbol]",J="[object Undefined]",ne="[object WeakMap]",j="[object ArrayBuffer]",w="[object DataView]",m="[object Float32Array]",d="[object Float64Array]",p="[object Int8Array]",_="[object Int16Array]",N="[object Int32Array]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",b="[object Uint16Array]",R="[object Uint32Array]",P=/[\\^$.*+?()[\]{}|]/g,q=/^\[object .+?Constructor\]$/,ue=/^(?:0|[1-9]\d*)$/,$={};$[m]=$[d]=$[p]=$[_]=$[N]=$[E]=$[S]=$[b]=$[R]=!0,$[a]=$[c]=$[j]=$[u]=$[w]=$[f]=$[h]=$[g]=$[v]=$[T]=$[C]=$[O]=$[F]=$[x]=$[ne]=!1;var oe=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,ee=typeof self=="object"&&self&&self.Object===Object&&self,H=oe||ee||Function("return this")(),K=e&&!e.nodeType&&e,A=K&&!0&&t&&!t.nodeType&&t,V=A&&A.exports===K,se=V&&oe.process,X=function(){try{return se&&se.binding&&se.binding("util")}catch{}}(),re=X&&X.isTypedArray;function ce(ae,ye){for(var ze=-1,_t=ae==null?0:ae.length,Gr=0,ir=[];++ze<_t;){var dn=ae[ze];ye(dn,ze,ae)&&(ir[Gr++]=dn)}return ir}function be(ae,ye){for(var ze=-1,_t=ye.length,Gr=ae.length;++ze<_t;)ae[Gr+ze]=ye[ze];return ae}function Ee(ae,ye){for(var ze=-1,_t=ae==null?0:ae.length;++ze<_t;)if(ye(ae[ze],ze,ae))return!0;return!1}function Ae(ae,ye){for(var ze=-1,_t=Array(ae);++ze<ae;)_t[ze]=ye(ze);return _t}function Ve(ae){return function(ye){return ae(ye)}}function De(ae,ye){return ae.has(ye)}function qe(ae,ye){return ae==null?void 0:ae[ye]}function Te(ae){var ye=-1,ze=Array(ae.size);return ae.forEach(function(_t,Gr){ze[++ye]=[Gr,_t]}),ze}function et(ae,ye){return function(ze){return ae(ye(ze))}}function We(ae){var ye=-1,ze=Array(ae.size);return ae.forEach(function(_t){ze[++ye]=_t}),ze}var Ze=Array.prototype,ot=Function.prototype,W=Object.prototype,B=H["__core-js_shared__"],U=ot.toString,Q=W.hasOwnProperty,le=function(){var ae=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||"");return ae?"Symbol(src)_1."+ae:""}(),he=W.toString,ge=RegExp("^"+U.call(Q).replace(P,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=V?H.Buffer:void 0,Je=H.Symbol,Qe=H.Uint8Array,bt=W.propertyIsEnumerable,gt=Ze.splice,vt=Je?Je.toStringTag:void 0,er=Object.getOwnPropertySymbols,sr=je?je.isBuffer:void 0,Lt=et(Object.keys,Object),jt=Pr(H,"DataView"),Et=Pr(H,"Map"),lt=Pr(H,"Promise"),Ot=Pr(H,"Set"),te=Pr(H,"WeakMap"),ie=Pr(Object,"create"),Ce=dl(jt),Ne=dl(Et),ke=dl(lt),xt=dl(Ot),z=dl(te),G=Je?Je.prototype:void 0,Y=G?G.valueOf:void 0;function M(ae){var ye=-1,ze=ae==null?0:ae.length;for(this.clear();++ye<ze;){var _t=ae[ye];this.set(_t[0],_t[1])}}function Z(){this.__data__=ie?ie(null):{},this.size=0}function de(ae){var ye=this.has(ae)&&delete this.__data__[ae];return this.size-=ye?1:0,ye}function me(ae){var ye=this.__data__;if(ie){var ze=ye[ae];return ze===n?void 0:ze}return Q.call(ye,ae)?ye[ae]:void 0}function we(ae){var ye=this.__data__;return ie?ye[ae]!==void 0:Q.call(ye,ae)}function Me(ae,ye){var ze=this.__data__;return this.size+=this.has(ae)?0:1,ze[ae]=ie&&ye===void 0?n:ye,this}M.prototype.clear=Z,M.prototype.delete=de,M.prototype.get=me,M.prototype.has=we,M.prototype.set=Me;function Ke(ae){var ye=-1,ze=ae==null?0:ae.length;for(this.clear();++ye<ze;){var _t=ae[ye];this.set(_t[0],_t[1])}}function $e(){this.__data__=[],this.size=0}function Dt(ae){var ye=this.__data__,ze=Ge(ye,ae);if(ze<0)return!1;var _t=ye.length-1;return ze==_t?ye.pop():gt.call(ye,ze,1),--this.size,!0}function Xe(ae){var ye=this.__data__,ze=Ge(ye,ae);return ze<0?void 0:ye[ze][1]}function Ct(ae){return Ge(this.__data__,ae)>-1}function Pt(ae,ye){var ze=this.__data__,_t=Ge(ze,ae);return _t<0?(++this.size,ze.push([ae,ye])):ze[_t][1]=ye,this}Ke.prototype.clear=$e,Ke.prototype.delete=Dt,Ke.prototype.get=Xe,Ke.prototype.has=Ct,Ke.prototype.set=Pt;function At(ae){var ye=-1,ze=ae==null?0:ae.length;for(this.clear();++ye<ze;){var _t=ae[ye];this.set(_t[0],_t[1])}}function zt(){this.size=0,this.__data__={hash:new M,map:new(Et||Ke),string:new M}}function Bt(ae){var ye=xr(this,ae).delete(ae);return this.size-=ye?1:0,ye}function Ut(ae){return xr(this,ae).get(ae)}function $t(ae){return xr(this,ae).has(ae)}function ht(ae,ye){var ze=xr(this,ae),_t=ze.size;return ze.set(ae,ye),this.size+=ze.size==_t?0:1,this}At.prototype.clear=zt,At.prototype.delete=Bt,At.prototype.get=Ut,At.prototype.has=$t,At.prototype.set=ht;function wt(ae){var ye=-1,ze=ae==null?0:ae.length;for(this.__data__=new At;++ye<ze;)this.add(ae[ye])}function at(ae){return this.__data__.set(ae,n),this}function mt(ae){return this.__data__.has(ae)}wt.prototype.add=wt.prototype.push=at,wt.prototype.has=mt;function ut(ae){var ye=this.__data__=new Ke(ae);this.size=ye.size}function nt(){this.__data__=new Ke,this.size=0}function xe(ae){var ye=this.__data__,ze=ye.delete(ae);return this.size=ye.size,ze}function _e(ae){return this.__data__.get(ae)}function Ue(ae){return this.__data__.has(ae)}function Oe(ae,ye){var ze=this.__data__;if(ze instanceof Ke){var _t=ze.__data__;if(!Et||_t.length<r-1)return _t.push([ae,ye]),this.size=++ze.size,this;ze=this.__data__=new At(_t)}return ze.set(ae,ye),this.size=ze.size,this}ut.prototype.clear=nt,ut.prototype.delete=xe,ut.prototype.get=_e,ut.prototype.has=Ue,ut.prototype.set=Oe;function Le(ae,ye){var ze=Qp(ae),_t=!ze&&kN(ae),Gr=!ze&&!_t&&Ey(ae),ir=!ze&&!_t&&!Gr&&Y_(ae),dn=ze||_t||Gr||ir,Fn=dn?Ae(ae.length,String):[],ti=Fn.length;for(var sn in ae)Q.call(ae,sn)&&!(dn&&(sn=="length"||Gr&&(sn=="offset"||sn=="parent")||ir&&(sn=="buffer"||sn=="byteLength"||sn=="byteOffset")||Bn(sn,ti)))&&Fn.push(sn);return Fn}function Ge(ae,ye){for(var ze=ae.length;ze--;)if(W_(ae[ze][0],ye))return ze;return-1}function Ft(ae,ye,ze){var _t=ye(ae);return Qp(ae)?_t:be(_t,ze(ae))}function Wt(ae){return ae==null?ae===void 0?J:k:vt&&vt in Object(ae)?en(ae):IN(ae)}function Jt(ae){return Ed(ae)&&Wt(ae)==a}function Yt(ae,ye,ze,_t,Gr){return ae===ye?!0:ae==null||ye==null||!Ed(ae)&&!Ed(ye)?ae!==ae&&ye!==ye:fe(ae,ye,ze,_t,Yt,Gr)}function fe(ae,ye,ze,_t,Gr,ir){var dn=Qp(ae),Fn=Qp(ye),ti=dn?c:Lr(ae),sn=Fn?c:Lr(ye);ti=ti==a?C:ti,sn=sn==a?C:sn;var ls=ti==C,no=sn==C,wi=ti==sn;if(wi&&Ey(ae)){if(!Ey(ye))return!1;dn=!0,ls=!1}if(wi&&!ls)return ir||(ir=new ut),dn||Y_(ae)?Zt(ae,ye,ze,_t,Gr,ir):dr(ae,ye,ti,ze,_t,Gr,ir);if(!(ze&i)){var Ps=ls&&Q.call(ae,"__wrapped__"),Ts=no&&Q.call(ye,"__wrapped__");if(Ps||Ts){var rc=Ps?ae.value():ae,va=Ts?ye.value():ye;return ir||(ir=new ut),Gr(rc,va,ze,_t,ir)}}return wi?(ir||(ir=new ut),hr(ae,ye,ze,_t,Gr,ir)):!1}function nr(ae){if(!G_(ae)||Un(ae))return!1;var ye=H_(ae)?ge:q;return ye.test(dl(ae))}function wr(ae){return Ed(ae)&&V_(ae.length)&&!!$[Wt(ae)]}function br(ae){if(!AN(ae))return Lt(ae);var ye=[];for(var ze in Object(ae))Q.call(ae,ze)&&ze!="constructor"&&ye.push(ze);return ye}function Zt(ae,ye,ze,_t,Gr,ir){var dn=ze&i,Fn=ae.length,ti=ye.length;if(Fn!=ti&&!(dn&&ti>Fn))return!1;var sn=ir.get(ae);if(sn&&ir.get(ye))return sn==ye;var ls=-1,no=!0,wi=ze&s?new wt:void 0;for(ir.set(ae,ye),ir.set(ye,ae);++ls<Fn;){var Ps=ae[ls],Ts=ye[ls];if(_t)var rc=dn?_t(Ts,Ps,ls,ye,ae,ir):_t(Ps,Ts,ls,ae,ye,ir);if(rc!==void 0){if(rc)continue;no=!1;break}if(wi){if(!Ee(ye,function(va,hl){if(!De(wi,hl)&&(Ps===va||Gr(Ps,va,ze,_t,ir)))return wi.push(hl)})){no=!1;break}}else if(!(Ps===Ts||Gr(Ps,Ts,ze,_t,ir))){no=!1;break}}return ir.delete(ae),ir.delete(ye),no}function dr(ae,ye,ze,_t,Gr,ir,dn){switch(ze){case w:if(ae.byteLength!=ye.byteLength||ae.byteOffset!=ye.byteOffset)return!1;ae=ae.buffer,ye=ye.buffer;case j:return!(ae.byteLength!=ye.byteLength||!ir(new Qe(ae),new Qe(ye)));case u:case f:case T:return W_(+ae,+ye);case h:return ae.name==ye.name&&ae.message==ye.message;case O:case x:return ae==ye+"";case v:var Fn=Te;case F:var ti=_t&i;if(Fn||(Fn=We),ae.size!=ye.size&&!ti)return!1;var sn=dn.get(ae);if(sn)return sn==ye;_t|=s,dn.set(ae,ye);var ls=Zt(Fn(ae),Fn(ye),_t,Gr,ir,dn);return dn.delete(ae),ls;case L:if(Y)return Y.call(ae)==Y.call(ye)}return!1}function hr(ae,ye,ze,_t,Gr,ir){var dn=ze&i,Fn=Qr(ae),ti=Fn.length,sn=Qr(ye),ls=sn.length;if(ti!=ls&&!dn)return!1;for(var no=ti;no--;){var wi=Fn[no];if(!(dn?wi in ye:Q.call(ye,wi)))return!1}var Ps=ir.get(ae);if(Ps&&ir.get(ye))return Ps==ye;var Ts=!0;ir.set(ae,ye),ir.set(ye,ae);for(var rc=dn;++no<ti;){wi=Fn[no];var va=ae[wi],hl=ye[wi];if(_t)var J_=dn?_t(hl,va,wi,ye,ae,ir):_t(va,hl,wi,ae,ye,ir);if(!(J_===void 0?va===hl||Gr(va,hl,ze,_t,ir):J_)){Ts=!1;break}rc||(rc=wi=="constructor")}if(Ts&&!rc){var e0=ae.constructor,t0=ye.constructor;e0!=t0&&"constructor"in ae&&"constructor"in ye&&!(typeof e0=="function"&&e0 instanceof e0&&typeof t0=="function"&&t0 instanceof t0)&&(Ts=!1)}return ir.delete(ae),ir.delete(ye),Ts}function Qr(ae){return Ft(ae,PN,tn)}function xr(ae,ye){var ze=ae.__data__;return $n(ye)?ze[typeof ye=="string"?"string":"hash"]:ze.map}function Pr(ae,ye){var ze=qe(ae,ye);return nr(ze)?ze:void 0}function en(ae){var ye=Q.call(ae,vt),ze=ae[vt];try{ae[vt]=void 0;var _t=!0}catch{}var Gr=he.call(ae);return _t&&(ye?ae[vt]=ze:delete ae[vt]),Gr}var tn=er?function(ae){return ae==null?[]:(ae=Object(ae),ce(er(ae),function(ye){return bt.call(ae,ye)}))}:TN,Lr=Wt;(jt&&Lr(new jt(new ArrayBuffer(1)))!=w||Et&&Lr(new Et)!=v||lt&&Lr(lt.resolve())!=I||Ot&&Lr(new Ot)!=F||te&&Lr(new te)!=ne)&&(Lr=function(ae){var ye=Wt(ae),ze=ye==C?ae.constructor:void 0,_t=ze?dl(ze):"";if(_t)switch(_t){case Ce:return w;case Ne:return v;case ke:return I;case xt:return F;case z:return ne}return ye});function Bn(ae,ye){return ye=ye??o,!!ye&&(typeof ae=="number"||ue.test(ae))&&ae>-1&&ae%1==0&&ae<ye}function $n(ae){var ye=typeof ae;return ye=="string"||ye=="number"||ye=="symbol"||ye=="boolean"?ae!=="__proto__":ae===null}function Un(ae){return!!le&&le in ae}function AN(ae){var ye=ae&&ae.constructor,ze=typeof ye=="function"&&ye.prototype||W;return ae===ze}function IN(ae){return he.call(ae)}function dl(ae){if(ae!=null){try{return U.call(ae)}catch{}try{return ae+""}catch{}}return""}function W_(ae,ye){return ae===ye||ae!==ae&&ye!==ye}var kN=Jt(function(){return arguments}())?Jt:function(ae){return Ed(ae)&&Q.call(ae,"callee")&&!bt.call(ae,"callee")},Qp=Array.isArray;function CN(ae){return ae!=null&&V_(ae.length)&&!H_(ae)}var Ey=sr||NN;function RN(ae,ye){return Yt(ae,ye)}function H_(ae){if(!G_(ae))return!1;var ye=Wt(ae);return ye==g||ye==y||ye==l||ye==D}function V_(ae){return typeof ae=="number"&&ae>-1&&ae%1==0&&ae<=o}function G_(ae){var ye=typeof ae;return ae!=null&&(ye=="object"||ye=="function")}function Ed(ae){return ae!=null&&typeof ae=="object"}var Y_=re?Ve(re):wr;function PN(ae){return CN(ae)?Le(ae):br(ae)}function TN(){return[]}function NN(){return!1}t.exports=RN})(b1,b1.exports);var tR=b1.exports;const mG=An(tR);var rR={exports:{}};(function(t,e){var r=function(){var n=function(O,F){var x=236,L=17,J=O,ne=s[F],j=null,w=0,m=null,d=[],p={},_=function(H,K){w=J*4+17,j=function(A){for(var V=new Array(A),se=0;se<A;se+=1){V[se]=new Array(A);for(var X=0;X<A;X+=1)V[se][X]=null}return V}(w),N(0,0),N(w-7,0),N(0,w-7),b(),S(),P(H,K),J>=7&&R(H),m==null&&(m=$(J,ne,d)),q(m,K)},N=function(H,K){for(var A=-1;A<=7;A+=1)if(!(H+A<=-1||w<=H+A))for(var V=-1;V<=7;V+=1)K+V<=-1||w<=K+V||(0<=A&&A<=6&&(V==0||V==6)||0<=V&&V<=6&&(A==0||A==6)||2<=A&&A<=4&&2<=V&&V<=4?j[H+A][K+V]=!0:j[H+A][K+V]=!1)},E=function(){for(var H=0,K=0,A=0;A<8;A+=1){_(!0,A);var V=a.getLostPoint(p);(A==0||H>V)&&(H=V,K=A)}return K},S=function(){for(var H=8;H<w-8;H+=1)j[H][6]==null&&(j[H][6]=H%2==0);for(var K=8;K<w-8;K+=1)j[6][K]==null&&(j[6][K]=K%2==0)},b=function(){for(var H=a.getPatternPosition(J),K=0;K<H.length;K+=1)for(var A=0;A<H.length;A+=1){var V=H[K],se=H[A];if(j[V][se]==null)for(var X=-2;X<=2;X+=1)for(var re=-2;re<=2;re+=1)X==-2||X==2||re==-2||re==2||X==0&&re==0?j[V+X][se+re]=!0:j[V+X][se+re]=!1}},R=function(H){for(var K=a.getBCHTypeNumber(J),A=0;A<18;A+=1){var V=!H&&(K>>A&1)==1;j[Math.floor(A/3)][A%3+w-8-3]=V}for(var A=0;A<18;A+=1){var V=!H&&(K>>A&1)==1;j[A%3+w-8-3][Math.floor(A/3)]=V}},P=function(H,K){for(var A=ne<<3|K,V=a.getBCHTypeInfo(A),se=0;se<15;se+=1){var X=!H&&(V>>se&1)==1;se<6?j[se][8]=X:se<8?j[se+1][8]=X:j[w-15+se][8]=X}for(var se=0;se<15;se+=1){var X=!H&&(V>>se&1)==1;se<8?j[8][w-se-1]=X:se<9?j[8][15-se-1+1]=X:j[8][15-se-1]=X}j[w-8][8]=!H},q=function(H,K){for(var A=-1,V=w-1,se=7,X=0,re=a.getMaskFunction(K),ce=w-1;ce>0;ce-=2)for(ce==6&&(ce-=1);;){for(var be=0;be<2;be+=1)if(j[V][ce-be]==null){var Ee=!1;X<H.length&&(Ee=(H[X]>>>se&1)==1);var Ae=re(V,ce-be);Ae&&(Ee=!Ee),j[V][ce-be]=Ee,se-=1,se==-1&&(X+=1,se=7)}if(V+=A,V<0||w<=V){V-=A,A=-A;break}}},ue=function(H,K){for(var A=0,V=0,se=0,X=new Array(K.length),re=new Array(K.length),ce=0;ce<K.length;ce+=1){var be=K[ce].dataCount,Ee=K[ce].totalCount-be;V=Math.max(V,be),se=Math.max(se,Ee),X[ce]=new Array(be);for(var Ae=0;Ae<X[ce].length;Ae+=1)X[ce][Ae]=255&H.getBuffer()[Ae+A];A+=be;var Ve=a.getErrorCorrectPolynomial(Ee),De=l(X[ce],Ve.getLength()-1),qe=De.mod(Ve);re[ce]=new Array(Ve.getLength()-1);for(var Ae=0;Ae<re[ce].length;Ae+=1){var Te=Ae+qe.getLength()-re[ce].length;re[ce][Ae]=Te>=0?qe.getAt(Te):0}}for(var et=0,Ae=0;Ae<K.length;Ae+=1)et+=K[Ae].totalCount;for(var We=new Array(et),Ze=0,Ae=0;Ae<V;Ae+=1)for(var ce=0;ce<K.length;ce+=1)Ae<X[ce].length&&(We[Ze]=X[ce][Ae],Ze+=1);for(var Ae=0;Ae<se;Ae+=1)for(var ce=0;ce<K.length;ce+=1)Ae<re[ce].length&&(We[Ze]=re[ce][Ae],Ze+=1);return We},$=function(H,K,A){for(var V=u.getRSBlocks(H,K),se=f(),X=0;X<A.length;X+=1){var re=A[X];se.put(re.getMode(),4),se.put(re.getLength(),a.getLengthInBits(re.getMode(),H)),re.write(se)}for(var ce=0,X=0;X<V.length;X+=1)ce+=V[X].dataCount;if(se.getLengthInBits()>ce*8)throw"code length overflow. ("+se.getLengthInBits()+">"+ce*8+")";for(se.getLengthInBits()+4<=ce*8&&se.put(0,4);se.getLengthInBits()%8!=0;)se.putBit(!1);for(;!(se.getLengthInBits()>=ce*8||(se.put(x,8),se.getLengthInBits()>=ce*8));)se.put(L,8);return ue(se,V)};p.addData=function(H,K){K=K||"Byte";var A=null;switch(K){case"Numeric":A=h(H);break;case"Alphanumeric":A=g(H);break;case"Byte":A=y(H);break;case"Kanji":A=v(H);break;default:throw"mode:"+K}d.push(A),m=null},p.isDark=function(H,K){if(H<0||w<=H||K<0||w<=K)throw H+","+K;return j[H][K]},p.getModuleCount=function(){return w},p.make=function(){if(J<1){for(var H=1;H<40;H++){for(var K=u.getRSBlocks(H,ne),A=f(),V=0;V<d.length;V++){var se=d[V];A.put(se.getMode(),4),A.put(se.getLength(),a.getLengthInBits(se.getMode(),H)),se.write(A)}for(var X=0,V=0;V<K.length;V++)X+=K[V].dataCount;if(A.getLengthInBits()<=X*8)break}J=H}_(!1,E())},p.createTableTag=function(H,K){H=H||2,K=typeof K>"u"?H*4:K;var A="";A+='<table style="',A+=" border-width: 0px; border-style: none;",A+=" border-collapse: collapse;",A+=" padding: 0px; margin: "+K+"px;",A+='">',A+="<tbody>";for(var V=0;V<p.getModuleCount();V+=1){A+="<tr>";for(var se=0;se<p.getModuleCount();se+=1)A+='<td style="',A+=" border-width: 0px; border-style: none;",A+=" border-collapse: collapse;",A+=" padding: 0px; margin: 0px;",A+=" width: "+H+"px;",A+=" height: "+H+"px;",A+=" background-color: ",A+=p.isDark(V,se)?"#000000":"#ffffff",A+=";",A+='"/>';A+="</tr>"}return A+="</tbody>",A+="</table>",A},p.createSvgTag=function(H,K,A,V){var se={};typeof arguments[0]=="object"&&(se=arguments[0],H=se.cellSize,K=se.margin,A=se.alt,V=se.title),H=H||2,K=typeof K>"u"?H*4:K,A=typeof A=="string"?{text:A}:A||{},A.text=A.text||null,A.id=A.text?A.id||"qrcode-description":null,V=typeof V=="string"?{text:V}:V||{},V.text=V.text||null,V.id=V.text?V.id||"qrcode-title":null;var X=p.getModuleCount()*H+K*2,re,ce,be,Ee,Ae="",Ve;for(Ve="l"+H+",0 0,"+H+" -"+H+",0 0,-"+H+"z ",Ae+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',Ae+=se.scalable?"":' width="'+X+'px" height="'+X+'px"',Ae+=' viewBox="0 0 '+X+" "+X+'" ',Ae+=' preserveAspectRatio="xMinYMin meet"',Ae+=V.text||A.text?' role="img" aria-labelledby="'+oe([V.id,A.id].join(" ").trim())+'"':"",Ae+=">",Ae+=V.text?'<title id="'+oe(V.id)+'">'+oe(V.text)+"</title>":"",Ae+=A.text?'<description id="'+oe(A.id)+'">'+oe(A.text)+"</description>":"",Ae+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',Ae+='<path d="',be=0;be<p.getModuleCount();be+=1)for(Ee=be*H+K,re=0;re<p.getModuleCount();re+=1)p.isDark(be,re)&&(ce=re*H+K,Ae+="M"+ce+","+Ee+Ve);return Ae+='" stroke="transparent" fill="black"/>',Ae+="</svg>",Ae},p.createDataURL=function(H,K){H=H||2,K=typeof K>"u"?H*4:K;var A=p.getModuleCount()*H+K*2,V=K,se=A-K;return D(A,A,function(X,re){if(V<=X&&X<se&&V<=re&&re<se){var ce=Math.floor((X-V)/H),be=Math.floor((re-V)/H);return p.isDark(be,ce)?0:1}else return 1})},p.createImgTag=function(H,K,A){H=H||2,K=typeof K>"u"?H*4:K;var V=p.getModuleCount()*H+K*2,se="";return se+="<img",se+=' src="',se+=p.createDataURL(H,K),se+='"',se+=' width="',se+=V,se+='"',se+=' height="',se+=V,se+='"',A&&(se+=' alt="',se+=oe(A),se+='"'),se+="/>",se};var oe=function(H){for(var K="",A=0;A<H.length;A+=1){var V=H.charAt(A);switch(V){case"<":K+="&lt;";break;case">":K+="&gt;";break;case"&":K+="&amp;";break;case'"':K+="&quot;";break;default:K+=V;break}}return K},ee=function(H){var K=1;H=typeof H>"u"?K*2:H;var A=p.getModuleCount()*K+H*2,V=H,se=A-H,X,re,ce,be,Ee,Ae={"██":"█","█ ":"▀"," █":"▄","  ":" "},Ve={"██":"▀","█ ":"▀"," █":" ","  ":" "},De="";for(X=0;X<A;X+=2){for(ce=Math.floor((X-V)/K),be=Math.floor((X+1-V)/K),re=0;re<A;re+=1)Ee="█",V<=re&&re<se&&V<=X&&X<se&&p.isDark(ce,Math.floor((re-V)/K))&&(Ee=" "),V<=re&&re<se&&V<=X+1&&X+1<se&&p.isDark(be,Math.floor((re-V)/K))?Ee+=" ":Ee+="█",De+=H<1&&X+1>=se?Ve[Ee]:Ae[Ee];De+=`
`}return A%2&&H>0?De.substring(0,De.length-A-1)+Array(A+1).join("▀"):De.substring(0,De.length-1)};return p.createASCII=function(H,K){if(H=H||1,H<2)return ee(K);H-=1,K=typeof K>"u"?H*2:K;var A=p.getModuleCount()*H+K*2,V=K,se=A-K,X,re,ce,be,Ee=Array(H+1).join("██"),Ae=Array(H+1).join("  "),Ve="",De="";for(X=0;X<A;X+=1){for(ce=Math.floor((X-V)/H),De="",re=0;re<A;re+=1)be=1,V<=re&&re<se&&V<=X&&X<se&&p.isDark(ce,Math.floor((re-V)/H))&&(be=0),De+=be?Ee:Ae;for(ce=0;ce<H;ce+=1)Ve+=De+`
`}return Ve.substring(0,Ve.length-1)},p.renderTo2dContext=function(H,K){K=K||2;for(var A=p.getModuleCount(),V=0;V<A;V++)for(var se=0;se<A;se++)H.fillStyle=p.isDark(V,se)?"black":"white",H.fillRect(V*K,se*K,K,K)},p};n.stringToBytesFuncs={default:function(O){for(var F=[],x=0;x<O.length;x+=1){var L=O.charCodeAt(x);F.push(L&255)}return F}},n.stringToBytes=n.stringToBytesFuncs.default,n.createStringToBytes=function(O,F){var x=function(){for(var J=C(O),ne=function(){var S=J.read();if(S==-1)throw"eof";return S},j=0,w={};;){var m=J.read();if(m==-1)break;var d=ne(),p=ne(),_=ne(),N=String.fromCharCode(m<<8|d),E=p<<8|_;w[N]=E,j+=1}if(j!=F)throw j+" != "+F;return w}(),L=63;return function(J){for(var ne=[],j=0;j<J.length;j+=1){var w=J.charCodeAt(j);if(w<128)ne.push(w);else{var m=x[J.charAt(j)];typeof m=="number"?(m&255)==m?ne.push(m):(ne.push(m>>>8),ne.push(m&255)):ne.push(L)}}return ne}};var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},s={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a=function(){var O=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],F=1335,x=7973,L=21522,J={},ne=function(j){for(var w=0;j!=0;)w+=1,j>>>=1;return w};return J.getBCHTypeInfo=function(j){for(var w=j<<10;ne(w)-ne(F)>=0;)w^=F<<ne(w)-ne(F);return(j<<10|w)^L},J.getBCHTypeNumber=function(j){for(var w=j<<12;ne(w)-ne(x)>=0;)w^=x<<ne(w)-ne(x);return j<<12|w},J.getPatternPosition=function(j){return O[j-1]},J.getMaskFunction=function(j){switch(j){case o.PATTERN000:return function(w,m){return(w+m)%2==0};case o.PATTERN001:return function(w,m){return w%2==0};case o.PATTERN010:return function(w,m){return m%3==0};case o.PATTERN011:return function(w,m){return(w+m)%3==0};case o.PATTERN100:return function(w,m){return(Math.floor(w/2)+Math.floor(m/3))%2==0};case o.PATTERN101:return function(w,m){return w*m%2+w*m%3==0};case o.PATTERN110:return function(w,m){return(w*m%2+w*m%3)%2==0};case o.PATTERN111:return function(w,m){return(w*m%3+(w+m)%2)%2==0};default:throw"bad maskPattern:"+j}},J.getErrorCorrectPolynomial=function(j){for(var w=l([1],0),m=0;m<j;m+=1)w=w.multiply(l([1,c.gexp(m)],0));return w},J.getLengthInBits=function(j,w){if(1<=w&&w<10)switch(j){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;case i.MODE_KANJI:return 8;default:throw"mode:"+j}else if(w<27)switch(j){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw"mode:"+j}else if(w<41)switch(j){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw"mode:"+j}else throw"type:"+w},J.getLostPoint=function(j){for(var w=j.getModuleCount(),m=0,d=0;d<w;d+=1)for(var p=0;p<w;p+=1){for(var _=0,N=j.isDark(d,p),E=-1;E<=1;E+=1)if(!(d+E<0||w<=d+E))for(var S=-1;S<=1;S+=1)p+S<0||w<=p+S||E==0&&S==0||N==j.isDark(d+E,p+S)&&(_+=1);_>5&&(m+=3+_-5)}for(var d=0;d<w-1;d+=1)for(var p=0;p<w-1;p+=1){var b=0;j.isDark(d,p)&&(b+=1),j.isDark(d+1,p)&&(b+=1),j.isDark(d,p+1)&&(b+=1),j.isDark(d+1,p+1)&&(b+=1),(b==0||b==4)&&(m+=3)}for(var d=0;d<w;d+=1)for(var p=0;p<w-6;p+=1)j.isDark(d,p)&&!j.isDark(d,p+1)&&j.isDark(d,p+2)&&j.isDark(d,p+3)&&j.isDark(d,p+4)&&!j.isDark(d,p+5)&&j.isDark(d,p+6)&&(m+=40);for(var p=0;p<w;p+=1)for(var d=0;d<w-6;d+=1)j.isDark(d,p)&&!j.isDark(d+1,p)&&j.isDark(d+2,p)&&j.isDark(d+3,p)&&j.isDark(d+4,p)&&!j.isDark(d+5,p)&&j.isDark(d+6,p)&&(m+=40);for(var R=0,p=0;p<w;p+=1)for(var d=0;d<w;d+=1)j.isDark(d,p)&&(R+=1);var P=Math.abs(100*R/w/w-50)/5;return m+=P*10,m},J}(),c=function(){for(var O=new Array(256),F=new Array(256),x=0;x<8;x+=1)O[x]=1<<x;for(var x=8;x<256;x+=1)O[x]=O[x-4]^O[x-5]^O[x-6]^O[x-8];for(var x=0;x<255;x+=1)F[O[x]]=x;var L={};return L.glog=function(J){if(J<1)throw"glog("+J+")";return F[J]},L.gexp=function(J){for(;J<0;)J+=255;for(;J>=256;)J-=255;return O[J]},L}();function l(O,F){if(typeof O.length>"u")throw O.length+"/"+F;var x=function(){for(var J=0;J<O.length&&O[J]==0;)J+=1;for(var ne=new Array(O.length-J+F),j=0;j<O.length-J;j+=1)ne[j]=O[j+J];return ne}(),L={};return L.getAt=function(J){return x[J]},L.getLength=function(){return x.length},L.multiply=function(J){for(var ne=new Array(L.getLength()+J.getLength()-1),j=0;j<L.getLength();j+=1)for(var w=0;w<J.getLength();w+=1)ne[j+w]^=c.gexp(c.glog(L.getAt(j))+c.glog(J.getAt(w)));return l(ne,0)},L.mod=function(J){if(L.getLength()-J.getLength()<0)return L;for(var ne=c.glog(L.getAt(0))-c.glog(J.getAt(0)),j=new Array(L.getLength()),w=0;w<L.getLength();w+=1)j[w]=L.getAt(w);for(var w=0;w<J.getLength();w+=1)j[w]^=c.gexp(c.glog(J.getAt(w))+ne);return l(j,0).mod(J)},L}var u=function(){var O=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],F=function(J,ne){var j={};return j.totalCount=J,j.dataCount=ne,j},x={},L=function(J,ne){switch(ne){case s.L:return O[(J-1)*4+0];case s.M:return O[(J-1)*4+1];case s.Q:return O[(J-1)*4+2];case s.H:return O[(J-1)*4+3];default:return}};return x.getRSBlocks=function(J,ne){var j=L(J,ne);if(typeof j>"u")throw"bad rs block @ typeNumber:"+J+"/errorCorrectionLevel:"+ne;for(var w=j.length/3,m=[],d=0;d<w;d+=1)for(var p=j[d*3+0],_=j[d*3+1],N=j[d*3+2],E=0;E<p;E+=1)m.push(F(_,N));return m},x}(),f=function(){var O=[],F=0,x={};return x.getBuffer=function(){return O},x.getAt=function(L){var J=Math.floor(L/8);return(O[J]>>>7-L%8&1)==1},x.put=function(L,J){for(var ne=0;ne<J;ne+=1)x.putBit((L>>>J-ne-1&1)==1)},x.getLengthInBits=function(){return F},x.putBit=function(L){var J=Math.floor(F/8);O.length<=J&&O.push(0),L&&(O[J]|=128>>>F%8),F+=1},x},h=function(O){var F=i.MODE_NUMBER,x=O,L={};L.getMode=function(){return F},L.getLength=function(j){return x.length},L.write=function(j){for(var w=x,m=0;m+2<w.length;)j.put(J(w.substring(m,m+3)),10),m+=3;m<w.length&&(w.length-m==1?j.put(J(w.substring(m,m+1)),4):w.length-m==2&&j.put(J(w.substring(m,m+2)),7))};var J=function(j){for(var w=0,m=0;m<j.length;m+=1)w=w*10+ne(j.charAt(m));return w},ne=function(j){if("0"<=j&&j<="9")return j.charCodeAt(0)-48;throw"illegal char :"+j};return L},g=function(O){var F=i.MODE_ALPHA_NUM,x=O,L={};L.getMode=function(){return F},L.getLength=function(ne){return x.length},L.write=function(ne){for(var j=x,w=0;w+1<j.length;)ne.put(J(j.charAt(w))*45+J(j.charAt(w+1)),11),w+=2;w<j.length&&ne.put(J(j.charAt(w)),6)};var J=function(ne){if("0"<=ne&&ne<="9")return ne.charCodeAt(0)-48;if("A"<=ne&&ne<="Z")return ne.charCodeAt(0)-65+10;switch(ne){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+ne}};return L},y=function(O){var F=i.MODE_8BIT_BYTE,x=n.stringToBytes(O),L={};return L.getMode=function(){return F},L.getLength=function(J){return x.length},L.write=function(J){for(var ne=0;ne<x.length;ne+=1)J.put(x[ne],8)},L},v=function(O){var F=i.MODE_KANJI,x=n.stringToBytesFuncs.SJIS;if(!x)throw"sjis not supported.";(function(ne,j){var w=x(ne);if(w.length!=2||(w[0]<<8|w[1])!=j)throw"sjis not supported."})("友",38726);var L=x(O),J={};return J.getMode=function(){return F},J.getLength=function(ne){return~~(L.length/2)},J.write=function(ne){for(var j=L,w=0;w+1<j.length;){var m=(255&j[w])<<8|255&j[w+1];if(33088<=m&&m<=40956)m-=33088;else if(57408<=m&&m<=60351)m-=49472;else throw"illegal char at "+(w+1)+"/"+m;m=(m>>>8&255)*192+(m&255),ne.put(m,13),w+=2}if(w<j.length)throw"illegal char at "+(w+1)},J},T=function(){var O=[],F={};return F.writeByte=function(x){O.push(x&255)},F.writeShort=function(x){F.writeByte(x),F.writeByte(x>>>8)},F.writeBytes=function(x,L,J){L=L||0,J=J||x.length;for(var ne=0;ne<J;ne+=1)F.writeByte(x[ne+L])},F.writeString=function(x){for(var L=0;L<x.length;L+=1)F.writeByte(x.charCodeAt(L))},F.toByteArray=function(){return O},F.toString=function(){var x="";x+="[";for(var L=0;L<O.length;L+=1)L>0&&(x+=","),x+=O[L];return x+="]",x},F},k=function(){var O=0,F=0,x=0,L="",J={},ne=function(w){L+=String.fromCharCode(j(w&63))},j=function(w){if(!(w<0)){if(w<26)return 65+w;if(w<52)return 97+(w-26);if(w<62)return 48+(w-52);if(w==62)return 43;if(w==63)return 47}throw"n:"+w};return J.writeByte=function(w){for(O=O<<8|w&255,F+=8,x+=1;F>=6;)ne(O>>>F-6),F-=6},J.flush=function(){if(F>0&&(ne(O<<6-F),O=0,F=0),x%3!=0)for(var w=3-x%3,m=0;m<w;m+=1)L+="="},J.toString=function(){return L},J},C=function(O){var F=O,x=0,L=0,J=0,ne={};ne.read=function(){for(;J<8;){if(x>=F.length){if(J==0)return-1;throw"unexpected end of file./"+J}var w=F.charAt(x);if(x+=1,w=="=")return J=0,-1;if(w.match(/^\s$/))continue;L=L<<6|j(w.charCodeAt(0)),J+=6}var m=L>>>J-8&255;return J-=8,m};var j=function(w){if(65<=w&&w<=90)return w-65;if(97<=w&&w<=122)return w-97+26;if(48<=w&&w<=57)return w-48+52;if(w==43)return 62;if(w==47)return 63;throw"c:"+w};return ne},I=function(O,F){var x=O,L=F,J=new Array(O*F),ne={};ne.setPixel=function(d,p,_){J[p*x+d]=_},ne.write=function(d){d.writeString("GIF87a"),d.writeShort(x),d.writeShort(L),d.writeByte(128),d.writeByte(0),d.writeByte(0),d.writeByte(0),d.writeByte(0),d.writeByte(0),d.writeByte(255),d.writeByte(255),d.writeByte(255),d.writeString(","),d.writeShort(0),d.writeShort(0),d.writeShort(x),d.writeShort(L),d.writeByte(0);var p=2,_=w(p);d.writeByte(p);for(var N=0;_.length-N>255;)d.writeByte(255),d.writeBytes(_,N,255),N+=255;d.writeByte(_.length-N),d.writeBytes(_,N,_.length-N),d.writeByte(0),d.writeString(";")};var j=function(d){var p=d,_=0,N=0,E={};return E.write=function(S,b){if(S>>>b)throw"length over";for(;_+b>=8;)p.writeByte(255&(S<<_|N)),b-=8-_,S>>>=8-_,N=0,_=0;N=S<<_|N,_=_+b},E.flush=function(){_>0&&p.writeByte(N)},E},w=function(d){for(var p=1<<d,_=(1<<d)+1,N=d+1,E=m(),S=0;S<p;S+=1)E.add(String.fromCharCode(S));E.add(String.fromCharCode(p)),E.add(String.fromCharCode(_));var b=T(),R=j(b);R.write(p,N);var P=0,q=String.fromCharCode(J[P]);for(P+=1;P<J.length;){var ue=String.fromCharCode(J[P]);P+=1,E.contains(q+ue)?q=q+ue:(R.write(E.indexOf(q),N),E.size()<4095&&(E.size()==1<<N&&(N+=1),E.add(q+ue)),q=ue)}return R.write(E.indexOf(q),N),R.write(_,N),R.flush(),b.toByteArray()},m=function(){var d={},p=0,_={};return _.add=function(N){if(_.contains(N))throw"dup key:"+N;d[N]=p,p+=1},_.size=function(){return p},_.indexOf=function(N){return d[N]},_.contains=function(N){return typeof d[N]<"u"},_};return ne},D=function(O,F,x){for(var L=I(O,F),J=0;J<F;J+=1)for(var ne=0;ne<O;ne+=1)L.setPixel(ne,J,x(ne,J));var j=T();L.write(j);for(var w=k(),m=j.toByteArray(),d=0;d<m.length;d+=1)w.writeByte(m[d]);return w.flush(),"data:image/gif;base64,"+w};return n}();(function(){r.stringToBytesFuncs["UTF-8"]=function(n){function i(s){for(var o=[],a=0;a<s.length;a++){var c=s.charCodeAt(a);c<128?o.push(c):c<2048?o.push(192|c>>6,128|c&63):c<55296||c>=57344?o.push(224|c>>12,128|c>>6&63,128|c&63):(a++,c=65536+((c&1023)<<10|s.charCodeAt(a)&1023),o.push(240|c>>18,128|c>>12&63,128|c>>6&63,128|c&63))}return o}return i(n)}})(),function(n){t.exports=n()}(function(){return r})})(rR);var yG=rR.exports,wG=ui&&ui.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u2=ui&&ui.__assign||function(){return u2=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},u2.apply(this,arguments)};Object.defineProperty($x,"__esModule",{value:!0});var nR=$x.QRCode=void 0,bG=tR,vG=yG,Hw=Tt,xG=function(t){wG(e,t);function e(r){var n=t.call(this,r)||this;return n.canvasRef=Hw.createRef(),n}return e.prototype.download=function(r,n){if(this.canvasRef.current){var i=void 0;switch(r){case"jpg":i="image/jpeg";break;case"webp":i="image/webp";break;case"png":default:i="image/png";break}var s=this.canvasRef.current.toDataURL(i,1),o=document.createElement("a");o.download=n??"react-qrcode-logo",o.href=s,o.click()}},e.prototype.utf16to8=function(r){var n="",i,s,o=r.length;for(i=0;i<o;i++)s=r.charCodeAt(i),s>=1&&s<=127?n+=r.charAt(i):s>2047?(n+=String.fromCharCode(224|s>>12&15),n+=String.fromCharCode(128|s>>6&63),n+=String.fromCharCode(128|s>>0&63)):(n+=String.fromCharCode(192|s>>6&31),n+=String.fromCharCode(128|s>>0&63));return n},e.prototype.drawRoundedSquare=function(r,n,i,s,o,a,c,l){l.lineWidth=r,l.fillStyle=o,l.strokeStyle=o,i+=r/2,n+=r/2,s-=r,Array.isArray(a)||(a=[a,a,a,a]),a=a.map(function(y){return y=Math.min(y,s/2),y<0?0:y});var u=a[0]||0,f=a[1]||0,h=a[2]||0,g=a[3]||0;l.beginPath(),l.moveTo(n+u,i),l.lineTo(n+s-f,i),f&&l.quadraticCurveTo(n+s,i,n+s,i+f),l.lineTo(n+s,i+s-h),h&&l.quadraticCurveTo(n+s,i+s,n+s-h,i+s),l.lineTo(n+g,i+s),g&&l.quadraticCurveTo(n,i+s,n,i+s-g),l.lineTo(n,i+u),u&&l.quadraticCurveTo(n,i,n+u,i),l.closePath(),l.stroke(),c&&l.fill()},e.prototype.drawPositioningPattern=function(r,n,i,s,o,a,c){c===void 0&&(c=[0,0,0,0]);var l=Math.ceil(n),u,f;typeof c!="number"&&!Array.isArray(c)?(u=c.outer||0,f=c.inner||0):(u=c,f=u);var h,g;typeof a!="string"?(h=a.outer,g=a.inner):(h=a,g=a);var y=s*n+i,v=o*n+i,T=n*7;this.drawRoundedSquare(l,v,y,T,h,u,!1,r),T=n*3,y+=n*2,v+=n*2,this.drawRoundedSquare(l,v,y,T,g,f,!0,r)},e.prototype.isInPositioninZone=function(r,n,i){return i.some(function(s){return n>=s.row&&n<=s.row+7&&r>=s.col&&r<=s.col+7})},e.prototype.transformPixelLengthIntoNumberOfCells=function(r,n){return r/n},e.prototype.isCoordinateInImage=function(r,n,i,s,o,a,c,l){if(l){var u=2,f=this.transformPixelLengthIntoNumberOfCells(o,c),h=this.transformPixelLengthIntoNumberOfCells(a,c),g=this.transformPixelLengthIntoNumberOfCells(i,c)-1,y=this.transformPixelLengthIntoNumberOfCells(s,c)-1;return n>=f-u&&n<=f+g+u&&r>=h-u&&r<=h+y+u}else return!1},e.prototype.shouldComponentUpdate=function(r){return!bG(this.props,r)},e.prototype.componentDidMount=function(){this.update()},e.prototype.componentDidUpdate=function(){this.update()},e.prototype.update=function(){var r,n=this.props,i=n.value,s=n.ecLevel,o=n.enableCORS,a=n.bgColor,c=n.fgColor,l=n.logoImage,u=n.logoOpacity,f=n.logoOnLoad,h=n.removeQrCodeBehindLogo,g=n.qrStyle,y=n.eyeRadius,v=n.eyeColor,T=n.logoPaddingStyle,k=+this.props.size,C=+this.props.quietZone,I=this.props.logoWidth?+this.props.logoWidth:0,D=this.props.logoHeight?+this.props.logoHeight:0,O=this.props.logoPadding?+this.props.logoPadding:0,F=vG(0,s);F.addData(this.utf16to8(i)),F.make();var x=(r=this.canvasRef)===null||r===void 0?void 0:r.current,L=x.getContext("2d"),J=k+2*C,ne=F.getModuleCount(),j=k/ne,w=window.devicePixelRatio||1;x.height=x.width=J*w,L.scale(w,w),L.fillStyle=a,L.fillRect(0,0,J,J);var m=C,d=[{row:0,col:0},{row:0,col:ne-7},{row:ne-7,col:0}];if(L.strokeStyle=c,g==="dots"){L.fillStyle=c;for(var p=j/2,_=0;_<ne;_++)for(var N=0;N<ne;N++)F.isDark(_,N)&&!this.isInPositioninZone(_,N,d)&&(L.beginPath(),L.arc(Math.round(N*j)+p+m,Math.round(_*j)+p+m,p/100*75,0,2*Math.PI,!1),L.closePath(),L.fill())}else if(g==="fluid"){for(var p=Math.ceil(j/2),_=0;_<ne;_++)for(var N=0;N<ne;N++)if(F.isDark(_,N)&&!this.isInPositioninZone(_,N,d)){var E=[!1,!1,!1,!1];_>0&&!F.isDark(_-1,N)&&N>0&&!F.isDark(_,N-1)&&(E[0]=!0),_>0&&!F.isDark(_-1,N)&&N<ne-1&&!F.isDark(_,N+1)&&(E[1]=!0),_<ne-1&&!F.isDark(_+1,N)&&N<ne-1&&!F.isDark(_,N+1)&&(E[2]=!0),_<ne-1&&!F.isDark(_+1,N)&&N>0&&!F.isDark(_,N-1)&&(E[3]=!0);var S=Math.ceil((N+1)*j)-Math.floor(N*j),b=Math.ceil((_+1)*j)-Math.floor(_*j);L.fillStyle=c,L.beginPath(),L.arc(Math.round(N*j)+p+m,Math.round(_*j)+p+m,p,0,2*Math.PI,!1),L.closePath(),L.fill(),E[0]||L.fillRect(Math.round(N*j)+m,Math.round(_*j)+m,S/2,b/2),E[1]||L.fillRect(Math.round(N*j)+m+Math.floor(S/2),Math.round(_*j)+m,S/2,b/2),E[2]||L.fillRect(Math.round(N*j)+m+Math.floor(S/2),Math.round(_*j)+m+Math.floor(b/2),S/2,b/2),E[3]||L.fillRect(Math.round(N*j)+m,Math.round(_*j)+m+Math.floor(b/2),S/2,b/2)}}else for(var _=0;_<ne;_++)for(var N=0;N<ne;N++)if(F.isDark(_,N)&&!this.isInPositioninZone(_,N,d)){L.fillStyle=c;var S=Math.ceil((N+1)*j)-Math.floor(N*j),b=Math.ceil((_+1)*j)-Math.floor(_*j);L.fillRect(Math.round(N*j)+m,Math.round(_*j)+m,S,b)}for(var R=0;R<3;R++){var P=d[R],_=P.row,N=P.col,q=y,ue=void 0;Array.isArray(q)&&(q=q[R]),typeof q=="number"&&(q=[q,q,q,q]),v?Array.isArray(v)?ue=v[R]:ue=v:ue=c,this.drawPositioningPattern(L,j,m,_,N,ue,q)}if(l){var $=new Image;o&&($.crossOrigin="Anonymous"),$.onload=function(oe){L.save();var ee=I||k*.2,H=D||ee,K=(k-ee)/2,A=(k-H)/2;if(h||O){L.beginPath(),L.strokeStyle=a,L.fillStyle=a;var V=ee+2*O,se=H+2*O,X=K+m-O,re=A+m-O;if(T==="circle"){var ce=X+V/2,be=re+se/2;L.ellipse(ce,be,V/2,se/2,0,0,2*Math.PI),L.stroke(),L.fill()}else L.fillRect(X,re,V,se)}L.globalAlpha=u,L.drawImage($,K+m,A+m,ee,H),L.restore(),f&&f(oe)},$.src=l}},e.prototype.render=function(){var r,n=+this.props.size+2*+this.props.quietZone;return Hw.createElement("canvas",{id:(r=this.props.id)!==null&&r!==void 0?r:"react-qrcode-logo",height:n,width:n,style:u2({height:n+"px",width:n+"px"},this.props.style),ref:this.canvasRef})},e.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},e}(Hw.Component);nR=$x.QRCode=xG;function _G(t){var e;const{walletConnectUri:r,logoImage:n,primaryColor:i}=t,{isDark:s}=Tt.useContext(ld),o=Tt.useMemo(()=>Vl.getParser(window.navigator.userAgent).getPlatformType()==="desktop",[]),[a]=Ro(void 0,{i18n:kr}),[c,l]=Tt.useState(!1),u=()=>{CE(r),l(!0),setTimeout(()=>{l(!1)},3e3)},f=document.documentElement,h="#FFFFFF",g="#000000",y=((e=getComputedStyle(f))===null||e===void 0||(e=e.getPropertyValue("--app-gray-800"))===null||e===void 0?void 0:e.trim())||"#1f2a37",v=i.toLowerCase()==="#ffffff"?"#000000":i;return pe.jsx("div",{className:"w3ajs-wallet-connect w3a-wallet-connect",children:pe.jsx("div",{className:"w3ajs-wallet-connect__container w3a-wallet-connect__container",children:pe.jsxs("div",{className:"w3a-wallet-connect__container-desktop",children:[pe.jsxs("div",{className:"w3ajs-wallet-connect-qr w3a-wallet-connect-qr rounded-md mb-2",tabIndex:0,role:"button",onClick:u,onKeyDown:()=>CE(r),children:[c&&pe.jsxs("div",{className:"tooltip",children:["Copied",pe.jsx("div",{className:"absolute border-8 border-b-0 border-r-transparent border-t-app-gray-900 border-l-transparent top-[100%] left-[calc(50%_-_8px)]"})]}),pe.jsx(nR,{size:o?300:260,eyeRadius:5,qrStyle:"dots",removeQrCodeBehindLogo:!0,logoImage:n||lV,value:r,logoHeight:32,logoWidth:32,logoPadding:10,eyeColor:s?h:v,bgColor:s?y:h,fgColor:s?h:g})]}),pe.jsx("div",{className:"text-xs",children:a("modal.external.walletconnect-copy")})]})})})}var SG=Tt.memo(_G);function Ux(t){const{title:e,goBack:r,closeModal:n,disableBackButton:i}=t;return pe.jsxs("div",{className:"flex flex-row justify-center items-center gap-1",children:[pe.jsx("div",{className:"flex flex-grow-1 flex-shrink-0 items-center justify-start mr-auto",children:!i&&pe.jsx("button",{type:"button",className:"w3a-external-back w3ajs-external-back",onClick:r,children:pe.jsx(Qc,{iconName:"arrow-left-light",darkIconName:"arrow-left-dark",width:"16",height:"16"})})}),pe.jsx("div",{className:"w3a-header__title flex-grow-0 flex-shrink truncate mr-6",children:e}),pe.jsx("div",{className:"flex flex-grow-1 flex-shrink-0 items-center justify-end ml-auto",children:pe.jsx("button",{type:"button",onClick:n,className:"w3a-header__button_wallet w3ajs-close-btn",children:pe.jsx(Qc,{iconName:"x-light",darkIconName:"x-dark"})})})]})}const EG=(t,e)=>{if(e!=null&&e.startsWith("https://"))return e;switch(t){case"chrome":return`https://chrome.google.com/webstore/detail/${e}`;case"firefox":return`https://addons.mozilla.org/firefox/addon/${e}`;case"edge":return`https://microsoftedge.microsoft.com/addons/detail/${e}`;default:return null}},AG=(t,e)=>{if(e!=null&&e.includes("https://"))return e;switch(t){case"android":return`https://play.google.com/store/apps/details?id=${e}`;case"ios":return`https://apps.apple.com/app/safepal-wallet/${e}`;default:return""}},IG=t=>{switch(t){case"ios":return"iOS";case"android":return"Android";default:return""}},kG=t=>t.charAt(0).toUpperCase()+t.slice(1);function iR(t){const{connectButton:e,goBack:r,closeModal:n}=t,[i]=Ro(void 0,{i18n:kr}),s=Tt.useMemo(()=>{const c=Vl.getParser(window.navigator.userAgent);return{platform:c.getPlatformType(),browser:c.getBrowserName().toLowerCase(),os:c.getOSName()}},[]),o=()=>{const c=e.walletRegistryItem.app||{};return Object.keys(c).reduce((u,f)=>{if(!["android","ios"].includes(f))return u;const h=c[f];if(!h)return u;const g=AG(f,h);if(!g)return u;const y=`${f}-light`,v=`${f}-dark`;return u.push(pe.jsx("li",{className:"w-full",children:pe.jsx("a",{href:g,rel:"noopener noreferrer",target:"_blank",children:pe.jsxs(el,{type:"button",variant:"tertiary",className:"w-full !justify-start flex items-center gap-2 wallet-link-btn",children:[pe.jsx(Wc,{imageId:y,darkImageId:v,hoverImageId:y,darkHoverImageId:v,height:"28",width:"28",isButton:!0}),pe.jsx("span",{className:"text-sm font-medium",children:i("modal.external.install-mobile-app",{os:IG(f)})})]})})},f)),u},[])},a=()=>{const c=s.browser==="brave"?"chrome":s.browser,l=e.walletRegistryItem.app||{},u=l.browser&&l.browser.includes(c)?l.browser:void 0,f=l[c]||u,h=f?EG(c,f):null;return[h?pe.jsx("li",{children:pe.jsx("a",{href:h,rel:"noopener noreferrer",target:"_blank",children:pe.jsxs(el,{type:"button",variant:"tertiary",className:"w-full !justify-start flex items-center gap-2 wallet-link-btn",children:[pe.jsx(Wc,{imageId:s.browser,darkImageId:s.browser,hoverImageId:s.browser,darkHoverImageId:s.browser,height:"30",width:"30",isButton:!0}),pe.jsx("span",{className:"text-sm font-medium",children:i("modal.external.install-browser-extension",{browser:kG(s.browser)})})]})})},s.browser):null,...o()]};return pe.jsxs("div",{children:[pe.jsx(Ux,{title:`${i("modal.external.get")} ${e.displayName}`,goBack:r,closeModal:n}),pe.jsx("div",{className:"flex justify-center my-6",children:pe.jsx(Wc,{imageId:`login-${e.name}`,hoverImageId:`login-${e.name}`,fallbackImageId:"wallet",height:"100",width:"100",isButton:!0,extension:e.imgExtension})}),pe.jsx("ul",{className:"flex flex-col gap-3",children:s.platform==="desktop"?a():o()})]})}function CG(t){const{connectButton:e,walletConnectUri:r,goBack:n,closeModal:i}=t,[s,o]=Tt.useState(!1),[a]=Ro(void 0,{i18n:kr}),c=()=>{o(!0)};return pe.jsx("div",{children:s?pe.jsx("div",{children:pe.jsx(iR,{connectButton:e,goBack:()=>o(!1),closeModal:i})}):pe.jsxs(pe.Fragment,{children:[pe.jsx(Ux,{title:e.displayName,goBack:n,closeModal:i}),r?pe.jsx(SG,{walletConnectUri:r,logoImage:`https://images.web3auth.io/login-${e.name}.${e.imgExtension}`,primaryColor:e.walletRegistryItem.primaryColor}):pe.jsx(eR,{modalStatus:wn.CONNECTING,canEmit:!1}),e.hasInstallLinks&&pe.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 bg-app-gray-50 dark:bg-app-gray-700 text-app-gray-900 dark:text-app-white px-3 py-2 rounded-xl",children:[pe.jsxs("span",{className:"text-sm truncate flex-grow-0",children:[a("modal.external.dont-have")," ",pe.jsx("span",{children:e.displayName}),"?"]}),pe.jsx(el,{type:"button",variant:"secondary",size:"xs",className:"flex-grow-1 flex-shrink-0",onClick:c,children:a("modal.external.get-wallet")})]})]})})}function RG(t){const{connectButton:e,walletConnectUri:r,goBack:n,closeModal:i}=t;return pe.jsx("div",{children:e.hasWalletConnect?pe.jsx(CG,{connectButton:e,walletConnectUri:r,goBack:n,closeModal:i}):pe.jsx(iR,{connectButton:e,goBack:n,closeModal:i})})}function PG(t){const e=encodeURIComponent(t.uri);return t.link.startsWith("http")?`${t.link}/wc?uri=${e}`:t.link?`${t.link}wc?uri=${e}`:""}function TG(t){const{hideExternalWallets:e,handleExternalWalletClick:r,closeModal:n,config:i={},walletConnectUri:s,showBackButton:o,modalStatus:a,chainNamespace:c,walletRegistry:l}=t,[u,f]=Tt.useState([]),[h,g]=Tt.useState(0),[y,v]=Tt.useState(null),[T,k]=Tt.useState(""),[C]=Ro(void 0,{i18n:kr}),I=Tt.useMemo(()=>l&&Object.keys(l.default).length>0&&Object.keys(l.others).length>0,[l]),D=Tt.useMemo(()=>{const L=Vl.getParser(window.navigator.userAgent);return{platform:L.getPlatformType(),os:L.getOSName(),browser:L.getBrowserName().toLowerCase()}},[]),O=L=>{k(L.target.value)},F=Tt.useMemo(()=>{const L={};return Object.keys(i).forEach(J=>{const ne=i[J];if(!ne.showOnModal){L[J]=!1;return}if(D.platform==="desktop"&&ne.showOnDesktop){L[J]=!0;return}if((D.platform==="mobile"||D.platform==="tablet")&&ne.showOnMobile){L[J]=!0;return}L[J]=!1}),dt.debug("adapter visibility map",L),L},[i,D.platform]);Tt.useEffect(()=>{var L;dt.debug("loaded external wallets",i,s),(((L=i[gr.WALLET_CONNECT_V2])===null||L===void 0?void 0:L.showOnModal)||!1)!==!1&&!s&&r({adapter:gr.WALLET_CONNECT_V2})},[i,r,s]),Tt.useEffect(()=>{if(I){const L=Object.keys(i).some(p=>p===gr.WALLET_CONNECT_V2),J=new Set(Object.keys(l.default)),ne=p=>Object.keys(p).reduce((_,N)=>{var E,S,b,R;if(F[N]===!1)return _;const P=p[N];let q="";if(D.platform===Vl.PLATFORMS_MAP.mobile){var ue,$;const K=P==null||(ue=P.mobile)===null||ue===void 0?void 0:ue.universal,A=P==null||($=P.mobile)===null||$===void 0?void 0:$.native;q=K||A}const oe={name:N,displayName:P.name,href:q,hasInjectedWallet:((E=i[N])===null||E===void 0?void 0:E.isInjected)||!1,hasWalletConnect:L&&((S=P.walletConnect)===null||S===void 0||(S=S.sdks)===null||S===void 0?void 0:S.includes("sign_v2")),hasInstallLinks:Object.keys(P.app||{}).length>0,walletRegistryItem:P,imgExtension:P.imgExtension||"svg"};if(!oe.hasInjectedWallet&&!oe.hasWalletConnect&&!oe.hasInstallLinks)return _;const ee=new Set((b=P.chains)===null||b===void 0?void 0:b.map(K=>K.split(":")[0])),H=new Set((R=P.injected)===null||R===void 0?void 0:R.map(K=>K.namespace));return!ee.has(c)&&!H.has(c)||_.push(oe),_},[]),j=ne(l.default),w=ne(l.others),m=Object.keys(i).reduce((p,_)=>(![gr.WALLET_CONNECT_V2].includes(_)&&!i[_].isInjected&&F[_]&&(dt.debug("custom adapter",_,i[_]),p.push({name:_,displayName:i[_].label||_,hasInjectedWallet:!1,hasWalletConnect:!1,hasInstallLinks:!1})),p),[]),d=[...j,...w];if(T){const p=d.concat(m).filter(_=>_.name.toLowerCase().includes(T.toLowerCase()));dt.debug("filteredLists",p),f(p)}else{const p=[...d.filter(_=>_.hasInjectedWallet&&J.has(_.name)),...m,...d.filter(_=>!_.hasInjectedWallet&&J.has(_.name))];f(p)}g(d.length+m.length),dt.debug("external buttons",d)}else{const L=Object.keys(i).reduce((J,ne)=>(dt.debug("external buttons",ne,F[ne]),![gr.WALLET_CONNECT_V2].includes(ne)&&F[ne]&&J.push({name:ne,displayName:i[ne].label||ne,hasInjectedWallet:i[ne].isInjected,hasWalletConnect:!1,hasInstallLinks:!1}),J),[]);f(L),g(L.length)}},[i,D,F,l,T,c,I]);const x=L=>{L.hasInjectedWallet||!L.hasWalletConnect&&!L.hasInstallLinks?r({adapter:L.name}):v(L)};return pe.jsx("div",{className:`w3ajs-external-wallet w3a-group ${h===0?"w3a-group-loader-height":""}`,children:pe.jsx("div",{className:"w3a-external-container w3ajs-external-container",children:h===0?pe.jsx(eR,{modalStatus:wn.CONNECTING,canEmit:!1}):a===wn.INITIALIZED&&(y?pe.jsx(RG,{connectButton:y,goBack:()=>v(null),walletConnectUri:s,closeModal:n}):pe.jsxs(pe.Fragment,{children:[pe.jsx(Ux,{disableBackButton:!o,title:C("modal.external.connect-wallet"),goBack:e,closeModal:n}),h>15&&pe.jsx("div",{className:"py-4",children:pe.jsx("input",{className:"w-full w3a-text-field",name:"passwordless-input",required:!0,value:T,placeholder:C("modal.external.search-wallet",{count:h}),onFocus:L=>{L.target.placeholder=""},onBlur:L=>{L.target.placeholder=C("modal.external.search-wallet",{count:h})},onChange:L=>O(L)})}),u.length===0?pe.jsx("div",{className:"w-full text-center text-app-gray-400 dark:text-app-gray-500 py-6 flex justify-center items-center",children:C("modal.external.no-wallets-found")}):pe.jsx("div",{className:`w3a-adapter-list-container ${h<15?"py-4":""}`,children:pe.jsxs("ul",{className:"w3a-adapter-list w3ajs-wallet-adapters",children:[u.map(L=>pe.jsxs("li",{className:"w3a-adapter-item w3a-adapter-item--full",children:[D.platform==="desktop"&&pe.jsx(Ww,{button:L,handleWalletClick:x}),D.platform!=="desktop"&&(L.href&&L.hasWalletConnect&&!L.hasInjectedWallet?pe.jsx("a",{href:L.href?PG({uri:s,link:L.href}):s,target:"_blank",className:"w-full",rel:"noreferrer noopener",children:pe.jsx(Ww,{button:L,handleWalletClick:x})}):pe.jsx(Ww,{button:L,handleWalletClick:x}))]},L.name+L.displayName)),h>10&&!T&&pe.jsxs("li",{className:"flex flex-col items-center justify-center gap-y-0.5 my-4 w-full mx-auto w3a-adapter-item--full",children:[pe.jsx("p",{className:"text-xs text-app-gray-500 dark:text-app-gray-400",children:C("modal.external.search-text")}),pe.jsx("p",{className:"text-xs font-medium text-app-gray-900 dark:text-app-white",children:C("modal.external.search-subtext")})]})]})})]}))})})}function NG(){const[t]=Ro(void 0,{i18n:kr});return pe.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[pe.jsx("div",{className:"text-xs text-app-gray-300 dark:text-app-gray-500",children:t("modal.footer.message-new")}),pe.jsx("img",{height:"16",src:"https://images.web3auth.io/web3auth-footer-logo-light.svg",alt:"Web3Auth Logo Light",className:"h-4 block dark:hidden"}),pe.jsx("img",{height:"16",src:"https://images.web3auth.io/web3auth-footer-logo-dark.svg",alt:"Web3Auth Logo Dark",className:"h-4 hidden dark:block"})]})}function MG(){return pe.jsx("div",{className:"w3a-modal__footer",children:pe.jsx("div",{className:"w3a-footer",children:pe.jsx("div",{children:pe.jsx("div",{children:pe.jsx(NG,{})})})})})}function OG(t){const{isDark:e}=Tt.useContext(ld),{onClose:r,appLogo:n,appName:i}=t,[s]=Ro(void 0,{i18n:kr}),o=[VC,HC].includes(n)?"":n,a=s("modal.header-subtitle-name",{appName:i});return pe.jsxs("div",{className:"w3a-modal__header",children:[pe.jsx("div",{className:"w3a-header",children:pe.jsxs("div",{children:[o&&pe.jsx("div",{className:"w3a-header__logo",children:pe.jsx("img",{src:o,alt:""})}),pe.jsx("div",{className:"w3a-header__title",children:s("modal.header-title")}),pe.jsxs("div",{className:"w3a-header__subtitle",children:[a,pe.jsxs("div",{className:"relative flex flex-col items-center group cursor-pointer",children:[pe.jsx(Qc,{iconName:`information-circle${e?"-light":""}`}),pe.jsxs("div",{className:"absolute top-4 z-20 flex-col items-center hidden mb-5 group-hover:flex",children:[pe.jsx("div",{className:"w-3 h-3 ml-[3px] -mb-2 rotate-45 bg-app-gray-50 dark:bg-app-gray-600"}),pe.jsxs("div",{className:`relative p-4 w-[270px] -translate-x-16 text-xs leading-none text-app-white rounded-md bg-app-gray-50 dark:bg-app-gray-600 shadow-lg ${a.length>34?"-ml-[100px]":""}`,children:[pe.jsx("div",{className:"text-xs font-medium mb-1 text-app-gray-900 dark:text-app-white",children:s("modal.header-tooltip-title")}),pe.jsx("div",{className:"text-xs text-app-gray-400",children:s("modal.header-tooltip-desc")})]})]})]})]})]})}),pe.jsx("button",{type:"button",onClick:r,className:"w3a-header__button w3ajs-close-btn ",children:pe.jsx(Qc,{iconName:"x-light",darkIconName:"x-dark"})})]})}const f2=Tt.memo(OG,(t,e)=>t.appLogo!==e.appLogo);f2.displayName="Header";const RE=(t,e={})=>{const r={};if(t===gr.AUTH)Bx.forEach(n=>{const i=e[n]||{name:cV[n],showOnMobile:!0,showOnModal:!0,showOnDesktop:!0};r[n]=Ie({},i)}),dt.debug("auth login method ui config",r);else throw st.invalidParams(`${t} is not a valid adapter`);return r},sR="https://api-passwordless.web3auth.io",LG=async()=>{try{const t=await Am(`${sR}/api/v3/user/location`);return t&&t.data.country?{country:t.data.country,dialCode:t.data.dial_code}:null}catch(t){return dt.error("error getting user country",t),null}},DG=async t=>{try{const e=await Cp(`${sR}/api/v3/phone_number/validate`,{phone_number:t});return e&&e.success?e.parsed_number:!1}catch(e){return dt.error("error validating phone number",e),e.status!==400}},oR=t=>{let e=t;return e||(e=(typeof window<"u"&&(window.navigator.userLanguage||window.navigator.language)||"en-US").split("-")[0]),Object.prototype.hasOwnProperty.call(uH,e)?e:uo.en};function BG(t){const{handleSocialLoginClick:e,adapter:r,isPrimaryBtn:n,isEmailVisible:i,isSmsVisible:s}=t,{isDark:o}=Tt.useContext(ld),[a,c]=Tt.useState(""),[l,u]=Tt.useState(""),[f,h]=Tt.useState(null),[g]=Ro(void 0,{i18n:kr}),y=async I=>{I.preventDefault();const D=a;if(i&&D.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i))return e({adapter:r,loginParams:{loginProvider:Rr.EMAIL_PASSWORDLESS,login_hint:D,name:"Email"}});if(s){const O=D.startsWith("+")?D:`${l}${D}`,F=await DG(O);if(F)return e({adapter:r,loginParams:{loginProvider:Rr.SMS_PASSWORDLESS,login_hint:typeof F=="string"?F:O,name:"Mobile"}})}h(!1)};Tt.useEffect(()=>{s&&(async()=>{const D=await LG();D&&D.dialCode&&u(D.dialCode)})()},[s]);const v=I=>{c(I.target.value),f===!1&&h(null)},T=Tt.useMemo(()=>i&&s?"modal.social.passwordless-title":i?"modal.social.email":"modal.social.phone",[i,s]),k=Tt.useMemo(()=>i&&s?"+(00)123456/name@example.com":i?"name@example.com":"+(00)123456",[i,s]),C=Tt.useMemo(()=>i&&s?"modal.errors-invalid-number-email":i?"modal.errors-invalid-email":"modal.errors-invalid-number",[i,s]);return pe.jsxs("div",{className:"w3ajs-passwordless w3a-group w3a-group--passwordless",children:[pe.jsxs("div",{className:"w3a-group__title",children:[g(T),s&&pe.jsxs("div",{className:"relative flex flex-col items-center cursor-pointer group",children:[pe.jsx(Qc,{iconName:`information-circle${o?"-light":""}`}),pe.jsxs("div",{className:"absolute z-20 flex-col items-center hidden mb-5 top-4 group-hover:flex",children:[pe.jsx("div",{className:"w-3 h-3 ml-[3px] -mb-2 rotate-45 bg-app-gray-50 dark:bg-app-gray-600"}),pe.jsxs("div",{className:`relative p-4 w-[300px] text-xs leading-none text-app-white rounded-md bg-app-gray-50 dark:bg-app-gray-600 shadow-lg ${s&&!i?"left-20":"left-8"}`,children:[pe.jsx("div",{className:"mb-1 text-xs font-medium text-app-gray-900 dark:text-app-white",children:g("modal.popup.phone-header")}),pe.jsx("div",{className:"text-xs text-app-gray-400",children:g("modal.popup.phone-body")})]})]})]})]}),pe.jsxs("form",{className:"w3ajs-passwordless-form",onSubmit:I=>y(I),children:[pe.jsx("input",{className:"w-full mb-4 w3a-text-field",name:"passwordless-input",required:!0,placeholder:`${g("modal.social.sms-placeholder-text")} ${k}`,onFocus:I=>{I.target.placeholder=""},onBlur:I=>{I.target.placeholder=`${g("modal.social.sms-placeholder-text")} ${k}`},onChange:I=>v(I)}),f===!1&&pe.jsx("div",{className:"w3a-sms-field--error",children:g(C)}),pe.jsx(el,{variant:n?"primary":"tertiary",disabled:a==="",className:"w-full",type:"submit",children:g("modal.social.passwordless-cta")})]})]})}var aR={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,n(a)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(aR);var $G=aR.exports;const Vw=An($G);function UG(t,e,r){const n=t===Rr.TWITTER?`login-twitter-x${e?"-light":"-dark"}`:`login-${t}${e?"-light":"-dark"}`,i=t===Rr.APPLE||t===Rr.GITHUB||t===Rr.TWITTER?n:`login-${t}-active`;return r?pe.jsx(Wc,{width:"20",imageId:i,hoverImageId:i,isButton:!0}):pe.jsx(Wc,{width:"20",imageId:n,hoverImageId:i,isButton:!0})}function FG(t){const[e,r]=Tt.useState(!1),[n,i]=Tt.useState(!1),{socialLoginsConfig:s={loginMethods:{},loginMethodsOrder:[],adapter:"",uiConfig:{}},handleSocialLoginClick:o}=t,{isDark:a}=Tt.useContext(ld),[c]=Ro(void 0,{i18n:kr}),l=()=>{i(!n)};Tt.useEffect(()=>{const v=Object.keys(s.loginMethods).filter(T=>s.loginMethods[T].showOnModal);r(v.length>4)},[s.loginMethods]);const u=Vw("w3a-adapter-list","w3ajs-socials-adapters",n?"":" w3a-adapter-list--shrink"),f=Vw("w3a-button-expand","w3ajs-button-expand",n?"w3a-button--rotate":""),h=c(n?"modal.social.view-less":"modal.social.view-more"),g=Object.keys(s.loginMethods).length+1,y=[Rr.WEBAUTHN,Rr.JWT,Rr.SMS_PASSWORDLESS,Rr.EMAIL_PASSWORDLESS,Rr.AUTHENTICATOR,Rr.PASSKEYS];return pe.jsxs("div",{className:"w3ajs-social-logins w3a-group",children:[pe.jsx("ul",{className:u,children:Object.keys(s.loginMethods).map(v=>{var T,k;const C=Dx(s.loginMethods[v].name||v),D=s.loginMethodsOrder.indexOf(v)+1||Object.keys(s.loginMethods).length+1,O=s.loginMethods[v].mainOption,F=(s==null||(T=s.uiConfig)===null||T===void 0?void 0:T.primaryButton)==="socialLogin"&&D===1,x=UG(v,a,F);if(s.loginMethods[v].showOnModal===!1||y.includes(v))return null;const L=Vw("w3a-adapter-item",(s==null||(k=s.uiConfig)===null||k===void 0?void 0:k.loginGridCol)===2?"col-span-3":"col-span-2");return O||D===1?pe.jsx("li",{className:"col-span-6 w3a-adapter-item",style:{order:D},children:pe.jsxs(el,{variant:"secondary",onClick:()=>o({adapter:s.adapter,loginParams:{loginProvider:v,name:C,login_hint:""}}),className:"w-full",title:C,children:[x,pe.jsx("p",{className:"ml-2",children:c("modal.social.continueCustom",{adapter:C})})]})},v):pe.jsx("li",{className:L,style:{order:D+g},children:pe.jsx(el,{variant:"secondary",onClick:()=>o({adapter:s.adapter,loginParams:{loginProvider:v,name:C,login_hint:""}}),className:"w-full",title:C,children:x})},v)})}),pe.jsx("div",{className:"w3a-social__policy",children:c("modal.social.policy")}),e&&pe.jsx("div",{className:"text-right",children:pe.jsx("button",{type:"button",className:f,onClick:l,children:pe.jsx("span",{className:"w3ajs-button-expand-text",children:h})})})]})}dt.enableAll();function jG(t){var e,r,n,i,s,o;const[a,c]=Tt.useState(["w3a-modal__inner"]),[l,u]=Tt.useState({externalWalletsVisibility:!1,status:wn.INITIALIZED,hasExternalWallets:!1,externalWalletsInitialized:!1,modalVisibility:!1,modalVisibilityDelayed:!1,postLoadingMessage:"",walletConnectUri:"",socialLoginsConfig:{loginMethods:{},loginMethodsOrder:[],adapter:"",uiConfig:{}},externalWalletsConfig:{},detailedLoaderAdapter:"",detailedLoaderAdapterName:"",showExternalWalletsOnly:!1}),[f]=Ro(void 0,{i18n:kr}),{stateListener:h,appLogo:g,appName:y,chainNamespace:v,walletRegistry:T,handleSocialLoginClick:k,handleExternalWalletClick:C,handleShowExternalWallets:I,closeModal:D}=t,[O,F]=Tt.useState("");Tt.useEffect(()=>{h.emit("MOUNTED"),h.on("STATE_UPDATED",_=>{dt.debug("state updated",_),u(N=>Sh(Io(N,_)))})},[h]),Tt.useEffect(()=>{let _;return l.modalVisibility?(u(N=>Ie(Ie({},N),{},{modalVisibilityDelayed:l.modalVisibility})),_=window.setTimeout(()=>{c(["w3a-modal__inner",l.modalVisibility?"w3a-modal__inner--active":""])},100)):(c(["w3a-modal__inner",l.modalVisibility?"w3a-modal__inner--active":""]),_=window.setTimeout(()=>{u(N=>Ie(Ie({},N),{},{modalVisibilityDelayed:l.modalVisibility}))},250)),()=>{clearTimeout(_)}},[l.modalVisibility]);const x=Tt.useCallback(()=>{l.status===wn.CONNECTED&&D(),l.status===wn.ERRORED&&u(_=>Ie(Ie({},_),{},{modalVisibility:!0,status:wn.INITIALIZED}))},[D,l.status]),L=Tt.useCallback(_=>{const{adapter:N}=_;u(E=>Ie(Ie({},E),{},{detailedLoaderAdapter:N,detailedLoaderAdapterName:$C[N]})),C(_)},[C]),J=_=>{const{loginParams:N}=_;u(E=>Ie(Ie({},E),{},{detailedLoaderAdapter:N.loginProvider,detailedLoaderAdapterName:N.name})),k(_)},ne=((e=l.socialLoginsConfig)===null||e===void 0||(e=e.uiConfig)===null||e===void 0?void 0:e.primaryButton)==="emailLogin",j=((r=l.socialLoginsConfig)===null||r===void 0||(r=r.uiConfig)===null||r===void 0?void 0:r.primaryButton)==="externalLogin",w=pe.jsx("div",{className:"w3ajs-external-wallet w3a-group",children:pe.jsx("div",{className:"w3a-external-toggle w3ajs-external-toggle",children:pe.jsx(el,{variant:j?"primary":"tertiary",type:"button",className:"w-full w3ajs-external-toggle__button",onClick:()=>{u(_=>Ie(Ie({},_),{},{externalWalletsVisibility:!0})),F("slide-enter"),I(l.externalWalletsInitialized),setTimeout(()=>{F("slide-exit")},300)},children:f("modal.external.connect")})})}),m=Tt.useMemo(()=>{var _,N;return l.showExternalWalletsOnly||Object.keys(((_=l.socialLoginsConfig)===null||_===void 0?void 0:_.loginMethods)||{}).length===0?!1:!!Object.entries(((N=l.socialLoginsConfig)===null||N===void 0?void 0:N.loginMethods)||{}).some(([S,b])=>S!==Rr.EMAIL_PASSWORDLESS&&b.showOnModal!==!1)},[l.showExternalWalletsOnly,(n=l.socialLoginsConfig)===null||n===void 0?void 0:n.loginMethods]);dt.info("modal state",l,m);const d=Tt.useMemo(()=>{var _;return(_=l.socialLoginsConfig)===null||_===void 0||(_=_.loginMethods[Rr.EMAIL_PASSWORDLESS])===null||_===void 0?void 0:_.showOnModal},[(i=l.socialLoginsConfig)===null||i===void 0?void 0:i.loginMethods]),p=Tt.useMemo(()=>{var _;return(_=l.socialLoginsConfig)===null||_===void 0||(_=_.loginMethods[Rr.SMS_PASSWORDLESS])===null||_===void 0?void 0:_.showOnModal},[(s=l.socialLoginsConfig)===null||s===void 0?void 0:s.loginMethods]);return l.modalVisibilityDelayed&&pe.jsx("div",{id:"w3a-modal",className:"w3a-modal",children:pe.jsxs("div",{className:`${a.join(" ")} ${l.status!==wn.INITIALIZED?"p-6 pt-7":""} ${(m||d||p)&&!l.externalWalletsVisibility?"":"wallet-adapter-container"}`,children:[l.status!==wn.INITIALIZED?pe.jsxs(pe.Fragment,{children:[pe.jsx(f2,{onClose:D,appLogo:g,appName:y}),pe.jsx("div",{className:"w3a-modal__content w3ajs-content",children:pe.jsx(oG,{onClose:x,appLogo:g,modalStatus:l.status,message:f(l.postLoadingMessage),adapter:l.detailedLoaderAdapter,adapterName:l.detailedLoaderAdapterName})})]}):pe.jsx("div",{className:`transition-wrapper ${O}`,children:(m||d||p)&&!l.externalWalletsVisibility?pe.jsxs(pe.Fragment,{children:[pe.jsx(f2,{onClose:D,appLogo:g,appName:y}),pe.jsxs("div",{className:"w3a-modal__content w3ajs-content",children:[m?pe.jsx(FG,{handleSocialLoginClick:_=>J(_),socialLoginsConfig:l.socialLoginsConfig}):null,(d||p)&&pe.jsx(BG,{isEmailVisible:d,isSmsVisible:p,adapter:(o=l.socialLoginsConfig)===null||o===void 0?void 0:o.adapter,handleSocialLoginClick:_=>J(_),isPrimaryBtn:ne}),l.hasExternalWallets&&w]})]}):pe.jsx("div",{className:"w3a-modal__content_external_wallet w3ajs-content",children:pe.jsx(TG,{modalStatus:l.status,showBackButton:m||d||p,handleExternalWalletClick:L,chainNamespace:v,walletConnectUri:l.walletConnectUri,config:l.externalWalletsConfig,hideExternalWallets:()=>u(_=>Ie(Ie({},_),{},{externalWalletsVisibility:!1})),walletRegistry:T,closeModal:D})})}),pe.jsx(MG,{})]})})}function zG(t){const e=document.getElementById("w3a-parent-container");e&&e.remove();const r=document.createElement("section");r.classList.add("w3a-parent-container"),r.setAttribute("id","w3a-parent-container"),r.style.zIndex=t,r.style.position="relative";const n=document.createElement("section");return n.setAttribute("id","w3a-container"),r.appendChild(n),document.body.appendChild(r),n}class qG extends Zc{constructor(e){super(),Pe(this,"uiConfig",void 0),Pe(this,"stateEmitter",void 0),Pe(this,"chainNamespace",void 0),Pe(this,"walletRegistry",void 0),Pe(this,"initModal",async()=>{const r={isDark:this.isDark},n=this.uiConfig.defaultLanguage||uo.en;return n===uo.de?Bo(()=>import("./german.json-CM4aQ55u.js"),[]).then(i=>(kr.addResourceBundle(n,"translation",i.default),kr.changeLanguage(n))).catch(i=>{dt.error(i)}):n===uo.ja?Bo(()=>import("./japanese.json-DxVPQu-j.js"),[]).then(i=>(kr.addResourceBundle(n,"translation",i.default),kr.changeLanguage(n))).catch(i=>{dt.error(i)}):n===uo.ko?Bo(()=>import("./korean.json-TWuJUjNI.js"),[]).then(i=>(kr.addResourceBundle(n,"translation",i.default),kr.changeLanguage(n))).catch(i=>{dt.error(i)}):n===uo.zh?Bo(()=>import("./mandarin.json-xSgnmXj2.js"),[]).then(i=>(kr.addResourceBundle(n,"translation",i.default),kr.changeLanguage(n))).catch(i=>{dt.error(i)}):n===uo.es?Bo(()=>import("./spanish.json-BEvgdvWb.js"),[]).then(i=>(kr.addResourceBundle(n,"translation",i.default),kr.changeLanguage(n))).catch(i=>{dt.error(i)}):n===uo.fr?Bo(()=>import("./french.json-BNQ3B02_.js"),[]).then(i=>(kr.addResourceBundle(n,"translation",i.default),kr.changeLanguage(n))).catch(i=>{dt.error(i)}):n===uo.pt?Bo(()=>import("./portuguese.json-Ca0Mqd6m.js"),[]).then(i=>(kr.addResourceBundle(n,"translation",i.default),kr.changeLanguage(n))).catch(i=>{dt.error(i)}):n===uo.nl?Bo(()=>import("./dutch.json-Dhde1pa6.js"),[]).then(i=>(kr.addResourceBundle(n,"translation",i.default),kr.changeLanguage(n))).catch(i=>{dt.error(i)}):n===uo.tr&&Bo(()=>import("./turkish.json-DHELY_sM.js"),[]).then(i=>(kr.addResourceBundle(n,"translation",i.default),kr.changeLanguage(n))).catch(i=>{dt.error(i)}),new Promise(i=>{var s;this.stateEmitter.once("MOUNTED",()=>(dt.info("rendered"),this.setState({status:wn.INITIALIZED}),i()));const o=zG(this.uiConfig.modalZIndex);if(r.isDark?o.classList.add("dark"):o.classList.remove("dark"),Pk(o).render(pe.jsx(ld.Provider,{value:r,children:pe.jsx(jG,{closeModal:this.closeModal,stateListener:this.stateEmitter,handleShowExternalWallets:this.handleShowExternalWallets,handleExternalWalletClick:this.handleExternalWalletClick,handleSocialLoginClick:this.handleSocialLoginClick,appLogo:r.isDark?this.uiConfig.logoDark:this.uiConfig.logoLight,appName:this.uiConfig.appName,chainNamespace:this.chainNamespace,walletRegistry:this.walletRegistry})})),(s=this.uiConfig)!==null&&s!==void 0&&s.theme){const c=document.getElementById("w3a-parent-container");MH(c,this.uiConfig.theme)}})}),Pe(this,"addSocialLogins",(r,n,i,s)=>{this.setState({socialLoginsConfig:{adapter:r,loginMethods:n,loginMethodsOrder:i,uiConfig:s}}),dt.info("addSocialLogins",r,n,i,s)}),Pe(this,"addWalletLogins",(r,n)=>{this.setState({externalWalletsConfig:r,externalWalletsInitialized:!0,showExternalWalletsOnly:!!(n!=null&&n.showExternalWalletsOnly),externalWalletsVisibility:!0})}),Pe(this,"open",()=>{this.setState({modalVisibility:!0}),this.emit(bo.MODAL_VISIBILITY,!0)}),Pe(this,"closeModal",()=>{this.setState({modalVisibility:!1,externalWalletsVisibility:!1}),this.emit(bo.MODAL_VISIBILITY,!1)}),Pe(this,"initExternalWalletContainer",()=>{this.setState({hasExternalWallets:!0})}),Pe(this,"handleShowExternalWallets",r=>{this.emit(bo.INIT_EXTERNAL_WALLETS,{externalWalletsInitialized:r})}),Pe(this,"handleExternalWalletClick",r=>{dt.info("external wallet clicked",r);const{adapter:n}=r;this.emit(bo.LOGIN,{adapter:n})}),Pe(this,"handleSocialLoginClick",r=>{dt.info("social login clicked",r);const{adapter:n,loginParams:i}=r;this.emit(bo.LOGIN,{adapter:n,loginParams:{loginProvider:i.loginProvider,login_hint:i.login_hint,name:i.name}})}),Pe(this,"setState",r=>{this.stateEmitter.emit("STATE_UPDATED",r)}),Pe(this,"updateWalletConnect",r=>{r&&this.setState({walletConnectUri:r})}),Pe(this,"handleAdapterData",r=>{if(r.adapterName===gr.WALLET_CONNECT_V2){const n=r.data;this.updateWalletConnect(n.uri)}}),Pe(this,"subscribeCoreEvents",r=>{r.on(Qt.CONNECTING,n=>{dt.info("connecting with adapter",n),(n==null?void 0:n.adapter)!==gr.WALLET_CONNECT_V2&&this.setState({status:wn.CONNECTING})}),r.on(Qt.CONNECTED,n=>{dt.debug("connected with adapter",n),n.reconnected?this.setState({status:wn.CONNECTED}):this.setState({status:wn.CONNECTED,modalVisibility:!0,postLoadingMessage:"modal.post-loading.connected"})}),r.on(Qt.ERRORED,n=>{dt.error("error",n,n.message),n.code===5e3?this.uiConfig.displayErrorsOnModal?this.setState({modalVisibility:!0,postLoadingMessage:n.message||"modal.post-loading.something-wrong",status:wn.ERRORED}):this.setState({modalVisibility:!1}):this.setState({modalVisibility:!0,status:wn.INITIALIZED})}),r.on(Qt.DISCONNECTED,()=>{this.setState({status:wn.INITIALIZED,externalWalletsVisibility:!1})}),r.on(Qt.ADAPTER_DATA_UPDATED,n=>{this.handleAdapterData(n)})}),this.uiConfig=e,e.logoDark||(this.uiConfig.logoDark=VC),e.logoLight||(this.uiConfig.logoLight=HC),e.mode||(this.uiConfig.mode="light"),e.modalZIndex||(this.uiConfig.modalZIndex="99998"),typeof e.displayErrorsOnModal>"u"&&(this.uiConfig.displayErrorsOnModal=!0),e.appName||(this.uiConfig.appName="Web3Auth"),e.loginGridCol||(this.uiConfig.loginGridCol=3),e.primaryButton||(this.uiConfig.primaryButton="socialLogin"),e.defaultLanguage||(this.uiConfig.defaultLanguage=oR(e.defaultLanguage)),this.stateEmitter=new Zc,this.chainNamespace=e.chainNamespace,this.walletRegistry=e.walletRegistry,this.subscribeCoreEvents(this.uiConfig.adapterListener)}get isDark(){return this.uiConfig.mode==="dark"||this.uiConfig.mode==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches}}class KG extends oV{constructor(e){if(super(e),Pe(this,"loginModal",void 0),Pe(this,"options",void 0),Pe(this,"modalConfig",Sh(eV)),this.options=Ie({},e),this.options.uiConfig||(this.options.uiConfig={}),!this.coreOptions.privateKeyProvider)throw st.invalidParams("privateKeyProvider is required")}setModalConfig(e){super.checkInitRequirements(),this.modalConfig=e}async initModal(e){var r;super.checkInitRequirements();let n;try{var i;n=await UC(this.options.clientId,this.options.web3AuthNetwork,(i=this.options.accountAbstractionProvider)===null||i===void 0?void 0:i.config.smartAccountInit.name)}catch(I){throw dt.error("Failed to fetch project configurations",I),st.notReady("failed to fetch project configurations",I)}const{whitelabel:s}=n;this.options.uiConfig=Io(Sh(s||{}),this.options.uiConfig||{}),this.options.uiConfig.defaultLanguage||(this.options.uiConfig.defaultLanguage=oR(this.options.uiConfig.defaultLanguage)),this.options.uiConfig.mode||(this.options.uiConfig.mode="light");let o={others:{},default:{}};if(!((r=e)!==null&&r!==void 0&&r.hideWalletDiscovery))try{o=await GH(tV)}catch(I){dt.error("Failed to fetch wallet registry",I)}this.loginModal=new qG(Ie(Ie({},this.options.uiConfig),{},{adapterListener:this,chainNamespace:this.options.chainConfig.chainNamespace,walletRegistry:o})),this.subscribeToLoginModalEvents();const{sms_otp_enabled:a,whitelist:c,key_export_enabled:l}=n;if(a!==void 0){var u,f;const I={[gr.AUTH]:{label:gr.AUTH,loginMethods:{[Rr.SMS_PASSWORDLESS]:{name:Rr.SMS_PASSWORDLESS,showOnModal:a,showOnDesktop:a,showOnMobile:a}}}};if((u=e)!==null&&u!==void 0&&u.modalConfig||(e={modalConfig:{}}),((f=e.modalConfig[gr.AUTH])===null||f===void 0||(f=f.loginMethods)===null||f===void 0||(f=f[Rr.SMS_PASSWORDLESS])===null||f===void 0?void 0:f.showOnModal)===!0&&a===!1)throw st.invalidParams("must enable sms otp on dashboard in order to utilise it");e.modalConfig=Io(I,Sh(e.modalConfig))}await this.loginModal.initModal();const h=this.options.chainConfig,g=[...new Set([...Object.keys(this.modalConfig.adapters||{}),...Object.keys(this.walletAdapters)])],y=g.map(async I=>{var D,O,F,x;let L=((D=this.modalConfig.adapters)===null||D===void 0?void 0:D[I])||{label:$C[I]||I.split("-").map(Dx).join(" "),showOnModal:!0,showOnMobile:!0,showOnDesktop:!0};(O=e)!==null&&O!==void 0&&(O=O.modalConfig)!==null&&O!==void 0&&O[I]&&(L=Ie(Ie({},L),e.modalConfig[I])),this.modalConfig.adapters[I]=L;const J=this.walletAdapters[I];if(dt.debug("adapter config",I,(F=this.modalConfig.adapters)===null||F===void 0?void 0:F[I].showOnModal,J),!J&&(x=this.modalConfig.adapters)!==null&&x!==void 0&&x[I].showOnModal){if(I===gr.AUTH){var ne;const E=KC(),{clientId:S,useCoreKitKey:b,chainConfig:R,web3AuthNetwork:P,sessionTime:q,privateKeyProvider:ue}=this.coreOptions,$=Ie(Ie({},Jc(h.chainNamespace,(ne=this.coreOptions.chainConfig)===null||ne===void 0?void 0:ne.chainId)),R);if(!ue)throw st.invalidParams("privateKeyProvider is required");const oe=Ie(Ie({},E.adapterSettings),{},{clientId:S,network:P,whiteLabel:this.options.uiConfig});a!==void 0&&(oe.loginConfig={[Rr.SMS_PASSWORDLESS]:{showOnModal:a,showOnDesktop:a,showOnMobile:a,showOnSocialBackupFactor:a}}),c&&(oe.originData=c.signed_urls),this.options.uiConfig.uxMode&&(oe.uxMode=this.options.uiConfig.uxMode);const ee=new rV(Ie(Ie({},E),{},{clientId:S,useCoreKitKey:b,chainConfig:Ie({},$),adapterSettings:oe,sessionTime:q,web3AuthNetwork:P,privateKeyProvider:ue}));return this.walletAdapters[I]=ee,I}throw st.invalidParams(`Adapter ${I} is not configured`)}else if((J==null?void 0:J.type)===po.IN_APP||(J==null?void 0:J.type)===po.EXTERNAL||I===this.cachedAdapter){var j;if(!((j=this.modalConfig.adapters)!==null&&j!==void 0&&j[I].showOnModal))return;if(this.walletAdapters[I].setAdapterSettings({clientId:this.options.clientId,sessionTime:this.options.sessionTime,web3AuthNetwork:this.options.web3AuthNetwork,useCoreKitKey:this.coreOptions.useCoreKitKey}),!J.chainConfigProxy){var w;const E=Ie(Ie({},Jc(h.chainNamespace,(w=this.coreOptions.chainConfig)===null||w===void 0?void 0:w.chainId)),this.coreOptions.chainConfig);this.walletAdapters[I].setAdapterSettings({chainConfig:E})}if(I===gr.AUTH){var m;const E=this.walletAdapters[I];if(this.coreOptions.privateKeyProvider){if(E.currentChainNamespace!==this.coreOptions.privateKeyProvider.currentChainConfig.chainNamespace)throw st.incompatibleChainNameSpace("private key provider is not compatible with provided chainNamespace for auth adapter");E.setAdapterSettings({privateKeyProvider:this.coreOptions.privateKeyProvider})}if(a!==void 0&&E.setAdapterSettings({loginConfig:{[Rr.SMS_PASSWORDLESS]:{showOnModal:a,showOnDesktop:a,showOnMobile:a,showOnSocialBackupFactor:a}}}),c&&E.setAdapterSettings({originData:c.signed_urls}),(m=this.options.uiConfig)!==null&&m!==void 0&&m.uxMode&&E.setAdapterSettings({uxMode:this.options.uiConfig.uxMode}),E.setAdapterSettings({whiteLabel:this.options.uiConfig}),!E.privateKeyProvider)throw st.invalidParams("privateKeyProvider is required for auth adapter")}else if(I===gr.WALLET_CONNECT_V2){const E=this.walletAdapters[I],{wallet_connect_enabled:S,wallet_connect_project_id:b}=n;if(S===!1){var d,p,_;this.modalConfig.adapters=Ie(Ie({},(d=this.modalConfig.adapters)!==null&&d!==void 0?d:{}),{},{[gr.WALLET_CONNECT_V2]:Ie(Ie({},(p=(_=this.modalConfig.adapters)===null||_===void 0?void 0:_[gr.WALLET_CONNECT_V2])!==null&&p!==void 0?p:{}),{},{showOnModal:!1})}),this.modalConfig.adapters[gr.WALLET_CONNECT_V2].showOnModal=!1}else{var N;if(!(E!=null&&(N=E.adapterOptions)!==null&&N!==void 0&&(N=N.adapterSettings)!==null&&N!==void 0&&(N=N.walletConnectInitOptions)!==null&&N!==void 0&&N.projectId)&&!b)throw st.invalidParams("Invalid wallet connect project id. Please configure it on the dashboard");b&&E.setAdapterSettings({adapterSettings:{walletConnectInitOptions:{projectId:b}}})}}return I}}),v=await Promise.all(y),T=Object.values(this.walletAdapters).some(I=>{var D,O,F;if(I.type!==po.IN_APP||((D=this.modalConfig.adapters)===null||D===void 0||(D=D[I.name])===null||D===void 0?void 0:D.showOnModal)!==!0)return!1;if(!((O=this.modalConfig.adapters)!==null&&O!==void 0&&(O=O[I.name])!==null&&O!==void 0&&O.loginMethods))return!0;const x=RE(I.name,(F=this.modalConfig.adapters[I.name])===null||F===void 0?void 0:F.loginMethods);return!!Object.values(x).some(L=>L.showOnModal)});dt.debug(T,this.walletAdapters,v,"hasInAppWallets");const k=v.map(async I=>{if(I)try{const D=this.walletAdapters[I];if(this.cachedAdapter!==I&&D.type===po.EXTERNAL)return;this.subscribeToAdapterEvents(D),D.status===tt.NOT_READY&&await D.init({autoConnect:this.cachedAdapter===I}),D.type===po.IN_APP&&this.initializeInAppWallet(I)}catch(D){dt.error(D,"error while initializing adapter ",I)}});this.commonJRPCProvider=await qm.getProviderInstance({chainConfig:this.coreOptions.chainConfig}),typeof l=="boolean"&&(this.coreOptions.privateKeyProvider.setKeyExportFlag(l),this.commonJRPCProvider.setKeyExportFlag(l)),await Promise.all(k),this.status===tt.NOT_READY&&(this.status=tt.READY,this.emit(Qt.READY));const C=g.some(I=>{var D,O,F;return I===gr.WALLET_CONNECT_V2&&(D=e)!==null&&D!==void 0&&D.hideWalletDiscovery?!1:((O=this.walletAdapters[I])===null||O===void 0?void 0:O.type)===po.EXTERNAL&&((F=this.modalConfig.adapters)===null||F===void 0?void 0:F[I].showOnModal)});C&&this.loginModal.initExternalWalletContainer(),!T&&C&&await this.initExternalWalletAdapters(!1,{showExternalWalletsOnly:!0})}async connect(){if(!this.loginModal)throw st.notReady("Login modal is not initialized");return this.connectedAdapterName&&this.status===tt.CONNECTED&&this.provider?this.provider:(this.loginModal.open(),new Promise((e,r)=>{this.once(Qt.CONNECTED,()=>e(this.provider)),this.once(Qt.ERRORED,n=>r(n)),this.once(bo.MODAL_VISIBILITY,n=>{if(!n&&this.status!==tt.CONNECTED)return r(new Error("User closed the modal"))})}))}async initExternalWalletAdapters(e,r){if(e)return;const n={};Object.keys(this.walletAdapters).forEach(async i=>{const s=this.walletAdapters[i];if((s==null?void 0:s.type)===po.EXTERNAL){if(dt.debug("init external wallet",this.cachedAdapter,i,s.status),this.subscribeToAdapterEvents(s),this.cachedAdapter===i)return;if(s.status===tt.NOT_READY)await s.init({autoConnect:this.cachedAdapter===i}).then(()=>{const o=this.modalConfig.adapters[i];n[i]=Ie(Ie({},o),{},{isInjected:s.isInjected}),this.loginModal.addWalletLogins(n,{showExternalWalletsOnly:!!(r!=null&&r.showExternalWalletsOnly)})}).catch(o=>dt.error(o,"error while initializing adapter",i));else if(s.status===tt.READY||s.status===tt.CONNECTING){const o=this.modalConfig.adapters[i];n[i]=Ie(Ie({},o),{},{isInjected:s.isInjected}),this.loginModal.addWalletLogins(n,{showExternalWalletsOnly:!!(r!=null&&r.showExternalWalletsOnly)})}}})}initializeInAppWallet(e){if(dt.info("adapterInitResults",e),this.walletAdapters[e].type===po.IN_APP){var r,n,i,s;this.loginModal.addSocialLogins(e,RE(e,(r=this.modalConfig.adapters[e])===null||r===void 0?void 0:r.loginMethods),((n=this.options.uiConfig)===null||n===void 0?void 0:n.loginMethodsOrder)||Bx,Ie(Ie({},this.options.uiConfig),{},{loginGridCol:((i=this.options.uiConfig)===null||i===void 0?void 0:i.loginGridCol)||3,primaryButton:((s=this.options.uiConfig)===null||s===void 0?void 0:s.primaryButton)||"socialLogin"}))}}subscribeToLoginModalEvents(){this.loginModal.on(bo.LOGIN,async e=>{try{await this.connectTo(e.adapter,e.loginParams)}catch(r){dt.error(`Error while connecting to adapter: ${e.adapter}`,r)}}),this.loginModal.on(bo.INIT_EXTERNAL_WALLETS,async e=>{await this.initExternalWalletAdapters(e.externalWalletsInitialized)}),this.loginModal.on(bo.DISCONNECT,async()=>{try{await this.logout()}catch(e){dt.error("Error while disconnecting",e)}}),this.loginModal.on(bo.MODAL_VISIBILITY,async e=>{dt.debug("is login modal visible",e),this.emit(bo.MODAL_VISIBILITY,e);const r=this.walletAdapters[gr.WALLET_CONNECT_V2];if(r){const n=r==null?void 0:r.status;if(dt.debug("trying refreshing wc session",e,n),e&&(n===tt.READY||n===tt.CONNECTING)){dt.debug("refreshing wc session");try{r.connect()}catch(i){dt.error("Error while disconnecting to wallet connect in core",i)}}!e&&this.status===tt.CONNECTED&&(n===tt.READY||n===tt.CONNECTING)&&(dt.debug("this stops wc adapter from trying to reconnect once proposal expires"),r.status=tt.READY)}})}}function cR(t,e){return function(){return t.apply(e,arguments)}}const{toString:WG}=Object.prototype,{getPrototypeOf:Fx}=Object,Wm=(t=>e=>{const r=WG.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Po=t=>(t=t.toLowerCase(),e=>Wm(e)===t),Hm=t=>e=>typeof e===t,{isArray:ud}=Array,sp=Hm("undefined");function HG(t){return t!==null&&!sp(t)&&t.constructor!==null&&!sp(t.constructor)&&_s(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const lR=Po("ArrayBuffer");function VG(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lR(t.buffer),e}const GG=Hm("string"),_s=Hm("function"),uR=Hm("number"),Vm=t=>t!==null&&typeof t=="object",YG=t=>t===!0||t===!1,yg=t=>{if(Wm(t)!=="object")return!1;const e=Fx(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},JG=Po("Date"),XG=Po("File"),ZG=Po("Blob"),QG=Po("FileList"),eY=t=>Vm(t)&&_s(t.pipe),tY=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||_s(t.append)&&((e=Wm(t))==="formdata"||e==="object"&&_s(t.toString)&&t.toString()==="[object FormData]"))},rY=Po("URLSearchParams"),[nY,iY,sY,oY]=["ReadableStream","Request","Response","Headers"].map(Po),aY=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lp(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),ud(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function fR(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Ll=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,dR=t=>!sp(t)&&t!==Ll;function d2(){const{caseless:t}=dR(this)&&this||{},e={},r=(n,i)=>{const s=t&&fR(e,i)||i;yg(e[s])&&yg(n)?e[s]=d2(e[s],n):yg(n)?e[s]=d2({},n):ud(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Lp(arguments[n],r);return e}const cY=(t,e,r,{allOwnKeys:n}={})=>(Lp(e,(i,s)=>{r&&_s(i)?t[s]=cR(i,r):t[s]=i},{allOwnKeys:n}),t),lY=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),uY=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},fY=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&Fx(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},dY=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},hY=t=>{if(!t)return null;if(ud(t))return t;let e=t.length;if(!uR(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},pY=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Fx(Uint8Array)),gY=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},mY=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},yY=Po("HTMLFormElement"),wY=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),PE=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),bY=Po("RegExp"),hR=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Lp(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},vY=t=>{hR(t,(e,r)=>{if(_s(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(_s(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},xY=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return ud(t)?n(t):n(String(t).split(e)),r},_Y=()=>{},SY=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Gw="abcdefghijklmnopqrstuvwxyz",TE="0123456789",pR={DIGIT:TE,ALPHA:Gw,ALPHA_DIGIT:Gw+Gw.toUpperCase()+TE},EY=(t=16,e=pR.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function AY(t){return!!(t&&_s(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const IY=t=>{const e=new Array(10),r=(n,i)=>{if(Vm(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=ud(n)?[]:{};return Lp(n,(o,a)=>{const c=r(o,i+1);!sp(c)&&(s[a]=c)}),e[i]=void 0,s}}return n};return r(t,0)},kY=Po("AsyncFunction"),CY=t=>t&&(Vm(t)||_s(t))&&_s(t.then)&&_s(t.catch),gR=((t,e)=>t?setImmediate:e?((r,n)=>(Ll.addEventListener("message",({source:i,data:s})=>{i===Ll&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Ll.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",_s(Ll.postMessage)),RY=typeof queueMicrotask<"u"?queueMicrotask.bind(Ll):typeof process<"u"&&process.nextTick||gR,Re={isArray:ud,isArrayBuffer:lR,isBuffer:HG,isFormData:tY,isArrayBufferView:VG,isString:GG,isNumber:uR,isBoolean:YG,isObject:Vm,isPlainObject:yg,isReadableStream:nY,isRequest:iY,isResponse:sY,isHeaders:oY,isUndefined:sp,isDate:JG,isFile:XG,isBlob:ZG,isRegExp:bY,isFunction:_s,isStream:eY,isURLSearchParams:rY,isTypedArray:pY,isFileList:QG,forEach:Lp,merge:d2,extend:cY,trim:aY,stripBOM:lY,inherits:uY,toFlatObject:fY,kindOf:Wm,kindOfTest:Po,endsWith:dY,toArray:hY,forEachEntry:gY,matchAll:mY,isHTMLForm:yY,hasOwnProperty:PE,hasOwnProp:PE,reduceDescriptors:hR,freezeMethods:vY,toObjectSet:xY,toCamelCase:wY,noop:_Y,toFiniteNumber:SY,findKey:fR,global:Ll,isContextDefined:dR,ALPHABET:pR,generateString:EY,isSpecCompliantForm:AY,toJSONObject:IY,isAsyncFn:kY,isThenable:CY,setImmediate:gR,asap:RY};function tr(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Re.inherits(tr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Re.toJSONObject(this.config),code:this.code,status:this.status}}});const mR=tr.prototype,yR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{yR[t]={value:t}});Object.defineProperties(tr,yR);Object.defineProperty(mR,"isAxiosError",{value:!0});tr.from=(t,e,r,n,i,s)=>{const o=Object.create(mR);return Re.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),tr.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const PY=null;function h2(t){return Re.isPlainObject(t)||Re.isArray(t)}function wR(t){return Re.endsWith(t,"[]")?t.slice(0,-2):t}function NE(t,e,r){return t?t.concat(e).map(function(i,s){return i=wR(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function TY(t){return Re.isArray(t)&&!t.some(h2)}const NY=Re.toFlatObject(Re,{},null,function(e){return/^is[A-Z]/.test(e)});function Gm(t,e,r){if(!Re.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Re.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,T){return!Re.isUndefined(T[v])});const n=r.metaTokens,i=r.visitor||u,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Re.isSpecCompliantForm(e);if(!Re.isFunction(i))throw new TypeError("visitor must be a function");function l(y){if(y===null)return"";if(Re.isDate(y))return y.toISOString();if(!c&&Re.isBlob(y))throw new tr("Blob is not supported. Use a Buffer instead.");return Re.isArrayBuffer(y)||Re.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,v,T){let k=y;if(y&&!T&&typeof y=="object"){if(Re.endsWith(v,"{}"))v=n?v:v.slice(0,-2),y=JSON.stringify(y);else if(Re.isArray(y)&&TY(y)||(Re.isFileList(y)||Re.endsWith(v,"[]"))&&(k=Re.toArray(y)))return v=wR(v),k.forEach(function(I,D){!(Re.isUndefined(I)||I===null)&&e.append(o===!0?NE([v],D,s):o===null?v:v+"[]",l(I))}),!1}return h2(y)?!0:(e.append(NE(T,v,s),l(y)),!1)}const f=[],h=Object.assign(NY,{defaultVisitor:u,convertValue:l,isVisitable:h2});function g(y,v){if(!Re.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(y),Re.forEach(y,function(k,C){(!(Re.isUndefined(k)||k===null)&&i.call(e,k,Re.isString(C)?C.trim():C,v,h))===!0&&g(k,v?v.concat(C):[C])}),f.pop()}}if(!Re.isObject(t))throw new TypeError("data must be an object");return g(t),e}function ME(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function jx(t,e){this._pairs=[],t&&Gm(t,this,e)}const bR=jx.prototype;bR.append=function(e,r){this._pairs.push([e,r])};bR.toString=function(e){const r=e?function(n){return e.call(this,n,ME)}:ME;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function MY(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vR(t,e,r){if(!e)return t;const n=r&&r.encode||MY,i=r&&r.serialize;let s;if(i?s=i(e,r):s=Re.isURLSearchParams(e)?e.toString():new jx(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class OE{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Re.forEach(this.handlers,function(n){n!==null&&e(n)})}}const xR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},OY=typeof URLSearchParams<"u"?URLSearchParams:jx,LY=typeof FormData<"u"?FormData:null,DY=typeof Blob<"u"?Blob:null,BY={isBrowser:!0,classes:{URLSearchParams:OY,FormData:LY,Blob:DY},protocols:["http","https","file","blob","url","data"]},zx=typeof window<"u"&&typeof document<"u",p2=typeof navigator=="object"&&navigator||void 0,$Y=zx&&(!p2||["ReactNative","NativeScript","NS"].indexOf(p2.product)<0),UY=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",FY=zx&&window.location.href||"http://localhost",jY=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zx,hasStandardBrowserEnv:$Y,hasStandardBrowserWebWorkerEnv:UY,navigator:p2,origin:FY},Symbol.toStringTag,{value:"Module"})),ns={...jY,...BY};function zY(t,e){return Gm(t,new ns.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return ns.isNode&&Re.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function qY(t){return Re.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function KY(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function _R(t){function e(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=s>=r.length;return o=!o&&Re.isArray(i)?i.length:o,c?(Re.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!Re.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&Re.isArray(i[o])&&(i[o]=KY(i[o])),!a)}if(Re.isFormData(t)&&Re.isFunction(t.entries)){const r={};return Re.forEachEntry(t,(n,i)=>{e(qY(n),i,r,0)}),r}return null}function WY(t,e,r){if(Re.isString(t))try{return(e||JSON.parse)(t),Re.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Dp={transitional:xR,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=Re.isObject(e);if(s&&Re.isHTMLForm(e)&&(e=new FormData(e)),Re.isFormData(e))return i?JSON.stringify(_R(e)):e;if(Re.isArrayBuffer(e)||Re.isBuffer(e)||Re.isStream(e)||Re.isFile(e)||Re.isBlob(e)||Re.isReadableStream(e))return e;if(Re.isArrayBufferView(e))return e.buffer;if(Re.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return zY(e,this.formSerializer).toString();if((a=Re.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Gm(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),WY(e)):e}],transformResponse:[function(e){const r=this.transitional||Dp.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Re.isResponse(e)||Re.isReadableStream(e))return e;if(e&&Re.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?tr.from(a,tr.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ns.classes.FormData,Blob:ns.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Re.forEach(["delete","get","head","post","put","patch"],t=>{Dp.headers[t]={}});const HY=Re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VY=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&HY[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},LE=Symbol("internals");function zd(t){return t&&String(t).trim().toLowerCase()}function wg(t){return t===!1||t==null?t:Re.isArray(t)?t.map(wg):String(t)}function GY(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const YY=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Yw(t,e,r,n,i){if(Re.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Re.isString(e)){if(Re.isString(n))return e.indexOf(n)!==-1;if(Re.isRegExp(n))return n.test(e)}}function JY(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function XY(t,e){const r=Re.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}class is{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,c,l){const u=zd(c);if(!u)throw new Error("header name must be a non-empty string");const f=Re.findKey(i,u);(!f||i[f]===void 0||l===!0||l===void 0&&i[f]!==!1)&&(i[f||c]=wg(a))}const o=(a,c)=>Re.forEach(a,(l,u)=>s(l,u,c));if(Re.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(Re.isString(e)&&(e=e.trim())&&!YY(e))o(VY(e),r);else if(Re.isHeaders(e))for(const[a,c]of e.entries())s(c,a,n);else e!=null&&s(r,e,n);return this}get(e,r){if(e=zd(e),e){const n=Re.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return GY(i);if(Re.isFunction(r))return r.call(this,i,n);if(Re.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=zd(e),e){const n=Re.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Yw(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=zd(o),o){const a=Re.findKey(n,o);a&&(!r||Yw(n,n[a],a,r))&&(delete n[a],i=!0)}}return Re.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||Yw(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return Re.forEach(this,(i,s)=>{const o=Re.findKey(n,s);if(o){r[o]=wg(i),delete r[s];return}const a=e?JY(s):String(s).trim();a!==s&&delete r[s],r[a]=wg(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Re.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Re.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[LE]=this[LE]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=zd(o);n[a]||(XY(i,o),n[a]=!0)}return Re.isArray(e)?e.forEach(s):s(e),this}}is.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Re.reduceDescriptors(is.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Re.freezeMethods(is);function Jw(t,e){const r=this||Dp,n=e||r,i=is.from(n.headers);let s=n.data;return Re.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function SR(t){return!!(t&&t.__CANCEL__)}function fd(t,e,r){tr.call(this,t??"canceled",tr.ERR_CANCELED,e,r),this.name="CanceledError"}Re.inherits(fd,tr,{__CANCEL__:!0});function ER(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new tr("Request failed with status code "+r.status,[tr.ERR_BAD_REQUEST,tr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ZY(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function QY(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=n[s];o||(o=l),r[i]=c,n[i]=l;let f=s,h=0;for(;f!==i;)h+=r[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),l-o<e)return;const g=u&&l-u;return g?Math.round(h*1e3/g):void 0}}function eJ(t,e){let r=0,n=1e3/e,i,s;const o=(l,u=Date.now())=>{r=u,i=null,s&&(clearTimeout(s),s=null),t.apply(null,l)};return[(...l)=>{const u=Date.now(),f=u-r;f>=n?o(l,u):(i=l,s||(s=setTimeout(()=>{s=null,o(i)},n-f)))},()=>i&&o(i)]}const v1=(t,e,r=3)=>{let n=0;const i=QY(50,250);return eJ(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-n,l=i(c),u=o<=a;n=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&u?(a-o)/l:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},r)},DE=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},BE=t=>(...e)=>Re.asap(()=>t(...e)),tJ=ns.hasStandardBrowserEnv?function(){const e=ns.navigator&&/(msie|trident)/i.test(ns.navigator.userAgent),r=document.createElement("a");let n;function i(s){let o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const a=Re.isString(o)?i(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}(),rJ=ns.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const o=[t+"="+encodeURIComponent(e)];Re.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Re.isString(n)&&o.push("path="+n),Re.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nJ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function iJ(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function AR(t,e){return t&&!nJ(e)?iJ(t,e):e}const $E=t=>t instanceof is?{...t}:t;function lu(t,e){e=e||{};const r={};function n(l,u,f){return Re.isPlainObject(l)&&Re.isPlainObject(u)?Re.merge.call({caseless:f},l,u):Re.isPlainObject(u)?Re.merge({},u):Re.isArray(u)?u.slice():u}function i(l,u,f){if(Re.isUndefined(u)){if(!Re.isUndefined(l))return n(void 0,l,f)}else return n(l,u,f)}function s(l,u){if(!Re.isUndefined(u))return n(void 0,u)}function o(l,u){if(Re.isUndefined(u)){if(!Re.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function a(l,u,f){if(f in e)return n(l,u);if(f in t)return n(void 0,l)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,u)=>i($E(l),$E(u),!0)};return Re.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=c[u]||i,h=f(t[u],e[u],u);Re.isUndefined(h)&&f!==a||(r[u]=h)}),r}const IR=t=>{const e=lu({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=is.from(o),e.url=vR(AR(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(Re.isFormData(r)){if(ns.hasStandardBrowserEnv||ns.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[l,...u]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...u].join("; "))}}if(ns.hasStandardBrowserEnv&&(n&&Re.isFunction(n)&&(n=n(e)),n||n!==!1&&tJ(e.url))){const l=i&&s&&rJ.read(s);l&&o.set(i,l)}return e},sJ=typeof XMLHttpRequest<"u",oJ=sJ&&function(t){return new Promise(function(r,n){const i=IR(t);let s=i.data;const o=is.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:l}=i,u,f,h,g,y;function v(){g&&g(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let T=new XMLHttpRequest;T.open(i.method.toUpperCase(),i.url,!0),T.timeout=i.timeout;function k(){if(!T)return;const I=is.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),O={data:!a||a==="text"||a==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:I,config:t,request:T};ER(function(x){r(x),v()},function(x){n(x),v()},O),T=null}"onloadend"in T?T.onloadend=k:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(k)},T.onabort=function(){T&&(n(new tr("Request aborted",tr.ECONNABORTED,t,T)),T=null)},T.onerror=function(){n(new tr("Network Error",tr.ERR_NETWORK,t,T)),T=null},T.ontimeout=function(){let D=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const O=i.transitional||xR;i.timeoutErrorMessage&&(D=i.timeoutErrorMessage),n(new tr(D,O.clarifyTimeoutError?tr.ETIMEDOUT:tr.ECONNABORTED,t,T)),T=null},s===void 0&&o.setContentType(null),"setRequestHeader"in T&&Re.forEach(o.toJSON(),function(D,O){T.setRequestHeader(O,D)}),Re.isUndefined(i.withCredentials)||(T.withCredentials=!!i.withCredentials),a&&a!=="json"&&(T.responseType=i.responseType),l&&([h,y]=v1(l,!0),T.addEventListener("progress",h)),c&&T.upload&&([f,g]=v1(c),T.upload.addEventListener("progress",f),T.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(u=I=>{T&&(n(!I||I.type?new fd(null,t,T):I),T.abort(),T=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const C=ZY(i.url);if(C&&ns.protocols.indexOf(C)===-1){n(new tr("Unsupported protocol "+C+":",tr.ERR_BAD_REQUEST,t));return}T.send(s||null)})},aJ=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(l){if(!i){i=!0,a();const u=l instanceof Error?l:this.reason;n.abort(u instanceof tr?u:new fd(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new tr(`timeout ${e} of ms exceeded`,tr.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(s):l.removeEventListener("abort",s)}),t=null)};t.forEach(l=>l.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Re.asap(a),c}},cJ=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},lJ=async function*(t,e){for await(const r of uJ(t))yield*cJ(r,e)},uJ=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},UE=(t,e,r,n)=>{const i=lJ(t,e);let s=0,o,a=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await i.next();if(l){a(),c.close();return}let f=u.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(u))}catch(l){throw a(l),l}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},Ym=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",kR=Ym&&typeof ReadableStream=="function",fJ=Ym&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),CR=(t,...e)=>{try{return!!t(...e)}catch{return!1}},dJ=kR&&CR(()=>{let t=!1;const e=new Request(ns.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),FE=64*1024,g2=kR&&CR(()=>Re.isReadableStream(new Response("").body)),x1={stream:g2&&(t=>t.body)};Ym&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!x1[e]&&(x1[e]=Re.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new tr(`Response type '${e}' is not supported`,tr.ERR_NOT_SUPPORT,n)})})})(new Response);const hJ=async t=>{if(t==null)return 0;if(Re.isBlob(t))return t.size;if(Re.isSpecCompliantForm(t))return(await new Request(ns.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Re.isArrayBufferView(t)||Re.isArrayBuffer(t))return t.byteLength;if(Re.isURLSearchParams(t)&&(t=t+""),Re.isString(t))return(await fJ(t)).byteLength},pJ=async(t,e)=>{const r=Re.toFiniteNumber(t.getContentLength());return r??hJ(e)},gJ=Ym&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:f="same-origin",fetchOptions:h}=IR(t);l=l?(l+"").toLowerCase():"text";let g=aJ([i,s&&s.toAbortSignal()],o),y;const v=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let T;try{if(c&&dJ&&r!=="get"&&r!=="head"&&(T=await pJ(u,n))!==0){let O=new Request(e,{method:"POST",body:n,duplex:"half"}),F;if(Re.isFormData(n)&&(F=O.headers.get("content-type"))&&u.setContentType(F),O.body){const[x,L]=DE(T,v1(BE(c)));n=UE(O.body,FE,x,L)}}Re.isString(f)||(f=f?"include":"omit");const k="credentials"in Request.prototype;y=new Request(e,{...h,signal:g,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:k?f:void 0});let C=await fetch(y);const I=g2&&(l==="stream"||l==="response");if(g2&&(a||I&&v)){const O={};["status","statusText","headers"].forEach(J=>{O[J]=C[J]});const F=Re.toFiniteNumber(C.headers.get("content-length")),[x,L]=a&&DE(F,v1(BE(a),!0))||[];C=new Response(UE(C.body,FE,x,()=>{L&&L(),v&&v()}),O)}l=l||"text";let D=await x1[Re.findKey(x1,l)||"text"](C,t);return!I&&v&&v(),await new Promise((O,F)=>{ER(O,F,{data:D,headers:is.from(C.headers),status:C.status,statusText:C.statusText,config:t,request:y})})}catch(k){throw v&&v(),k&&k.name==="TypeError"&&/fetch/i.test(k.message)?Object.assign(new tr("Network Error",tr.ERR_NETWORK,t,y),{cause:k.cause||k}):tr.from(k,k&&k.code,t,y)}}),m2={http:PY,xhr:oJ,fetch:gJ};Re.forEach(m2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const jE=t=>`- ${t}`,mJ=t=>Re.isFunction(t)||t===null||t===!1,RR={getAdapter:t=>{t=Re.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let o;if(n=r,!mJ(r)&&(n=m2[(o=String(r)).toLowerCase()],n===void 0))throw new tr(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(jE).join(`
`):" "+jE(s[0]):"as no adapter specified";throw new tr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:m2};function Xw(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new fd(null,t)}function zE(t){return Xw(t),t.headers=is.from(t.headers),t.data=Jw.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),RR.getAdapter(t.adapter||Dp.adapter)(t).then(function(n){return Xw(t),n.data=Jw.call(t,t.transformResponse,n),n.headers=is.from(n.headers),n},function(n){return SR(n)||(Xw(t),n&&n.response&&(n.response.data=Jw.call(t,t.transformResponse,n.response),n.response.headers=is.from(n.response.headers))),Promise.reject(n)})}const PR="1.7.7",qx={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{qx[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const qE={};qx.transitional=function(e,r,n){function i(s,o){return"[Axios v"+PR+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new tr(i(o," has been removed"+(r?" in "+r:"")),tr.ERR_DEPRECATED);return r&&!qE[o]&&(qE[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};function yJ(t,e,r){if(typeof t!="object")throw new tr("options must be an object",tr.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],c=a===void 0||o(a,s,t);if(c!==!0)throw new tr("option "+s+" must be "+c,tr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new tr("Unknown option "+s,tr.ERR_BAD_OPTION)}}const y2={assertOptions:yJ,validators:qx},lc=y2.validators;class Jl{constructor(e){this.defaults=e,this.interceptors={request:new OE,response:new OE}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=lu(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&y2.assertOptions(n,{silentJSONParsing:lc.transitional(lc.boolean),forcedJSONParsing:lc.transitional(lc.boolean),clarifyTimeoutError:lc.transitional(lc.boolean)},!1),i!=null&&(Re.isFunction(i)?r.paramsSerializer={serialize:i}:y2.assertOptions(i,{encode:lc.function,serialize:lc.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&Re.merge(s.common,s[r.method]);s&&Re.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),r.headers=is.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const l=[];this.interceptors.response.forEach(function(v){l.push(v.fulfilled,v.rejected)});let u,f=0,h;if(!c){const y=[zE.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,l),h=y.length,u=Promise.resolve(r);f<h;)u=u.then(y[f++],y[f++]);return u}h=a.length;let g=r;for(f=0;f<h;){const y=a[f++],v=a[f++];try{g=y(g)}catch(T){v.call(this,T);break}}try{u=zE.call(this,g)}catch(y){return Promise.reject(y)}for(f=0,h=l.length;f<h;)u=u.then(l[f++],l[f++]);return u}getUri(e){e=lu(this.defaults,e);const r=AR(e.baseURL,e.url);return vR(r,e.params,e.paramsSerializer)}}Re.forEach(["delete","get","head","options"],function(e){Jl.prototype[e]=function(r,n){return this.request(lu(n||{},{method:e,url:r,data:(n||{}).data}))}});Re.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(lu(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Jl.prototype[e]=r(),Jl.prototype[e+"Form"]=r(!0)});class Kx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new fd(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Kx(function(i){e=i}),cancel:e}}}function wJ(t){return function(r){return t.apply(null,r)}}function bJ(t){return Re.isObject(t)&&t.isAxiosError===!0}const w2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(w2).forEach(([t,e])=>{w2[e]=t});function TR(t){const e=new Jl(t),r=cR(Jl.prototype.request,e);return Re.extend(r,Jl.prototype,e,{allOwnKeys:!0}),Re.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return TR(lu(t,i))},r}const Tn=TR(Dp);Tn.Axios=Jl;Tn.CanceledError=fd;Tn.CancelToken=Kx;Tn.isCancel=SR;Tn.VERSION=PR;Tn.toFormData=Gm;Tn.AxiosError=tr;Tn.Cancel=Tn.CanceledError;Tn.all=function(e){return Promise.all(e)};Tn.spread=wJ;Tn.isAxiosError=bJ;Tn.mergeConfig=lu;Tn.AxiosHeaders=is;Tn.formToJSON=t=>_R(Re.isHTMLForm(t)?new FormData(t):t);Tn.getAdapter=RR.getAdapter;Tn.HttpStatusCode=w2;Tn.default=Tn;const L0=BigInt(2**32-1),b2=BigInt(32);function NR(t,e=!1){return e?{h:Number(t&L0),l:Number(t>>b2&L0)}:{h:Number(t>>b2&L0)|0,l:Number(t&L0)|0}}function vJ(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=NR(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const xJ=(t,e)=>BigInt(t>>>0)<<b2|BigInt(e>>>0),_J=(t,e,r)=>t>>>r,SJ=(t,e,r)=>t<<32-r|e>>>r,EJ=(t,e,r)=>t>>>r|e<<32-r,AJ=(t,e,r)=>t<<32-r|e>>>r,IJ=(t,e,r)=>t<<64-r|e>>>r-32,kJ=(t,e,r)=>t>>>r-32|e<<64-r,CJ=(t,e)=>e,RJ=(t,e)=>t,PJ=(t,e,r)=>t<<r|e>>>32-r,TJ=(t,e,r)=>e<<r|t>>>32-r,NJ=(t,e,r)=>e<<r-32|t>>>64-r,MJ=(t,e,r)=>t<<r-32|e>>>64-r;function OJ(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const LJ=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),DJ=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,BJ=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),$J=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,UJ=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),FJ=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,or={fromBig:NR,split:vJ,toBig:xJ,shrSH:_J,shrSL:SJ,rotrSH:EJ,rotrSL:AJ,rotrBH:IJ,rotrBL:kJ,rotr32H:CJ,rotr32L:RJ,rotlSH:PJ,rotlSL:TJ,rotlBH:NJ,rotlBL:MJ,add:OJ,add3L:LJ,add3H:DJ,add4L:BJ,add4H:$J,add5H:FJ,add5L:UJ},[jJ,zJ]=or.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),uc=new Uint32Array(80),fc=new Uint32Array(80);class qJ extends jk{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:g,Gl:y,Hh:v,Hl:T}=this;return[e,r,n,i,s,o,a,c,l,u,f,h,g,y,v,T]}set(e,r,n,i,s,o,a,c,l,u,f,h,g,y,v,T){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=g|0,this.Gl=y|0,this.Hh=v|0,this.Hl=T|0}process(e,r){for(let I=0;I<16;I++,r+=4)uc[I]=e.getUint32(r),fc[I]=e.getUint32(r+=4);for(let I=16;I<80;I++){const D=uc[I-15]|0,O=fc[I-15]|0,F=or.rotrSH(D,O,1)^or.rotrSH(D,O,8)^or.shrSH(D,O,7),x=or.rotrSL(D,O,1)^or.rotrSL(D,O,8)^or.shrSL(D,O,7),L=uc[I-2]|0,J=fc[I-2]|0,ne=or.rotrSH(L,J,19)^or.rotrBH(L,J,61)^or.shrSH(L,J,6),j=or.rotrSL(L,J,19)^or.rotrBL(L,J,61)^or.shrSL(L,J,6),w=or.add4L(x,j,fc[I-7],fc[I-16]),m=or.add4H(w,F,ne,uc[I-7],uc[I-16]);uc[I]=m|0,fc[I]=w|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:g,Fl:y,Gh:v,Gl:T,Hh:k,Hl:C}=this;for(let I=0;I<80;I++){const D=or.rotrSH(f,h,14)^or.rotrSH(f,h,18)^or.rotrBH(f,h,41),O=or.rotrSL(f,h,14)^or.rotrSL(f,h,18)^or.rotrBL(f,h,41),F=f&g^~f&v,x=h&y^~h&T,L=or.add5L(C,O,x,zJ[I],fc[I]),J=or.add5H(L,k,D,F,jJ[I],uc[I]),ne=L|0,j=or.rotrSH(n,i,28)^or.rotrBH(n,i,34)^or.rotrBH(n,i,39),w=or.rotrSL(n,i,28)^or.rotrBL(n,i,34)^or.rotrBL(n,i,39),m=n&s^n&a^s&a,d=i&o^i&c^o&c;k=v|0,C=T|0,v=g|0,T=y|0,g=f|0,y=h|0,{h:f,l:h}=or.add(l|0,u|0,J|0,ne|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const p=or.add3L(ne,w,d);n=or.add3H(p,J,j,m),i=p|0}({h:n,l:i}=or.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=or.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=or.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=or.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=or.add(this.Eh|0,this.El|0,f|0,h|0),{h:g,l:y}=or.add(this.Fh|0,this.Fl|0,g|0,y|0),{h:v,l:T}=or.add(this.Gh|0,this.Gl|0,v|0,T|0),{h:k,l:C}=or.add(this.Hh|0,this.Hl|0,k|0,C|0),this.set(n,i,s,o,a,c,l,u,f,h,g,y,v,T,k,C)}roundClean(){uc.fill(0),fc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const KJ=Uk(()=>new qJ);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oo=BigInt(0),us=BigInt(1),D0=BigInt(2),WJ=BigInt(8),HJ={zip215:!0};function VJ(t){const e=ex(t);return Xf(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function GJ(t){const e=VJ(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=D0<<BigInt(a*8)-us,u=r.create,f=e.uvRatio||((E,S)=>{try{return{isValid:!0,value:r.sqrt(E*r.inv(S))}}catch{return{isValid:!1,value:oo}}}),h=e.adjustScalarBytes||(E=>E),g=e.domain||((E,S,b)=>{if(S.length||b)throw new Error("Contexts/pre-hash are not supported");return E}),y=E=>typeof E=="bigint"&&oo<E,v=(E,S)=>y(E)&&y(S)&&E<S,T=E=>E===oo||v(E,l);function k(E,S){if(v(E,S))return E;throw new Error(`Expected valid scalar < ${S}, got ${typeof E} ${E}`)}function C(E){return E===oo?E:k(E,n)}const I=new Map;function D(E){if(!(E instanceof O))throw new Error("ExtendedPoint expected")}class O{constructor(S,b,R,P){if(this.ex=S,this.ey=b,this.ez=R,this.et=P,!T(S))throw new Error("x required");if(!T(b))throw new Error("y required");if(!T(R))throw new Error("z required");if(!T(P))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof O)throw new Error("extended point not allowed");const{x:b,y:R}=S||{};if(!T(b)||!T(R))throw new Error("invalid affine point");return new O(b,R,us,u(b*R))}static normalizeZ(S){const b=r.invertBatch(S.map(R=>R.ez));return S.map((R,P)=>R.toAffine(b[P])).map(O.fromAffine)}_setWindowSize(S){this._WINDOW_SIZE=S,I.delete(this)}assertValidity(){const{a:S,d:b}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:R,ey:P,ez:q,et:ue}=this,$=u(R*R),oe=u(P*P),ee=u(q*q),H=u(ee*ee),K=u($*S),A=u(ee*u(K+oe)),V=u(H+u(b*u($*oe)));if(A!==V)throw new Error("bad point: equation left != right (1)");const se=u(R*P),X=u(q*ue);if(se!==X)throw new Error("bad point: equation left != right (2)")}equals(S){D(S);const{ex:b,ey:R,ez:P}=this,{ex:q,ey:ue,ez:$}=S,oe=u(b*$),ee=u(q*P),H=u(R*$),K=u(ue*P);return oe===ee&&H===K}is0(){return this.equals(O.ZERO)}negate(){return new O(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:S}=e,{ex:b,ey:R,ez:P}=this,q=u(b*b),ue=u(R*R),$=u(D0*u(P*P)),oe=u(S*q),ee=b+R,H=u(u(ee*ee)-q-ue),K=oe+ue,A=K-$,V=oe-ue,se=u(H*A),X=u(K*V),re=u(H*V),ce=u(A*K);return new O(se,X,ce,re)}add(S){D(S);const{a:b,d:R}=e,{ex:P,ey:q,ez:ue,et:$}=this,{ex:oe,ey:ee,ez:H,et:K}=S;if(b===BigInt(-1)){const Te=u((q-P)*(ee+oe)),et=u((q+P)*(ee-oe)),We=u(et-Te);if(We===oo)return this.double();const Ze=u(ue*D0*K),ot=u($*D0*H),W=ot+Ze,B=et+Te,U=ot-Ze,Q=u(W*We),le=u(B*U),he=u(W*U),ge=u(We*B);return new O(Q,le,ge,he)}const A=u(P*oe),V=u(q*ee),se=u($*R*K),X=u(ue*H),re=u((P+q)*(oe+ee)-A-V),ce=X-se,be=X+se,Ee=u(V-b*A),Ae=u(re*ce),Ve=u(be*Ee),De=u(re*Ee),qe=u(ce*be);return new O(Ae,Ve,qe,De)}subtract(S){return this.add(S.negate())}wNAF(S){return L.wNAFCached(this,I,S,O.normalizeZ)}multiply(S){const{p:b,f:R}=this.wNAF(k(S,n));return O.normalizeZ([b,R])[0]}multiplyUnsafe(S){let b=C(S);return b===oo?x:this.equals(x)||b===us?this:this.equals(F)?this.wNAF(b).p:L.unsafeLadder(this,b)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return L.unsafeLadder(this,n).is0()}toAffine(S){const{ex:b,ey:R,ez:P}=this,q=this.is0();S==null&&(S=q?WJ:r.inv(P));const ue=u(b*S),$=u(R*S),oe=u(P*S);if(q)return{x:oo,y:us};if(oe!==us)throw new Error("invZ was invalid");return{x:ue,y:$}}clearCofactor(){const{h:S}=e;return S===us?this:this.multiplyUnsafe(S)}static fromHex(S,b=!1){const{d:R,a:P}=e,q=r.BYTES;S=Ln("pointHex",S,q);const ue=S.slice(),$=S[q-1];ue[q-1]=$&-129;const oe=mf(ue);oe===oo||(b?k(oe,l):k(oe,r.ORDER));const ee=u(oe*oe),H=u(ee-us),K=u(R*ee-P);let{isValid:A,value:V}=f(H,K);if(!A)throw new Error("Point.fromHex: invalid y coordinate");const se=(V&us)===us,X=($&128)!==0;if(!b&&V===oo&&X)throw new Error("Point.fromHex: x=0 and x_0=1");return X!==se&&(V=u(-V)),O.fromAffine({x:V,y:oe})}static fromPrivateKey(S){return j(S).point}toRawBytes(){const{x:S,y:b}=this.toAffine(),R=Jh(b,r.BYTES);return R[R.length-1]|=S&us?128:0,R}toHex(){return su(this.toRawBytes())}}O.BASE=new O(e.Gx,e.Gy,us,u(e.Gx*e.Gy)),O.ZERO=new O(oo,us,us,oo);const{BASE:F,ZERO:x}=O,L=Xk(O,a*8);function J(E){return rn(E,n)}function ne(E){return J(mf(E))}function j(E){const S=a;E=Ln("private key",E,S);const b=Ln("hashed private key",s(E),2*S),R=h(b.slice(0,S)),P=b.slice(S,2*S),q=ne(R),ue=F.multiply(q),$=ue.toRawBytes();return{head:R,prefix:P,scalar:q,point:ue,pointBytes:$}}function w(E){return j(E).pointBytes}function m(E=new Uint8Array,...S){const b=ou(...S);return ne(s(g(b,Ln("context",E),!!i)))}function d(E,S,b={}){E=Ln("message",E),i&&(E=i(E));const{prefix:R,scalar:P,pointBytes:q}=j(S),ue=m(b.context,R,E),$=F.multiply(ue).toRawBytes(),oe=m(b.context,$,q,E),ee=J(ue+oe*P);C(ee);const H=ou($,Jh(ee,r.BYTES));return Ln("result",H,a*2)}const p=HJ;function _(E,S,b,R=p){const{context:P,zip215:q}=R,ue=r.BYTES;E=Ln("signature",E,2*ue),S=Ln("message",S),i&&(S=i(S));const $=mf(E.slice(ue,2*ue));let oe,ee,H;try{oe=O.fromHex(b,q),ee=O.fromHex(E.slice(0,ue),q),H=F.multiplyUnsafe($)}catch{return!1}if(!q&&oe.isSmallOrder())return!1;const K=m(P,ee.toRawBytes(),oe.toRawBytes(),S);return ee.add(oe.multiplyUnsafe(K)).subtract(H).clearCofactor().equals(O.ZERO)}return F._setWindowSize(8),{CURVE:e,getPublicKey:w,sign:d,verify:_,ExtendedPoint:O,utils:{getExtendedPublicKey:j,randomPrivateKey:()=>o(r.BYTES),precompute(E=8,S=O.BASE){return S._setWindowSize(E),S.multiply(BigInt(3)),S}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wx=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),KE=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const YJ=BigInt(1),WE=BigInt(2);BigInt(3);const JJ=BigInt(5),XJ=BigInt(8);function ZJ(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=Wx,a=t*t%s*t%s,c=gn(a,WE,s)*a%s,l=gn(c,YJ,s)*t%s,u=gn(l,JJ,s)*l%s,f=gn(u,e,s)*u%s,h=gn(f,r,s)*f%s,g=gn(h,n,s)*h%s,y=gn(g,i,s)*g%s,v=gn(y,i,s)*g%s,T=gn(v,e,s)*u%s;return{pow_p_5_8:gn(T,WE,s)*t%s,b2:a}}function QJ(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function eX(t,e){const r=Wx,n=rn(e*e*e,r),i=rn(n*n*e,r),s=ZJ(t*i).pow_p_5_8;let o=rn(t*n*s,r);const a=rn(e*o*o,r),c=o,l=rn(o*KE,r),u=a===t,f=a===rn(-t,r),h=a===rn(-t*KE,r);return u&&(o=c),(f||h)&&(o=l),fD(o,r)&&(o=rn(-o,r)),{isValid:u||f,value:o}}const tX=Gk(Wx,void 0,!0),rX={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:tX,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:XJ,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:KJ,randomBytes:Fk,adjustScalarBytes:QJ,uvRatio:eX},dd=GJ(rX);var B0=Ax.Buffer;function nX(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function u(g){if((Array.isArray(g)||g instanceof Uint8Array)&&(g=B0.from(g)),!B0.isBuffer(g))throw new TypeError("Expected Buffer");if(g.length===0)return"";for(var y=0,v=0,T=0,k=g.length;T!==k&&g[T]===0;)T++,y++;for(var C=(k-T)*l+1>>>0,I=new Uint8Array(C);T!==k;){for(var D=g[T],O=0,F=C-1;(D!==0||O<v)&&F!==-1;F--,O++)D+=256*I[F]>>>0,I[F]=D%o>>>0,D=D/o>>>0;if(D!==0)throw new Error("Non-zero carry");v=O,T++}for(var x=C-v;x!==C&&I[x]===0;)x++;for(var L=a.repeat(y);x<C;++x)L+=t.charAt(I[x]);return L}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return B0.alloc(0);for(var y=0,v=0,T=0;g[y]===a;)v++,y++;for(var k=(g.length-y)*c+1>>>0,C=new Uint8Array(k);g[y];){var I=e[g.charCodeAt(y)];if(I===255)return;for(var D=0,O=k-1;(I!==0||D<T)&&O!==-1;O--,D++)I+=o*C[O]>>>0,C[O]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");T=D,y++}for(var F=k-T;F!==k&&C[F]===0;)F++;var x=B0.allocUnsafe(v+(k-F));x.fill(0,0,v);for(var L=v;F!==k;)x[L++]=C[F++];return x}function h(g){var y=f(g);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:h}}var iX=nX,sX=iX,oX="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",aX=sX(oX);const ai=An(aX);var oi={},$0=Ax.Buffer;function cX(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function u(g){if((Array.isArray(g)||g instanceof Uint8Array)&&(g=$0.from(g)),!$0.isBuffer(g))throw new TypeError("Expected Buffer");if(g.length===0)return"";for(var y=0,v=0,T=0,k=g.length;T!==k&&g[T]===0;)T++,y++;for(var C=(k-T)*l+1>>>0,I=new Uint8Array(C);T!==k;){for(var D=g[T],O=0,F=C-1;(D!==0||O<v)&&F!==-1;F--,O++)D+=256*I[F]>>>0,I[F]=D%o>>>0,D=D/o>>>0;if(D!==0)throw new Error("Non-zero carry");v=O,T++}for(var x=C-v;x!==C&&I[x]===0;)x++;for(var L=a.repeat(y);x<C;++x)L+=t.charAt(I[x]);return L}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return $0.alloc(0);for(var y=0,v=0,T=0;g[y]===a;)v++,y++;for(var k=(g.length-y)*c+1>>>0,C=new Uint8Array(k);g[y];){var I=e[g.charCodeAt(y)];if(I===255)return;for(var D=0,O=k-1;(I!==0||D<T)&&O!==-1;O--,D++)I+=o*C[O]>>>0,C[O]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");T=D,y++}for(var F=k-T;F!==k&&C[F]===0;)F++;var x=$0.allocUnsafe(v+(k-F));x.fill(0,0,v);for(var L=v;F!==k;)x[L++]=C[F++];return x}function h(g){var y=f(g);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:h}}var lX=cX,uX=lX,fX="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",dX=uX(fX);function Ma(t,e,r){return e<=t&&t<=r}function Jm(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function hX(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var o=t.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=s&1023,c=o&1023;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}function pX(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var _1=-1;function Hx(t){this.tokens=[].slice.call(t)}Hx.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():_1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Kf=-1;function Zw(t,e){if(t)throw TypeError("Decoder error");return e||65533}var S1="utf-8";function E1(t,e){if(!(this instanceof E1))return new E1(t,e);if(t=t!==void 0?String(t).toLowerCase():S1,t!==S1)throw new Error("Encoding not supported. Only utf-8 is supported");e=Jm(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}E1.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=Jm(r),this._streaming||(this._decoder=new gX({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new Hx(n),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==Kf);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===Kf)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),pX(s)}};function A1(t,e){if(!(this instanceof A1))return new A1(t,e);if(t=t!==void 0?String(t).toLowerCase():S1,t!==S1)throw new Error("Encoding not supported. Only utf-8 is supported");e=Jm(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}A1.prototype={encode:function(e,r){e=e?String(e):"",r=Jm(r),this._streaming||(this._encoder=new mX(this._options)),this._streaming=!!r.stream;for(var n=[],i=new Hx(hX(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Kf);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Kf;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function gX(t){var e=t.fatal,r=0,n=0,i=0,s=128,o=191;this.handler=function(a,c){if(c===_1&&i!==0)return i=0,Zw(e);if(c===_1)return Kf;if(i===0){if(Ma(c,0,127))return c;if(Ma(c,194,223))i=1,r=c-192;else if(Ma(c,224,239))c===224&&(s=160),c===237&&(o=159),i=2,r=c-224;else if(Ma(c,240,244))c===240&&(s=144),c===244&&(o=143),i=3,r=c-240;else return Zw(e);return r=r<<6*i,null}if(!Ma(c,s,o))return r=i=n=0,s=128,o=191,a.prepend(c),Zw(e);if(s=128,o=191,n+=1,r+=c-128<<6*(i-n),n!==i)return null;var l=r;return r=i=n=0,l}}function mX(t){t.fatal,this.handler=function(e,r){if(r===_1)return Kf;if(Ma(r,0,127))return r;var n,i;Ma(r,128,2047)?(n=1,i=192):Ma(r,2048,65535)?(n=2,i=224):Ma(r,65536,1114111)&&(n=3,i=240);for(var s=[(r>>6*n)+i];n>0;){var o=r>>6*(n-1);s.push(128|o&63),n-=1}return s}}const yX=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:E1,TextEncoder:A1},Symbol.toStringTag,{value:"Module"})),wX=wp(yX);var bX=ui&&ui.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vX=ui&&ui.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ya=ui&&ui.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},xX=ui&&ui.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&bX(e,t,r);return vX(e,t),e},MR=ui&&ui.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oi,"__esModule",{value:!0});var OR=oi.deserializeUnchecked=FR=oi.deserialize=UR=oi.serialize=oi.BinaryReader=oi.BinaryWriter=oi.BorshError=oi.baseDecode=oi.baseEncode=void 0;const Pc=MR(Bk),LR=MR(dX),_X=xX(wX),SX=typeof TextDecoder!="function"?_X.TextDecoder:TextDecoder,EX=new SX("utf-8",{fatal:!0});function AX(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),LR.default.encode(Buffer.from(t))}oi.baseEncode=AX;function IX(t){return Buffer.from(LR.default.decode(t))}oi.baseDecode=IX;const Qw=1024;class Bi extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}oi.BorshError=Bi;class DR{constructor(){this.buf=Buffer.alloc(Qw),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Qw)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Pc.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Pc.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Pc.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Pc.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Qw)]),this.length+=e.length}writeString(e){this.maybeResize();const r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}}oi.BinaryWriter=DR;function wa(t,e,r){const n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Bi("Reached the end of buffer when deserializing")}throw s}}}class ks{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Pc.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Pc.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Pc.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Pc.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Bi(`Expected buffer length ${e} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){const e=this.readU32(),r=this.readBuffer(e);try{return EX.decode(r)}catch(n){throw new Bi(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}}ya([wa],ks.prototype,"readU8",null);ya([wa],ks.prototype,"readU16",null);ya([wa],ks.prototype,"readU32",null);ya([wa],ks.prototype,"readU64",null);ya([wa],ks.prototype,"readU128",null);ya([wa],ks.prototype,"readU256",null);ya([wa],ks.prototype,"readU512",null);ya([wa],ks.prototype,"readString",null);ya([wa],ks.prototype,"readFixedArray",null);ya([wa],ks.prototype,"readArray",null);oi.BinaryReader=ks;function BR(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Il(t,e,r,n,i){try{if(typeof n=="string")i[`write${BR(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new Bi(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new Bi(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)Il(t,null,r[s],n[0],i)}else i.writeArray(r,s=>{Il(t,e,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),Il(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((s,o)=>{Il(t,e,o,n.key,i),Il(t,e,s,n.value,i)});break}default:throw new Bi(`FieldType ${n} unrecognized`)}else $R(t,r,i)}catch(s){throw s instanceof Bi&&s.addToFieldPath(e),s}}function $R(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}const n=t.get(e.constructor);if(!n)throw new Bi(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{Il(t,i,e[i],s,r)});else if(n.kind==="enum"){const i=e[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){r.writeU8(s),Il(t,o,e[o],a,r);break}}}else throw new Bi(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function kX(t,e,r=DR){const n=new r;return $R(t,e,n),n.toArray()}var UR=oi.serialize=kX;function kl(t,e,r,n){try{if(typeof r=="string")return n[`read${BR(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){const i=[];for(let s=0;s<r[1];s++)i.push(kl(t,null,r[0],n));return i}else return n.readArray(()=>kl(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?kl(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const a=kl(t,e,r.key,n),c=kl(t,e,r.value,n);i.set(a,c)}return i}return Vx(t,r,n)}catch(i){throw i instanceof Bi&&i.addToFieldPath(e),i}}function Vx(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new Bi(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=kl(t,s,o,r);return new e(i)}if(n.kind==="enum"){const i=r.readU8();if(i>=n.values.length)throw new Bi(`Enum index: ${i} is out of range`);const[s,o]=n.values[i],a=kl(t,s,o,r);return new e({[s]:a})}throw new Bi(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function CX(t,e,r,n=ks){const i=new n(r),s=Vx(t,e,i);if(i.offset<r.length)throw new Bi(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s}var FR=oi.deserialize=CX;function RX(t,e,r,n=ks){const i=new n(r);return Vx(t,e,i)}OR=oi.deserializeUnchecked=RX;var Se={};Object.defineProperty(Se,"__esModule",{value:!0});Se.s16=Se.s8=Se.nu64be=Se.u48be=Se.u40be=Se.u32be=Se.u24be=Se.u16be=ni=Se.nu64=Se.u48=Se.u40=It=Se.u32=Se.u24=Us=Se.u16=Sr=Se.u8=Hc=Se.offset=Se.greedy=Se.Constant=Se.UTF8=Se.CString=Se.Blob=Se.Boolean=Se.BitField=Se.BitStructure=Se.VariantLayout=Se.Union=Se.UnionLayoutDiscriminator=Se.UnionDiscriminator=Se.Structure=Se.Sequence=Se.DoubleBE=Se.Double=Se.FloatBE=Se.Float=Se.NearInt64BE=Se.NearInt64=Se.NearUInt64BE=Se.NearUInt64=Se.IntBE=Se.Int=Se.UIntBE=Se.UInt=Se.OffsetLayout=Se.GreedyCount=Se.ExternalLayout=Se.bindConstructorLayout=Se.nameWithProperty=Se.Layout=Se.uint8ArrayToBuffer=Se.checkUint8Array=void 0;Se.constant=Se.utf8=Se.cstr=Xr=Se.blob=Se.unionLayoutDiscriminator=Se.union=ci=Se.seq=Se.bits=kt=Se.struct=Se.f64be=Se.f64=Se.f32be=Se.f32=Se.ns64be=Se.s48be=Se.s40be=Se.s32be=Se.s24be=Se.s16be=hs=Se.ns64=Se.s48=Se.s40=Se.s32=Se.s24=void 0;const Gx=Rt;function hd(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Se.checkUint8Array=hd;function Ir(t){return hd(t),Gx.Buffer.from(t.buffer,t.byteOffset,t.length)}Se.uint8ArrayToBuffer=Ir;class Or{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}Se.Layout=Or;function Yx(t,e){return e.property?t+"["+e.property+"]":t}Se.nameWithProperty=Yx;function PX(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Or))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}Se.bindConstructorLayout=PX;class Xi extends Or{isCount(){throw new Error("ExternalLayout is abstract")}}Se.ExternalLayout=Xi;class jR extends Xi{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){hd(e);const n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}}Se.GreedyCount=jR;class Jx extends Xi{constructor(e,r=0,n){if(!(e instanceof Or))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Vs||this.layout instanceof So}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}}Se.OffsetLayout=Jx;class Vs extends Or{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Ir(e).readUIntLE(r,this.span)}encode(e,r,n=0){return Ir(r).writeUIntLE(e,n,this.span),this.span}}Se.UInt=Vs;class So extends Or{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Ir(e).readUIntBE(r,this.span)}encode(e,r,n=0){return Ir(r).writeUIntBE(e,n,this.span),this.span}}Se.UIntBE=So;class _u extends Or{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Ir(e).readIntLE(r,this.span)}encode(e,r,n=0){return Ir(r).writeIntLE(e,n,this.span),this.span}}Se.Int=_u;class pd extends Or{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Ir(e).readIntBE(r,this.span)}encode(e,r,n=0){return Ir(r).writeIntBE(e,n,this.span),this.span}}Se.IntBE=pd;const v2=Math.pow(2,32);function Xm(t){const e=Math.floor(t/v2),r=t-e*v2;return{hi32:e,lo32:r}}function Zm(t,e){return t*v2+e}class zR extends Or{constructor(e){super(8,e)}decode(e,r=0){const n=Ir(e),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return Zm(s,i)}encode(e,r,n=0){const i=Xm(e),s=Ir(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}}Se.NearUInt64=zR;class qR extends Or{constructor(e){super(8,e)}decode(e,r=0){const n=Ir(e),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return Zm(i,s)}encode(e,r,n=0){const i=Xm(e),s=Ir(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}}Se.NearUInt64BE=qR;class KR extends Or{constructor(e){super(8,e)}decode(e,r=0){const n=Ir(e),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return Zm(s,i)}encode(e,r,n=0){const i=Xm(e),s=Ir(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}}Se.NearInt64=KR;class WR extends Or{constructor(e){super(8,e)}decode(e,r=0){const n=Ir(e),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return Zm(i,s)}encode(e,r,n=0){const i=Xm(e),s=Ir(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}}Se.NearInt64BE=WR;class HR extends Or{constructor(e){super(4,e)}decode(e,r=0){return Ir(e).readFloatLE(r)}encode(e,r,n=0){return Ir(r).writeFloatLE(e,n),4}}Se.Float=HR;class VR extends Or{constructor(e){super(4,e)}decode(e,r=0){return Ir(e).readFloatBE(r)}encode(e,r,n=0){return Ir(r).writeFloatBE(e,n),4}}Se.FloatBE=VR;class GR extends Or{constructor(e){super(8,e)}decode(e,r=0){return Ir(e).readDoubleLE(r)}encode(e,r,n=0){return Ir(r).writeDoubleLE(e,n),8}}Se.Double=GR;class YR extends Or{constructor(e){super(8,e)}decode(e,r=0){return Ir(e).readDoubleBE(r)}encode(e,r,n=0){return Ir(r).writeDoubleBE(e,n),8}}Se.DoubleBE=YR;class JR extends Or{constructor(e,r,n){if(!(e instanceof Or))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Xi&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Xi)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Xi&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){const n=[];let i=0,s=this.count;for(s instanceof Xi&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,r,n+o),0);return this.count instanceof Xi&&this.count.encode(e.length,r,n),s}}Se.Sequence=JR;class XR extends Or{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Or,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{const o=s.getSpan(e,r);return r+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){hd(e);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){const i=n;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const l=e[a.property];l!==void 0&&(o=a.encode(l,r,n),0>c&&(c=a.getSpan(r,n)))}s=n,n+=c}return s+o-i}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}Se.Structure=XR;class Xx{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}}Se.UnionDiscriminator=Xx;class I1 extends Xx{constructor(e,r){if(!(e instanceof Xi&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}Se.UnionLayoutDiscriminator=I1;class Zx extends Or{constructor(e,r,n){let i;if(e instanceof Vs||e instanceof So)i=new I1(new Jx(e));else if(e instanceof Xi&&e.isCount())i=new I1(e);else if(e instanceof Xx)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Or))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof Vs||e instanceof So)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Vs||e instanceof So,this.defaultLayout=r,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n;const i=this.discriminator,s=i.decode(e,r),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[a.property]=a.decode(e,r+c)}else n=o.decode(e,r);return n}encode(e,r,n=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],r,n),a+o.encode(e[o.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){const i=new ZR(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}}Se.Union=Zx;class ZR extends Or{constructor(e,r,n,i){if(!(e instanceof Zx))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Or))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}Se.VariantLayout=ZR;function Wu(t){return 0>t&&(t+=4294967296),t}class Qx extends Or{constructor(e,r,n){if(!(e instanceof Vs||e instanceof So))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Wu(s),this},this._packedGetValue=function(){return i}}decode(e,r=0){const n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){const i=this.word.decode(r,n);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){const n=new e_(this,e,r);return this.fields.push(n),n}addBoolean(e){const r=new QR(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}}Se.BitStructure=Qx;class e_{constructor(e,r,n){if(!(e instanceof Qx))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=Wu(this.valueMask<<this.start),this.property=n}decode(e,r){const n=this.container._packedGetValue();return Wu(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Wu(e&this.valueMask))throw new TypeError(Yx("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=Wu(e<<this.start);this.container._packedSetValue(Wu(r&~this.wordMask)|n)}}Se.BitField=e_;let QR=class extends e_{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Se.Boolean=QR;let eP=class extends Or{constructor(e,r){if(!(e instanceof Xi&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Xi||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),Ir(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Xi&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(Yx("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");const s=Ir(e);return Ir(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof Xi&&this.length.encode(i,r,n),i}};Se.Blob=eP;class tP extends Or{constructor(e){super(-1,e)}getSpan(e,r=0){hd(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){const n=this.getSpan(e,r);return Ir(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const i=Gx.Buffer.from(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");const o=Ir(r);return i.copy(o,n),o[n+s]=0,s+1}}Se.CString=tP;class rP extends Or{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return hd(e),e.length-r}decode(e,r=0){const n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Ir(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const i=Gx.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(Ir(r),n),s}}Se.UTF8=rP;class nP extends Or{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}}Se.Constant=nP;Se.greedy=(t,e)=>new jR(t,e);var Hc=Se.offset=(t,e,r)=>new Jx(t,e,r),Sr=Se.u8=t=>new Vs(1,t),Us=Se.u16=t=>new Vs(2,t);Se.u24=t=>new Vs(3,t);var It=Se.u32=t=>new Vs(4,t);Se.u40=t=>new Vs(5,t);Se.u48=t=>new Vs(6,t);var ni=Se.nu64=t=>new zR(t);Se.u16be=t=>new So(2,t);Se.u24be=t=>new So(3,t);Se.u32be=t=>new So(4,t);Se.u40be=t=>new So(5,t);Se.u48be=t=>new So(6,t);Se.nu64be=t=>new qR(t);Se.s8=t=>new _u(1,t);Se.s16=t=>new _u(2,t);Se.s24=t=>new _u(3,t);Se.s32=t=>new _u(4,t);Se.s40=t=>new _u(5,t);Se.s48=t=>new _u(6,t);var hs=Se.ns64=t=>new KR(t);Se.s16be=t=>new pd(2,t);Se.s24be=t=>new pd(3,t);Se.s32be=t=>new pd(4,t);Se.s40be=t=>new pd(5,t);Se.s48be=t=>new pd(6,t);Se.ns64be=t=>new WR(t);Se.f32=t=>new HR(t);Se.f32be=t=>new VR(t);Se.f64=t=>new GR(t);Se.f64be=t=>new YR(t);var kt=Se.struct=(t,e,r)=>new XR(t,e,r);Se.bits=(t,e,r)=>new Qx(t,e,r);var ci=Se.seq=(t,e,r)=>new JR(t,e,r);Se.union=(t,e,r)=>new Zx(t,e,r);Se.unionLayoutDiscriminator=(t,e)=>new I1(t,e);var Xr=Se.blob=(t,e)=>new eP(t,e);Se.cstr=t=>new tP(t);Se.utf8=(t,e)=>new rP(t,e);Se.constant=(t,e)=>new nP(t,e);var Bp={};Object.defineProperty(Bp,"__esModule",{value:!0});function TX(t){{const e=Buffer.from(t);e.reverse();const r=e.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}}var NX=Bp.toBigIntLE=TX;function MX(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}Bp.toBigIntBE=MX;function OX(t,e){{const r=t.toString(16),n=Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}}var iP=Bp.toBufferLE=OX;function LX(t,e){{const r=t.toString(16);return Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex")}}Bp.toBufferBE=LX;class DX extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function BX(t){return $p(t)&&typeof t[Symbol.iterator]=="function"}function $p(t){return typeof t=="object"&&t!=null}function k1(t){return $p(t)&&!Array.isArray(t)}function ko(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function $X(t){const{done:e,value:r}=t.next();return e?void 0:r}function UX(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ko(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*HE(t,e,r,n){BX(t)||(t=[t]);for(const i of t){const s=UX(i,e,r,n);s&&(yield s)}}function*t_(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i,mask:o};s&&(t=e.coercer(t,a));let c="valid";for(const l of e.validator(t,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,u,f]of e.entries(t,a)){const h=t_(u,f,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,u],coerce:s,mask:o,message:r.message});for(const g of h)g[0]?(c=g[0].refinement!=null?"not_refined":"not_valid",yield[g[0],void 0]):s&&(u=g[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):$p(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(const l of e.refiner(t,a))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}let ba=class{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,l)=>{const u=i(c,l);return HE(u,l,this,c)}:this.validator=()=>[],s?this.refiner=(c,l)=>{const u=s(c,l);return HE(u,l,this,c)}:this.refiner=()=>[]}assert(e,r){return sP(e,this,r)}create(e,r){return ct(e,this,r)}is(e){return oP(e,this)}mask(e,r){return FX(e,this,r)}validate(e,r={}){return Up(e,this,r)}};function sP(t,e,r){const n=Up(t,e,{message:r});if(n[0])throw n[0]}function ct(t,e,r){const n=Up(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function FX(t,e,r){const n=Up(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function oP(t,e){return!Up(t,e)[0]}function Up(t,e,r={}){const n=t_(t,e,r),i=$X(n);return i[0]?[new DX(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Su(t,e){return new ba({type:t,schema:null,validator:e})}function jX(){return Su("any",()=>!0)}function pt(t){return new ba({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ko(e)}`}})}function da(){return Su("boolean",t=>typeof t=="boolean")}function r_(t){return Su("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ko(e)}`)}function an(t){const e=ko(t),r=typeof t;return new ba({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${ko(n)}`}})}function zX(){return Su("never",()=>!1)}function yt(t){return new ba({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function ve(){return Su("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ko(t)}`)}function qt(t){return new ba({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function aP(t,e){return new ba({type:"record",schema:null,*entries(r){if($p(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return k1(r)||`Expected an object, but received: ${ko(r)}`},coercer(r){return k1(r)?{...r}:r}})}function rt(){return Su("string",t=>typeof t=="string"||`Expected a string, but received: ${ko(t)}`)}function n_(t){const e=zX();return new ba({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${ko(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function He(t){const e=Object.keys(t);return new ba({type:"type",schema:t,*entries(r){if($p(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return k1(r)||`Expected an object, but received: ${ko(r)}`},coercer(r){return k1(r)?{...r}:r}})}function Fi(t){const e=t.map(r=>r.type).join(" | ");return new ba({type:"union",schema:null,coercer(r,n){for(const i of t){const[s,o]=i.validate(r,{coerce:!0,mask:n.mask});if(!s)return o}return r},validator(r,n){const i=[];for(const s of t){const[...o]=t_(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ko(r)}`,...i]}})}function gd(){return Su("unknown",()=>!0)}function Fp(t,e,r){return new ba({...t,coercer:(n,i)=>oP(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var U0,qX=new Uint8Array(16);function cP(){if(!U0&&(U0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!U0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return U0(qX)}const KX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Qm(t){return typeof t=="string"&&KX.test(t)}var ri=[];for(var eb=0;eb<256;++eb)ri.push((eb+256).toString(16).substr(1));function ey(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(ri[t[e+0]]+ri[t[e+1]]+ri[t[e+2]]+ri[t[e+3]]+"-"+ri[t[e+4]]+ri[t[e+5]]+"-"+ri[t[e+6]]+ri[t[e+7]]+"-"+ri[t[e+8]]+ri[t[e+9]]+"-"+ri[t[e+10]]+ri[t[e+11]]+ri[t[e+12]]+ri[t[e+13]]+ri[t[e+14]]+ri[t[e+15]]).toLowerCase();if(!Qm(r))throw TypeError("Stringified UUID is invalid");return r}var VE,tb,rb=0,nb=0;function WX(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var s=t.node||VE,o=t.clockseq!==void 0?t.clockseq:tb;if(s==null||o==null){var a=t.random||(t.rng||cP)();s==null&&(s=VE=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=tb=(a[6]<<8|a[7])&16383)}var c=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:nb+1,u=c-rb+(l-nb)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||c>rb)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");rb=c,nb=l,tb=o,c+=122192928e5;var f=((c&268435455)*1e4+l)%4294967296;i[n++]=f>>>24&255,i[n++]=f>>>16&255,i[n++]=f>>>8&255,i[n++]=f&255;var h=c/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=h&255,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var g=0;g<6;++g)i[n+g]=s[g];return e||ey(i)}function lP(t){if(!Qm(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function HX(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var VX="6ba7b810-9dad-11d1-80b4-00c04fd430c8",GX="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function uP(t,e,r){function n(i,s,o,a){if(typeof i=="string"&&(i=HX(i)),typeof s=="string"&&(s=lP(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=r(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(var l=0;l<16;++l)o[a+l]=c[l];return o}return ey(c)}try{n.name=t}catch{}return n.DNS=VX,n.URL=GX,n}function YX(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return JX(XX(ZX(t),t.length*8))}function JX(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(o)}return e}function fP(t){return(t+64>>>9<<4)+14+1}function XX(t,e){t[e>>5]|=128<<e%32,t[fP(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=r,c=n,l=i,u=s;r=_i(r,n,i,s,t[o],7,-680876936),s=_i(s,r,n,i,t[o+1],12,-389564586),i=_i(i,s,r,n,t[o+2],17,606105819),n=_i(n,i,s,r,t[o+3],22,-1044525330),r=_i(r,n,i,s,t[o+4],7,-176418897),s=_i(s,r,n,i,t[o+5],12,1200080426),i=_i(i,s,r,n,t[o+6],17,-1473231341),n=_i(n,i,s,r,t[o+7],22,-45705983),r=_i(r,n,i,s,t[o+8],7,1770035416),s=_i(s,r,n,i,t[o+9],12,-1958414417),i=_i(i,s,r,n,t[o+10],17,-42063),n=_i(n,i,s,r,t[o+11],22,-1990404162),r=_i(r,n,i,s,t[o+12],7,1804603682),s=_i(s,r,n,i,t[o+13],12,-40341101),i=_i(i,s,r,n,t[o+14],17,-1502002290),n=_i(n,i,s,r,t[o+15],22,1236535329),r=Si(r,n,i,s,t[o+1],5,-165796510),s=Si(s,r,n,i,t[o+6],9,-1069501632),i=Si(i,s,r,n,t[o+11],14,643717713),n=Si(n,i,s,r,t[o],20,-373897302),r=Si(r,n,i,s,t[o+5],5,-701558691),s=Si(s,r,n,i,t[o+10],9,38016083),i=Si(i,s,r,n,t[o+15],14,-660478335),n=Si(n,i,s,r,t[o+4],20,-405537848),r=Si(r,n,i,s,t[o+9],5,568446438),s=Si(s,r,n,i,t[o+14],9,-1019803690),i=Si(i,s,r,n,t[o+3],14,-187363961),n=Si(n,i,s,r,t[o+8],20,1163531501),r=Si(r,n,i,s,t[o+13],5,-1444681467),s=Si(s,r,n,i,t[o+2],9,-51403784),i=Si(i,s,r,n,t[o+7],14,1735328473),n=Si(n,i,s,r,t[o+12],20,-1926607734),r=Ei(r,n,i,s,t[o+5],4,-378558),s=Ei(s,r,n,i,t[o+8],11,-2022574463),i=Ei(i,s,r,n,t[o+11],16,1839030562),n=Ei(n,i,s,r,t[o+14],23,-35309556),r=Ei(r,n,i,s,t[o+1],4,-1530992060),s=Ei(s,r,n,i,t[o+4],11,1272893353),i=Ei(i,s,r,n,t[o+7],16,-155497632),n=Ei(n,i,s,r,t[o+10],23,-1094730640),r=Ei(r,n,i,s,t[o+13],4,681279174),s=Ei(s,r,n,i,t[o],11,-358537222),i=Ei(i,s,r,n,t[o+3],16,-722521979),n=Ei(n,i,s,r,t[o+6],23,76029189),r=Ei(r,n,i,s,t[o+9],4,-640364487),s=Ei(s,r,n,i,t[o+12],11,-421815835),i=Ei(i,s,r,n,t[o+15],16,530742520),n=Ei(n,i,s,r,t[o+2],23,-995338651),r=Ai(r,n,i,s,t[o],6,-198630844),s=Ai(s,r,n,i,t[o+7],10,1126891415),i=Ai(i,s,r,n,t[o+14],15,-1416354905),n=Ai(n,i,s,r,t[o+5],21,-57434055),r=Ai(r,n,i,s,t[o+12],6,1700485571),s=Ai(s,r,n,i,t[o+3],10,-1894986606),i=Ai(i,s,r,n,t[o+10],15,-1051523),n=Ai(n,i,s,r,t[o+1],21,-2054922799),r=Ai(r,n,i,s,t[o+8],6,1873313359),s=Ai(s,r,n,i,t[o+15],10,-30611744),i=Ai(i,s,r,n,t[o+6],15,-1560198380),n=Ai(n,i,s,r,t[o+13],21,1309151649),r=Ai(r,n,i,s,t[o+4],6,-145523070),s=Ai(s,r,n,i,t[o+11],10,-1120210379),i=Ai(i,s,r,n,t[o+2],15,718787259),n=Ai(n,i,s,r,t[o+9],21,-343485551),r=Tc(r,a),n=Tc(n,c),i=Tc(i,l),s=Tc(s,u)}return[r,n,i,s]}function ZX(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(fP(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function Tc(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function QX(t,e){return t<<e|t>>>32-e}function ty(t,e,r,n,i,s){return Tc(QX(Tc(Tc(e,t),Tc(n,s)),i),r)}function _i(t,e,r,n,i,s,o){return ty(e&r|~e&n,t,e,i,s,o)}function Si(t,e,r,n,i,s,o){return ty(e&n|r&~n,t,e,i,s,o)}function Ei(t,e,r,n,i,s,o){return ty(e^r^n,t,e,i,s,o)}function Ai(t,e,r,n,i,s,o){return ty(r^(e|~n),t,e,i,s,o)}var eZ=uP("v3",48,YX);const tZ=eZ;function rZ(t,e,r){t=t||{};var n=t.random||(t.rng||cP)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return ey(n)}function nZ(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function ib(t,e){return t<<e|t>>>32-e}function iZ(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=t[c*64+u*4]<<24|t[c*64+u*4+1]<<16|t[c*64+u*4+2]<<8|t[c*64+u*4+3];a[c]=l}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var h=new Uint32Array(80),g=0;g<16;++g)h[g]=a[f][g];for(var y=16;y<80;++y)h[y]=ib(h[y-3]^h[y-8]^h[y-14]^h[y-16],1);for(var v=r[0],T=r[1],k=r[2],C=r[3],I=r[4],D=0;D<80;++D){var O=Math.floor(D/20),F=ib(v,5)+nZ(O,T,k,C)+I+e[O]+h[D]>>>0;I=C,C=k,k=ib(T,30)>>>0,T=v,v=F}r[0]=r[0]+v>>>0,r[1]=r[1]+T>>>0,r[2]=r[2]+k>>>0,r[3]=r[3]+C>>>0,r[4]=r[4]+I>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var sZ=uP("v5",80,iZ);const oZ=sZ,aZ="00000000-0000-0000-0000-000000000000";function cZ(t){if(!Qm(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const lZ=Object.freeze(Object.defineProperty({__proto__:null,NIL:aZ,parse:lP,stringify:ey,v1:WX,v3:tZ,v4:rZ,v5:oZ,validate:Qm,version:cZ},Symbol.toStringTag,{value:"Module"})),dP=wp(lZ),uZ=dP.v4,fZ=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};const i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof r>"u"){const o=typeof n.generator=="function"?n.generator:function(){return uZ()};s.id=o(s,n)}else i===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s};var dZ=fZ;const hZ=dP.v4,pZ=dZ,op=function(t,e){if(!(this instanceof op))return new op(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return hZ()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var gZ=op;op.prototype.request=function(t,e,r,n){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")n=e,s=t;else{typeof r=="function"&&(n=r,r=void 0);const l=typeof n=="function";try{s=pZ(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(l)return n(u);throw u}if(!l)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(l){return n(l)}return this.callServer(c,function(l,u){i._parseResponse(l,u,n)}),s};op.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return r(null,n.filter(i),n.filter(s))}else return r(null,n.error,n.result);r(null,n)};const mZ=An(gZ);var hP={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function s(c,l,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new i(u,f||c,h),y=r?r+l:l;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],g]:c._events[y].push(g):(c._events[y]=g,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)e.call(u,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=r?r+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,y=new Array(g);h<g;h++)y[h]=f[h].fn;return y},a.prototype.listenerCount=function(l){var u=r?r+l:l,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(l,u,f,h,g,y){var v=r?r+l:l;if(!this._events[v])return!1;var T=this._events[v],k=arguments.length,C,I;if(T.fn){switch(T.once&&this.removeListener(l,T.fn,void 0,!0),k){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,u),!0;case 3:return T.fn.call(T.context,u,f),!0;case 4:return T.fn.call(T.context,u,f,h),!0;case 5:return T.fn.call(T.context,u,f,h,g),!0;case 6:return T.fn.call(T.context,u,f,h,g,y),!0}for(I=1,C=new Array(k-1);I<k;I++)C[I-1]=arguments[I];T.fn.apply(T.context,C)}else{var D=T.length,O;for(I=0;I<D;I++)switch(T[I].once&&this.removeListener(l,T[I].fn,void 0,!0),k){case 1:T[I].fn.call(T[I].context);break;case 2:T[I].fn.call(T[I].context,u);break;case 3:T[I].fn.call(T[I].context,u,f);break;case 4:T[I].fn.call(T[I].context,u,f,h);break;default:if(!C)for(O=1,C=new Array(k-1);O<k;O++)C[O-1]=arguments[O];T[I].fn.apply(T[I].context,C)}}return!0},a.prototype.on=function(l,u,f){return s(this,l,u,f,!1)},a.prototype.once=function(l,u,f){return s(this,l,u,f,!0)},a.prototype.removeListener=function(l,u,f,h){var g=r?r+l:l;if(!this._events[g])return this;if(!u)return o(this,g),this;var y=this._events[g];if(y.fn)y.fn===u&&(!h||y.once)&&(!f||y.context===f)&&o(this,g);else{for(var v=0,T=[],k=y.length;v<k;v++)(y[v].fn!==u||h&&!y[v].once||f&&y[v].context!==f)&&T.push(y[v]);T.length?this._events[g]=T.length===1?T[0]:T:o(this,g)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(hP);var yZ=hP.exports;const pP=An(yZ);var wZ=class extends pP{constructor(e,r,n){super();Tr(this,"socket");this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,r,n){const i=n||r;try{this.socket.send(e),i()}catch(s){i(s)}}close(e,r){this.socket.close(e,r)}addEventListener(e,r,n){this.socket.addEventListener(e,r,n)}};function bZ(t,e){return new wZ(t,e)}var vZ=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},xZ=class extends pP{constructor(e,r="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...a}={},c,l){super();Tr(this,"address");Tr(this,"rpc_id");Tr(this,"queue");Tr(this,"options");Tr(this,"autoconnect");Tr(this,"ready");Tr(this,"reconnect");Tr(this,"reconnect_timer_id");Tr(this,"reconnect_interval");Tr(this,"max_reconnects");Tr(this,"rest_options");Tr(this,"current_reconnects");Tr(this,"generate_request_id");Tr(this,"socket");Tr(this,"webSocketFactory");Tr(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new vZ,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,r,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,r),c={jsonrpc:"2.0",method:e,params:r||void 0,id:a};this.socket.send(this.dataPack.encode(c),i,l=>{if(l)return o(l);this.queue[a]={promise:[s,o]},n&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},n))})})}async login(e){const r=await this.call("rpc.login",e);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(e,r){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:r};this.socket.send(this.dataPack.encode(s),o=>{if(o)return i(o);n()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const r=await this.call("rpc.on",e);if(typeof e=="string"&&r[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);return r}async unsubscribe(e){typeof e=="string"&&(e=[e]);const r=await this.call("rpc.off",e);if(typeof e=="string"&&r[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(e,r){this.socket.close(e||1e3,r)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=Rt.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let s=0;s<n.params.length;s++)i.push(n.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n==null?void 0:n.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,r),this.reconnect_interval)))})}};const F0=BigInt(2**32-1),GE=BigInt(32);function _Z(t,e=!1){return e?{h:Number(t&F0),l:Number(t>>GE&F0)}:{h:Number(t>>GE&F0)|0,l:Number(t&F0)|0}}function SZ(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=_Z(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const EZ=(t,e,r)=>t<<r|e>>>32-r,AZ=(t,e,r)=>e<<r|t>>>32-r,IZ=(t,e,r)=>e<<r-32|t>>>64-r,kZ=(t,e,r)=>t<<r-32|e>>>64-r,gP=[],mP=[],yP=[],CZ=BigInt(0),qd=BigInt(1),RZ=BigInt(2),PZ=BigInt(7),TZ=BigInt(256),NZ=BigInt(113);for(let t=0,e=qd,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],gP.push(2*(5*n+r)),mP.push((t+1)*(t+2)/2%64);let i=CZ;for(let s=0;s<7;s++)e=(e<<qd^(e>>PZ)*NZ)%TZ,e&RZ&&(i^=qd<<(qd<<BigInt(s))-qd);yP.push(i)}const[MZ,OZ]=SZ(yP,!0),YE=(t,e,r)=>r>32?IZ(t,e,r):EZ(t,e,r),JE=(t,e,r)=>r>32?kZ(t,e,r):AZ(t,e,r);function LZ(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=YE(l,u,1)^r[a],h=JE(l,u,1)^r[a+1];for(let g=0;g<50;g+=10)t[o+g]^=f,t[o+g+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=mP[o],c=YE(i,s,a),l=JE(i,s,a),u=gP[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=MZ[n],t[1]^=OZ[n]}r.fill(0)}class i_ extends Ok{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,c5(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=RL(this.state)}keccak(){l5||u5(this.state32),LZ(this.state32,this.rounds),l5||u5(this.state32),this.posOut=0,this.pos=0}update(e){r1(this);const{blockLen:r,state:n}=this;e=Y3(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){r1(this,!1),G3(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return c5(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Mk(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new i_(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const DZ=(t,e,r)=>Lk(()=>new i_(e,t,r)),XE=DZ(1,136,256/8),BZ=dd.utils.randomPrivateKey,ZE=()=>{const t=dd.utils.randomPrivateKey(),e=C1(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},C1=dd.getPublicKey;function QE(t){try{return dd.ExtendedPoint.fromHex(t),!0}catch{return!1}}const s_=(t,e)=>dd.sign(t,e.slice(0,32)),$Z=dd.verify,cr=t=>Rt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Rt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Rt.Buffer.from(t);class o_{constructor(e){Object.assign(this,e)}encode(){return Rt.Buffer.from(UR(Ih,this))}static decode(e){return FR(Ih,this,e)}static decodeUnchecked(e){return OR(Ih,this,e)}}class UZ extends o_{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}}const Ih=new Map;var wP;const bP=32,ia=32;function FZ(t){return t._bn!==void 0}let e4=1;class Be extends o_{constructor(e){if(super({}),this._bn=void 0,FZ(e))this._bn=e._bn;else{if(typeof e=="string"){const r=ai.decode(e);if(r.length!=ia)throw new Error("Invalid public key input");this._bn=new Gt(r)}else this._bn=new Gt(e);if(this._bn.byteLength()>ia)throw new Error("Invalid public key input")}}static unique(){const e=new Be(e4);return e4+=1,new Be(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ai.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Rt.Buffer);if(e.length===ia)return e;const r=Rt.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=Rt.Buffer.concat([e.toBuffer(),Rt.Buffer.from(r),n.toBuffer()]),s=f5(i);return new Be(s)}static createProgramAddressSync(e,r){let n=Rt.Buffer.alloc(0);e.forEach(function(s){if(s.length>bP)throw new TypeError("Max seed length exceeded");n=Rt.Buffer.concat([n,cr(s)])}),n=Rt.Buffer.concat([n,r.toBuffer(),Rt.Buffer.from("ProgramDerivedAddress")]);const i=f5(n);if(QE(i))throw new Error("Invalid seeds, address must fall off the curve");return new Be(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{const s=e.concat(Rt.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new Be(e);return QE(r.toBytes())}}wP=Be;Be.default=new wP("11111111111111111111111111111111");Ih.set(Be,{kind:"struct",fields:[["_bn","u256"]]});class jZ{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=cr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=cr(BZ()),this._publicKey=cr(C1(this._secretKey))}get publicKey(){return new Be(this._publicKey)}get secretKey(){return Rt.Buffer.concat([this._secretKey,this._publicKey],64)}}const zZ=new Be("BPFLoader1111111111111111111111111111111111"),Vc=1232,ry=127,ap=64;class a_ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(a_.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class c_ extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(c_.prototype,"name",{value:"TransactionExpiredTimeoutError"});class af extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(af.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class cp{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});const i=s=>{const o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const ur=(t="publicKey")=>Xr(32,t),qZ=(t="signature")=>Xr(64,t),Dl=(t="string")=>{const e=kt([It("length"),It("lengthPadding"),Xr(Hc(It(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:Rt.Buffer.from(s,"utf8")};return n(c,o,a)},i.alloc=s=>It().span+It().span+Rt.Buffer.from(s,"utf8").length,i},KZ=(t="authorized")=>kt([ur("staker"),ur("withdrawer")],t),WZ=(t="lockup")=>kt([hs("unixTimestamp"),hs("epoch"),ur("custodian")],t),HZ=(t="voteInit")=>kt([ur("nodePubkey"),ur("authorizedVoter"),ur("authorizedWithdrawer"),Sr("commission")],t),VZ=(t="voteAuthorizeWithSeedArgs")=>kt([It("voteAuthorizationType"),ur("currentAuthorityDerivedKeyOwnerPubkey"),Dl("currentAuthorityDerivedKeySeed"),ur("newAuthorized")],t);function vP(t,e){const r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return vP({layout:i},e[i.property]);return 0};let n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function Gi(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function ps(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function Ar(t,e){if(!t)throw new Error(e||"Assertion failed")}class ny{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,i=o=>{const a=o.toBase58();let c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new ny(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Ar(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{Ar(r.length>0,"Expected at least one writable signer key");const[c]=r[0];Ar(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...r.map(([c])=>new Be(c)),...n.map(([c])=>new Be(c)),...i.map(([c])=>new Be(c)),...s.map(([c])=>new Be(c))];return[o,a]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(r(o)){const a=new Be(s),c=e.findIndex(l=>l.equals(a));c>=0&&(Ar(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}}const xP="Reached end of buffer unexpectedly";function Go(t){if(t.length===0)throw new Error(xP);return t.shift()}function Yi(t,...e){const[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(xP);return t.splice(...e)}class Co{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new Be(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ai.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new cp(this.staticAccountKeys)}static compile(e){const r=ny.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),o=new cp(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:ai.encode(a.data)}));return new Co({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];ps(r,e);const n=this.instructions.map(f=>{const{accounts:h,programIdIndex:g}=f,y=Array.from(ai.decode(f.data));let v=[];ps(v,h.length);let T=[];return ps(T,y.length),{programIdIndex:g,keyIndicesCount:Rt.Buffer.from(v),keyIndices:h,dataLength:Rt.Buffer.from(T),data:y}});let i=[];ps(i,n.length);let s=Rt.Buffer.alloc(Vc);Rt.Buffer.from(i).copy(s);let o=i.length;n.forEach(f=>{const g=kt([Sr("programIdIndex"),Xr(f.keyIndicesCount.length,"keyIndicesCount"),ci(Sr("keyIndex"),f.keyIndices.length,"keyIndices"),Xr(f.dataLength.length,"dataLength"),ci(Sr("userdatum"),f.data.length,"data")]).encode(f,s,o);o+=g}),s=s.slice(0,o);const a=kt([Xr(1,"numRequiredSignatures"),Xr(1,"numReadonlySignedAccounts"),Xr(1,"numReadonlyUnsignedAccounts"),Xr(r.length,"keyCount"),ci(ur("key"),e,"keys"),ur("recentBlockhash")]),c={numRequiredSignatures:Rt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Rt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Rt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Rt.Buffer.from(r),keys:this.accountKeys.map(f=>cr(f.toBytes())),recentBlockhash:ai.decode(this.recentBlockhash)};let l=Rt.Buffer.alloc(2048);const u=a.encode(c,l);return s.copy(l,u),l.slice(0,u+s.length)}static from(e){let r=[...e];const n=Go(r);if(n!==(n&ry))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Go(r),s=Go(r),o=Gi(r);let a=[];for(let h=0;h<o;h++){const g=Yi(r,0,ia);a.push(new Be(Rt.Buffer.from(g)))}const c=Yi(r,0,ia),l=Gi(r);let u=[];for(let h=0;h<l;h++){const g=Go(r),y=Gi(r),v=Yi(r,0,y),T=Gi(r),k=Yi(r,0,T),C=ai.encode(Rt.Buffer.from(k));u.push({programIdIndex:g,accounts:v,data:C})}const f={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:ai.encode(Rt.Buffer.from(c)),accountKeys:a,instructions:u};return new Co(f)}}class uu{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new cp(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const i=e-n,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=ny.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const u of s){const f=r.extractTableLookup(u);if(f!==void 0){const[h,{writable:g,readonly:y}]=f;n.push(h),i.writable.push(...g),i.readonly.push(...y)}}const[o,a]=r.getMessageComponents(),l=new cp(a,i).compileInstructions(e.instructions);return new uu({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:l,addressTableLookups:n})}serialize(){const e=Array();ps(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();ps(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();ps(s,this.addressTableLookups.length);const o=kt([Sr("prefix"),kt([Sr("numRequiredSignatures"),Sr("numReadonlySignedAccounts"),Sr("numReadonlyUnsignedAccounts")],"header"),Xr(e.length,"staticAccountKeysLength"),ci(ur(),this.staticAccountKeys.length,"staticAccountKeys"),ur("recentBlockhash"),Xr(n.length,"instructionsLength"),Xr(r.length,"serializedInstructions"),Xr(s.length,"addressTableLookupsLength"),Xr(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Vc),l=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:ai.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,l)}serializeInstructions(){let e=0;const r=new Uint8Array(Vc);for(const n of this.compiledInstructions){const i=Array();ps(i,n.accountKeyIndexes.length);const s=Array();ps(s,n.data.length);const o=kt([Sr("programIdIndex"),Xr(i.length,"encodedAccountKeyIndexesLength"),ci(Sr(),n.accountKeyIndexes.length,"accountKeyIndexes"),Xr(s.length,"encodedDataLength"),Xr(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(Vc);for(const n of this.addressTableLookups){const i=Array();ps(i,n.writableIndexes.length);const s=Array();ps(s,n.readonlyIndexes.length);const o=kt([ur("accountKey"),Xr(i.length,"encodedWritableIndexesLength"),ci(Sr(),n.writableIndexes.length,"writableIndexes"),Xr(s.length,"encodedReadonlyIndexesLength"),ci(Sr(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=Go(r),i=n&ry;Ar(n!==i,"Expected versioned message but received legacy message");const s=i;Ar(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Go(r),numReadonlySignedAccounts:Go(r),numReadonlyUnsignedAccounts:Go(r)},a=[],c=Gi(r);for(let y=0;y<c;y++)a.push(new Be(Yi(r,0,ia)));const l=ai.encode(Yi(r,0,ia)),u=Gi(r),f=[];for(let y=0;y<u;y++){const v=Go(r),T=Gi(r),k=Yi(r,0,T),C=Gi(r),I=new Uint8Array(Yi(r,0,C));f.push({programIdIndex:v,accountKeyIndexes:k,data:I})}const h=Gi(r),g=[];for(let y=0;y<h;y++){const v=new Be(Yi(r,0,ia)),T=Gi(r),k=Yi(r,0,T),C=Gi(r),I=Yi(r,0,C);g.push({accountKey:v,writableIndexes:k,readonlyIndexes:I})}return new uu({header:o,staticAccountKeys:a,recentBlockhash:l,compiledInstructions:f,addressTableLookups:g})}}const l_={deserializeMessageVersion(t){const e=t[0],r=e&ry;return r===e?"legacy":r},deserialize:t=>{const e=l_.deserializeMessageVersion(t);if(e==="legacy")return Co.from(t);if(e===0)return uu.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Ia=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const GZ=Rt.Buffer.alloc(ap).fill(0);class Ur{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Rt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class fr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new Ur(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let v=0;v<r.length;v++)if(r[v].programId===void 0)throw new Error(`Transaction instruction index ${v} has undefined program id`);const i=[],s=[];r.forEach(v=>{v.keys.forEach(k=>{s.push({...k})});const T=v.programId.toString();i.includes(T)||i.push(T)}),i.forEach(v=>{s.push({pubkey:new Be(v),isSigner:!1,isWritable:!1})});const o=[];s.forEach(v=>{const T=v.pubkey.toString(),k=o.findIndex(C=>C.pubkey.toString()===T);k>-1?(o[k].isWritable=o[k].isWritable||v.isWritable,o[k].isSigner=o[k].isSigner||v.isSigner):o.push(v)}),o.sort(function(v,T){if(v.isSigner!==T.isSigner)return v.isSigner?-1:1;if(v.isWritable!==T.isWritable)return v.isWritable?-1:1;const k={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return v.pubkey.toBase58().localeCompare(T.pubkey.toBase58(),"en",k)});const a=o.findIndex(v=>v.pubkey.equals(n));if(a>-1){const[v]=o.splice(a,1);v.isSigner=!0,v.isWritable=!0,o.unshift(v)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const v of this.signatures){const T=o.findIndex(k=>k.pubkey.equals(v.publicKey));if(T>-1)o[T].isSigner||(o[T].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${v.publicKey.toString()}`)}let c=0,l=0,u=0;const f=[],h=[];o.forEach(({pubkey:v,isSigner:T,isWritable:k})=>{T?(f.push(v.toString()),c+=1,k||(l+=1)):(h.push(v.toString()),k||(u+=1))});const g=f.concat(h),y=r.map(v=>{const{data:T,programId:k}=v;return{programIdIndex:g.indexOf(k.toString()),accounts:v.keys.map(C=>g.indexOf(C.pubkey.toString())),data:ai.encode(T)}});return y.forEach(v=>{Ar(v.programIdIndex>=0),v.accounts.forEach(T=>Ar(T>=0))}),new Co({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:u},accountKeys:g,recentBlockhash:e,instructions:y})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(i=>{const s=s_(n,i.secretKey);this._addSignature(i.publicKey,cr(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){Ar(r.length===64);const n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Rt.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||(n.missing=[])).push(s):$Z(i,e,s.toBytes())||(n.invalid||(n.invalid=[])).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:r}=this,n=[];ps(n,r.length);const i=n.length+r.length*64+e.length,s=Rt.Buffer.alloc(i);return Ar(r.length<256),Rt.Buffer.from(n).copy(s,0),r.forEach(({signature:o},a)=>{o!==null&&(Ar(o.length===64,"signature has invalid length"),Rt.Buffer.from(o).copy(s,n.length+a*64))}),e.copy(s,n.length+r.length*64),Ar(s.length<=Vc,`Transaction too large: ${s.length} > ${Vc}`),s}get keys(){return Ar(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ar(this.instructions.length===1),this.instructions[0].programId}get data(){return Ar(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=Gi(r);let i=[];for(let s=0;s<n;s++){const o=Yi(r,0,ap);i.push(ai.encode(Rt.Buffer.from(o)))}return fr.populate(Co.from(r),i)}static populate(e,r=[]){const n=new fr;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{const o={signature:i==ai.encode(GZ)?null:ai.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new Ur({keys:s,programId:e.accountKeys[i.programIdIndex],data:ai.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}}class Ac{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=n,l=o-a;Ar(l>0,"Message header is invalid");const u=e.staticAccountKeys.length-o-c;Ar(u>=0,"Message header is invalid");const f=e.getAccountKeys(r),h=f.get(0);if(h===void 0)throw new Error("Failed to decompile message because no account keys were found");const g=[];for(const y of i){const v=[];for(const k of y.accountKeyIndexes){const C=f.get(k);if(C===void 0)throw new Error(`Failed to find key for account key index ${k}`);const I=k<o;let D;I?D=k<l:k<f.staticAccountKeys.length?D=k-o<u:D=k-f.staticAccountKeys.length<f.accountKeysFromLookups.writable.length,v.push({pubkey:C,isSigner:k<n.numRequiredSignatures,isWritable:D})}const T=f.get(y.programIdIndex);if(T===void 0)throw new Error(`Failed to find program id for program id index ${y.programIdIndex}`);g.push(new Ur({programId:T,data:cr(y.data),keys:v}))}return new Ac({payerKey:h,instructions:g,recentBlockhash:s})}compileToLegacyMessage(){return Co.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return uu.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class ms{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)Ar(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(ap));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();ps(r,this.signatures.length);const n=kt([Xr(r.length,"encodedSignaturesLength"),ci(qZ(),this.signatures.length,"signatures"),Xr(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e];const n=[],i=Gi(r);for(let o=0;o<i;o++)n.push(new Uint8Array(Yi(r,0,ap)));const s=l_.deserialize(new Uint8Array(r));return new ms(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=n.findIndex(o=>o.equals(i.publicKey));Ar(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=s_(r,i.secretKey)}}addSignature(e,r){Ar(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Ar(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}}const YZ=160,JZ=64,XZ=YZ/JZ,_P=1e3/XZ,Wo=new Be("SysvarC1ock11111111111111111111111111111111"),ZZ=new Be("SysvarEpochSchedu1e111111111111111111111111"),QZ=new Be("Sysvar1nstructions1111111111111111111111111"),bg=new Be("SysvarRecentB1ockHashes11111111111111111111"),Wf=new Be("SysvarRent111111111111111111111111111111111"),eQ=new Be("SysvarRewards111111111111111111111111111111"),tQ=new Be("SysvarS1otHashes111111111111111111111111111"),rQ=new Be("SysvarS1otHistory11111111111111111111111111"),vg=new Be("SysvarStakeHistory1111111111111111111111111");class lp extends Error{constructor({action:e,signature:r,transactionMessage:n,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${r} resulted in an error. 
${n}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+s+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}const nQ={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Mt extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}async function x2(t,e,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw s!=null?new lp({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Cl(t){return new Promise(e=>setTimeout(e,t))}function _r(t,e){const r=t.layout.span>=0?t.layout.span:vP(t,e),n=Rt.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function Cr(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const SP=ni("lamportsPerSignature"),EP=kt([It("version"),It("state"),ur("authorizedPubkey"),ur("nonce"),kt([SP],"feeCalculator")]),_2=EP.span;class iy{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=EP.decode(cr(e),0);return new iy({authorizedPubkey:new Be(r.authorizedPubkey),nonce:new Be(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const iQ=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},sQ=t=>e=>{const r=Xr(t,e),{encode:n,decode:i}=iQ(r),s=r;return s.decode=(o,a)=>{const c=i(o,a);return NX(Rt.Buffer.from(c))},s.encode=(o,a,c)=>{const l=iP(o,t);return n(l,a,c)},s},Hf=sQ(8);class oQ{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=It("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(qr))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:i}=Cr(qr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new Be(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=Cr(qr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:i}=Cr(qr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new Be(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=Cr(qr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:i,programId:s}=Cr(qr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Be(r),seed:n,space:i,programId:new Be(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=Cr(qr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Be(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:i}=Cr(qr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Be(r),seed:n,programId:new Be(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:i,space:s,programId:o}=Cr(qr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Be(r),seed:n,lamports:i,space:s,programId:new Be(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=Cr(qr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Be(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Cr(qr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=Cr(qr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=Cr(qr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Be(r)}}static checkProgramId(e){if(!e.equals(Dr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const qr=Object.freeze({Create:{index:0,layout:kt([It("instruction"),hs("lamports"),hs("space"),ur("programId")])},Assign:{index:1,layout:kt([It("instruction"),ur("programId")])},Transfer:{index:2,layout:kt([It("instruction"),Hf("lamports")])},CreateWithSeed:{index:3,layout:kt([It("instruction"),ur("base"),Dl("seed"),hs("lamports"),hs("space"),ur("programId")])},AdvanceNonceAccount:{index:4,layout:kt([It("instruction")])},WithdrawNonceAccount:{index:5,layout:kt([It("instruction"),hs("lamports")])},InitializeNonceAccount:{index:6,layout:kt([It("instruction"),ur("authorized")])},AuthorizeNonceAccount:{index:7,layout:kt([It("instruction"),ur("authorized")])},Allocate:{index:8,layout:kt([It("instruction"),hs("space")])},AllocateWithSeed:{index:9,layout:kt([It("instruction"),ur("base"),Dl("seed"),hs("space"),ur("programId")])},AssignWithSeed:{index:10,layout:kt([It("instruction"),ur("base"),Dl("seed"),ur("programId")])},TransferWithSeed:{index:11,layout:kt([It("instruction"),Hf("lamports"),Dl("seed"),ur("programId")])},UpgradeNonceAccount:{index:12,layout:kt([It("instruction")])}});class Dr{constructor(){}static createAccount(e){const r=qr.Create,n=_r(r,{lamports:e.lamports,space:e.space,programId:cr(e.programId.toBuffer())});return new Ur({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const i=qr.TransferWithSeed;r=_r(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:cr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=qr.Transfer;r=_r(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ur({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const i=qr.AssignWithSeed;r=_r(i,{base:cr(e.basePubkey.toBuffer()),seed:e.seed,programId:cr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=qr.Assign;r=_r(i,{programId:cr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ur({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=qr.CreateWithSeed,n=_r(r,{base:cr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:cr(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ur({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){const r=new fr;"basePubkey"in e&&"seed"in e?r.add(Dr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:_2,programId:this.programId})):r.add(Dr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:_2,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=qr.InitializeNonceAccount,n=_r(r,{authorized:cr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:bg,isSigner:!1,isWritable:!1},{pubkey:Wf,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Ur(i)}static nonceAdvance(e){const r=qr.AdvanceNonceAccount,n=_r(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:bg,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Ur(i)}static nonceWithdraw(e){const r=qr.WithdrawNonceAccount,n=_r(r,{lamports:e.lamports});return new Ur({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:bg,isSigner:!1,isWritable:!1},{pubkey:Wf,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=qr.AuthorizeNonceAccount,n=_r(r,{authorized:cr(e.newAuthorizedPubkey.toBuffer())});return new Ur({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const i=qr.AllocateWithSeed;r=_r(i,{base:cr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:cr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=qr.Allocate;r=_r(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ur({keys:n,programId:this.programId,data:r})}}Dr.programId=new Be("11111111111111111111111111111111");const aQ=Vc-300;class fu{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/fu.chunkSize)+1+1)}static async load(e,r,n,i,s){{const f=await e.getMinimumBalanceForRentExemption(s.length),h=await e.getAccountInfo(n.publicKey,"confirmed");let g=null;if(h!==null){if(h.executable)return console.error("Program load failed, account is already executable"),!1;h.data.length!==s.length&&(g=g||new fr,g.add(Dr.allocate({accountPubkey:n.publicKey,space:s.length}))),h.owner.equals(i)||(g=g||new fr,g.add(Dr.assign({accountPubkey:n.publicKey,programId:i}))),h.lamports<f&&(g=g||new fr,g.add(Dr.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:f-h.lamports})))}else g=new fr().add(Dr.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:f>0?f:1,space:s.length,programId:i}));g!==null&&await x2(e,g,[r,n],{commitment:"confirmed"})}const o=kt([It("instruction"),It("offset"),It("bytesLength"),It("bytesLengthPadding"),ci(Sr("byte"),Hc(It(),-8),"bytes")]),a=fu.chunkSize;let c=0,l=s,u=[];for(;l.length>0;){const f=l.slice(0,a),h=Rt.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:f,bytesLength:0,bytesLengthPadding:0},h);const g=new fr().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:h});u.push(x2(e,g,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Cl(1e3/4),c+=a,l=l.slice(a)}await Promise.all(u);{const f=kt([It("instruction")]),h=Rt.Buffer.alloc(f.span);f.encode({instruction:1},h);const g=new fr().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Wf,isSigner:!1,isWritable:!1}],programId:i,data:h}),y="processed",v=await e.sendTransaction(g,[r,n],{preflightCommitment:y}),{context:T,value:k}=await e.confirmTransaction({signature:v,lastValidBlockHeight:g.lastValidBlockHeight,blockhash:g.recentBlockhash},y);if(k.err)throw new Error(`Transaction ${v} failed (${JSON.stringify(k)})`);for(;;){try{if(await e.getSlot({commitment:y})>T.slot)break}catch{}await new Promise(C=>setTimeout(C,Math.round(_P/2)))}}return!0}}fu.chunkSize=aQ;const cQ=new Be("BPFLoader2111111111111111111111111111111111");class lQ{static getMinNumSignatures(e){return fu.getMinNumSignatures(e)}static load(e,r,n,i,s){return fu.load(e,r,n,s,i)}}function uQ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sb,t4;function fQ(){if(t4)return sb;t4=1;var t=Object.prototype.toString,e=Object.keys||function(n){var i=[];for(var s in n)i.push(s);return i};function r(n,i){var s,o,a,c,l,u,f;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return r(n.toJSON(),i);if(f=t.call(n),f==="[object Array]"){for(a="[",o=n.length-1,s=0;s<o;s++)a+=r(n[s],!0)+",";return o>-1&&(a+=r(n[s],!0)),a+"]"}else if(f==="[object Object]"){for(c=e(n).sort(),o=c.length,a="",s=0;s<o;)l=c[s],u=r(n[l],!1),u!==void 0&&(a&&(a+=","),a+=JSON.stringify(l)+":"+u),s++;return"{"+a+"}"}else return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return sb=function(n){var i=r(n,!1);if(i!==void 0)return""+i},sb}var dQ=fQ(),r4=uQ(dQ);const Kd=32;function ob(t){let e=0;for(;t>1;)t/=2,e++;return e}function hQ(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class AP{constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=ob(hQ(e+Kd+1))-ob(Kd)-1,n=this.getSlotsInEpoch(r),i=e-(n-Kd);return[r,i]}else{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Kd:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+ob(Kd)):this.slotsPerEpoch}}var pQ=globalThis.fetch;class gQ extends xZ{constructor(e,r,n){const i=s=>{const o=bZ(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function mQ(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}const n4=56;class S2{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=mQ(yQ,e),n=e.length-n4;Ar(n>=0,"lookup table is invalid"),Ar(n%32===0,"lookup table is invalid");const i=n/32,{addresses:s}=kt([ci(ur(),i,"addresses")]).decode(e.slice(n4));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new Be(r.authority[0]):void 0,addresses:s.map(o=>new Be(o))}}}const yQ={index:1,layout:kt([It("typeIndex"),Hf("deactivationSlot"),ni("lastExtendedSlot"),Sr("lastExtendedStartIndex"),Sr(),ci(ur(),Hc(Sr(),-1),"authority")])},wQ=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function bQ(t){const e=t.match(wQ);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${n}${c}${s}`}const fn=Fp(r_(Be),rt(),t=>new Be(t)),IP=n_([rt(),an("base64")]),u_=Fp(r_(Rt.Buffer),IP,t=>Rt.Buffer.from(t[0],"base64")),kP=30*1e3;function vQ(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Fr(t){let e,r;if(typeof t=="string")e=t;else if(t){const{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function i4(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function CP(t){return Fi([He({jsonrpc:an("2.0"),id:rt(),result:t}),He({jsonrpc:an("2.0"),id:rt(),error:He({code:gd(),message:rt(),data:qt(jX())})})])}const xQ=CP(gd());function ar(t){return Fp(CP(t),xQ,e=>"error"in e?e:{...e,result:ct(e.result,t)})}function mn(t){return ar(He({context:He({slot:ve()}),value:t}))}function sy(t){return He({context:He({slot:ve()}),value:t})}function ab(t,e){return t===0?new uu({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new Be(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:ai.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Co(e)}const _Q=He({foundation:ve(),foundationTerm:ve(),initial:ve(),taper:ve(),terminal:ve()}),SQ=ar(pt(yt(He({epoch:ve(),effectiveSlot:ve(),amount:ve(),postBalance:ve(),commission:qt(yt(ve()))})))),EQ=pt(He({slot:ve(),prioritizationFee:ve()})),AQ=He({total:ve(),validator:ve(),foundation:ve(),epoch:ve()}),IQ=He({epoch:ve(),slotIndex:ve(),slotsInEpoch:ve(),absoluteSlot:ve(),blockHeight:qt(ve()),transactionCount:qt(ve())}),kQ=He({slotsPerEpoch:ve(),leaderScheduleSlotOffset:ve(),warmup:da(),firstNormalEpoch:ve(),firstNormalSlot:ve()}),CQ=aP(rt(),pt(ve())),Eu=yt(Fi([He({}),rt()])),RQ=He({err:Eu}),PQ=an("receivedSignature"),TQ=He({"solana-core":rt(),"feature-set":qt(ve())}),NQ=He({program:rt(),programId:fn,parsed:gd()}),MQ=He({programId:fn,accounts:pt(fn),data:rt()}),s4=mn(He({err:yt(Fi([He({}),rt()])),logs:yt(pt(rt())),accounts:qt(yt(pt(yt(He({executable:da(),owner:rt(),lamports:ve(),data:pt(rt()),rentEpoch:qt(ve())}))))),unitsConsumed:qt(ve()),returnData:qt(yt(He({programId:rt(),data:n_([rt(),an("base64")])}))),innerInstructions:qt(yt(pt(He({index:ve(),instructions:pt(Fi([NQ,MQ]))}))))})),OQ=mn(He({byIdentity:aP(rt(),pt(ve())),range:He({firstSlot:ve(),lastSlot:ve()})}));function LQ(t,e,r,n,i,s){const o=r||pQ;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(u,f)=>{const h=await new Promise((g,y)=>{try{n(u,f,(v,T)=>g([v,T]))}catch(v){y(v)}});return await o(...h)}),new mZ(async(u,f)=>{const h={method:"POST",body:u,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Dee)};try{let g=5,y,v=500;for(;c?y=await c(t,h):y=await o(t,h),!(y.status!==429||i===!0||(g-=1,g===0));)console.error(`Server responded with ${y.status} ${y.statusText}.  Retrying after ${v}ms delay...`),await Cl(v),v*=2;const T=await y.text();y.ok?f(null,T):f(new Error(`${y.status} ${y.statusText}: ${T}`))}catch(g){g instanceof Error&&f(g)}},{})}function DQ(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(s,o)=>{if(s){i(s);return}n(o)})})}function BQ(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){n(s);return}r(o)})})}const $Q=ar(_Q),UQ=ar(AQ),FQ=ar(EQ),jQ=ar(IQ),zQ=ar(kQ),qQ=ar(CQ),KQ=ar(ve()),WQ=mn(He({total:ve(),circulating:ve(),nonCirculating:ve(),nonCirculatingAccounts:pt(fn)})),E2=He({amount:rt(),uiAmount:yt(ve()),decimals:ve(),uiAmountString:qt(rt())}),HQ=mn(pt(He({address:fn,amount:rt(),uiAmount:yt(ve()),decimals:ve(),uiAmountString:qt(rt())}))),VQ=mn(pt(He({pubkey:fn,account:He({executable:da(),owner:fn,lamports:ve(),data:u_,rentEpoch:ve()})}))),A2=He({program:rt(),parsed:gd(),space:ve()}),GQ=mn(pt(He({pubkey:fn,account:He({executable:da(),owner:fn,lamports:ve(),data:A2,rentEpoch:ve()})}))),YQ=mn(pt(He({lamports:ve(),address:fn}))),up=He({executable:da(),owner:fn,lamports:ve(),data:u_,rentEpoch:ve()}),JQ=He({pubkey:fn,account:up}),XQ=Fp(Fi([r_(Rt.Buffer),A2]),Fi([IP,A2]),t=>Array.isArray(t)?ct(t,u_):t),I2=He({executable:da(),owner:fn,lamports:ve(),data:XQ,rentEpoch:ve()}),ZQ=He({pubkey:fn,account:I2}),QQ=He({state:Fi([an("active"),an("inactive"),an("activating"),an("deactivating")]),active:ve(),inactive:ve()}),eee=ar(pt(He({signature:rt(),slot:ve(),err:Eu,memo:yt(rt()),blockTime:qt(yt(ve()))}))),tee=ar(pt(He({signature:rt(),slot:ve(),err:Eu,memo:yt(rt()),blockTime:qt(yt(ve()))}))),ree=He({subscription:ve(),result:sy(up)}),nee=He({pubkey:fn,account:up}),iee=He({subscription:ve(),result:sy(nee)}),see=He({parent:ve(),slot:ve(),root:ve()}),oee=He({subscription:ve(),result:see}),aee=Fi([He({type:Fi([an("firstShredReceived"),an("completed"),an("optimisticConfirmation"),an("root")]),slot:ve(),timestamp:ve()}),He({type:an("createdBank"),parent:ve(),slot:ve(),timestamp:ve()}),He({type:an("frozen"),slot:ve(),timestamp:ve(),stats:He({numTransactionEntries:ve(),numSuccessfulTransactions:ve(),numFailedTransactions:ve(),maxTransactionsPerEntry:ve()})}),He({type:an("dead"),slot:ve(),timestamp:ve(),err:rt()})]),cee=He({subscription:ve(),result:aee}),lee=He({subscription:ve(),result:sy(Fi([RQ,PQ]))}),uee=He({subscription:ve(),result:ve()}),fee=He({pubkey:rt(),gossip:yt(rt()),tpu:yt(rt()),rpc:yt(rt()),version:yt(rt())}),o4=He({votePubkey:rt(),nodePubkey:rt(),activatedStake:ve(),epochVoteAccount:da(),epochCredits:pt(n_([ve(),ve(),ve()])),commission:ve(),lastVote:ve(),rootSlot:yt(ve())}),dee=ar(He({current:pt(o4),delinquent:pt(o4)})),hee=Fi([an("processed"),an("confirmed"),an("finalized")]),pee=He({slot:ve(),confirmations:yt(ve()),err:Eu,confirmationStatus:qt(hee)}),gee=mn(pt(yt(pee))),mee=ar(ve()),RP=He({accountKey:fn,writableIndexes:pt(ve()),readonlyIndexes:pt(ve())}),f_=He({signatures:pt(rt()),message:He({accountKeys:pt(rt()),header:He({numRequiredSignatures:ve(),numReadonlySignedAccounts:ve(),numReadonlyUnsignedAccounts:ve()}),instructions:pt(He({accounts:pt(ve()),data:rt(),programIdIndex:ve()})),recentBlockhash:rt(),addressTableLookups:qt(pt(RP))})}),PP=He({pubkey:fn,signer:da(),writable:da(),source:qt(Fi([an("transaction"),an("lookupTable")]))}),TP=He({accountKeys:pt(PP),signatures:pt(rt())}),NP=He({parsed:gd(),program:rt(),programId:fn}),MP=He({accounts:pt(fn),data:rt(),programId:fn}),yee=Fi([MP,NP]),wee=Fi([He({parsed:gd(),program:rt(),programId:rt()}),He({accounts:pt(rt()),data:rt(),programId:rt()})]),OP=Fp(yee,wee,t=>"accounts"in t?ct(t,MP):ct(t,NP)),LP=He({signatures:pt(rt()),message:He({accountKeys:pt(PP),instructions:pt(OP),recentBlockhash:rt(),addressTableLookups:qt(yt(pt(RP)))})}),R1=He({accountIndex:ve(),mint:rt(),owner:qt(rt()),uiTokenAmount:E2}),DP=He({writable:pt(fn),readonly:pt(fn)}),oy=He({err:Eu,fee:ve(),innerInstructions:qt(yt(pt(He({index:ve(),instructions:pt(He({accounts:pt(ve()),data:rt(),programIdIndex:ve()}))})))),preBalances:pt(ve()),postBalances:pt(ve()),logMessages:qt(yt(pt(rt()))),preTokenBalances:qt(yt(pt(R1))),postTokenBalances:qt(yt(pt(R1))),loadedAddresses:qt(DP),computeUnitsConsumed:qt(ve())}),d_=He({err:Eu,fee:ve(),innerInstructions:qt(yt(pt(He({index:ve(),instructions:pt(OP)})))),preBalances:pt(ve()),postBalances:pt(ve()),logMessages:qt(yt(pt(rt()))),preTokenBalances:qt(yt(pt(R1))),postTokenBalances:qt(yt(pt(R1))),loadedAddresses:qt(DP),computeUnitsConsumed:qt(ve())}),md=Fi([an(0),an("legacy")]),Au=He({pubkey:rt(),lamports:ve(),postBalance:yt(ve()),rewardType:yt(rt()),commission:qt(yt(ve()))}),bee=ar(yt(He({blockhash:rt(),previousBlockhash:rt(),parentSlot:ve(),transactions:pt(He({transaction:f_,meta:yt(oy),version:qt(md)})),rewards:qt(pt(Au)),blockTime:yt(ve()),blockHeight:yt(ve())}))),vee=ar(yt(He({blockhash:rt(),previousBlockhash:rt(),parentSlot:ve(),rewards:qt(pt(Au)),blockTime:yt(ve()),blockHeight:yt(ve())}))),xee=ar(yt(He({blockhash:rt(),previousBlockhash:rt(),parentSlot:ve(),transactions:pt(He({transaction:TP,meta:yt(oy),version:qt(md)})),rewards:qt(pt(Au)),blockTime:yt(ve()),blockHeight:yt(ve())}))),_ee=ar(yt(He({blockhash:rt(),previousBlockhash:rt(),parentSlot:ve(),transactions:pt(He({transaction:LP,meta:yt(d_),version:qt(md)})),rewards:qt(pt(Au)),blockTime:yt(ve()),blockHeight:yt(ve())}))),See=ar(yt(He({blockhash:rt(),previousBlockhash:rt(),parentSlot:ve(),transactions:pt(He({transaction:TP,meta:yt(d_),version:qt(md)})),rewards:qt(pt(Au)),blockTime:yt(ve()),blockHeight:yt(ve())}))),Eee=ar(yt(He({blockhash:rt(),previousBlockhash:rt(),parentSlot:ve(),rewards:qt(pt(Au)),blockTime:yt(ve()),blockHeight:yt(ve())}))),Aee=ar(yt(He({blockhash:rt(),previousBlockhash:rt(),parentSlot:ve(),transactions:pt(He({transaction:f_,meta:yt(oy)})),rewards:qt(pt(Au)),blockTime:yt(ve())}))),a4=ar(yt(He({blockhash:rt(),previousBlockhash:rt(),parentSlot:ve(),signatures:pt(rt()),blockTime:yt(ve())}))),cb=ar(yt(He({slot:ve(),meta:yt(oy),blockTime:qt(yt(ve())),transaction:f_,version:qt(md)}))),j0=ar(yt(He({slot:ve(),transaction:LP,meta:yt(d_),blockTime:qt(yt(ve())),version:qt(md)}))),Iee=mn(He({blockhash:rt(),feeCalculator:He({lamportsPerSignature:ve()})})),kee=mn(He({blockhash:rt(),lastValidBlockHeight:ve()})),Cee=mn(da()),Ree=He({slot:ve(),numTransactions:ve(),numSlots:ve(),samplePeriodSecs:ve()}),Pee=ar(pt(Ree)),Tee=mn(yt(He({feeCalculator:He({lamportsPerSignature:ve()})}))),Nee=ar(rt()),Mee=ar(rt()),Oee=He({err:Eu,logs:pt(rt()),signature:rt()}),Lee=He({result:sy(Oee),subscription:ve()}),Dee={"solana-client":"js/1.0.0-maintenance"};class hc{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const l={};return async u=>{const{commitment:f,config:h}=Fr(u),g=this._buildArgs([],f,void 0,h),y=r4(g);return l[y]=l[y]??(async()=>{try{const v=await this._rpcRequest("getBlockHeight",g),T=ct(v,ar(ve()));if("error"in T)throw new Mt(T.error,"failed to get block height information");return T.result}finally{delete l[y]}})(),await l[y]}})();let n,i,s,o,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,o=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=vQ(e),this._rpcWsEndpoint=n||bQ(e),this._rpcClient=LQ(e,i,s,o,a,c),this._rpcRequest=DQ(this._rpcClient),this._rpcBatchRequest=BQ(this._rpcClient),this._rpcWebSocket=new gQ(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:i}=Fr(r),s=this._buildArgs([e.toBase58()],n,void 0,i),o=await this._rpcRequest("getBalance",s),a=ct(o,mn(ve()));if("error"in a)throw new Mt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=ct(r,ar(yt(ve())));if("error"in n)throw new Mt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=ct(e,ar(ve()));if("error"in r)throw new Mt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=ct(e,KQ);if("error"in r)throw new Mt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=ct(n,WQ);if("error"in i)throw new Mt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=ct(i,mn(E2));if("error"in s)throw new Mt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=ct(i,mn(E2));if("error"in s)throw new Mt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){const{commitment:i,config:s}=Fr(n);let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),l=ct(c,VQ);if("error"in l)throw new Mt(l.error,`failed to get token accounts owned by account ${e.toBase58()}`);return l.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=ct(o,GQ);if("error"in a)throw new Mt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=ct(i,YQ);if("error"in s)throw new Mt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=ct(i,HQ);if("error"in s)throw new Mt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:i}=Fr(r),s=this._buildArgs([e.toBase58()],n,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=ct(o,mn(yt(up)));if("error"in a)throw new Mt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){const{commitment:n,config:i}=Fr(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=ct(o,mn(yt(I2)));if("error"in a)throw new Mt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:i}=Fr(r),s=e.map(l=>l.toBase58()),o=this._buildArgs([s],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=ct(a,mn(pt(yt(I2))));if("error"in c)throw new Mt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:i}=Fr(r),s=e.map(l=>l.toBase58()),o=this._buildArgs([s],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=ct(a,mn(pt(yt(up))));if("error"in c)throw new Mt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:i,config:s}=Fr(r),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=ct(a,ar(QQ));if("error"in c)throw new Mt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,r){const{commitment:n,config:i}=Fr(r),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],n,s||"base64",{...o,...o.filters?{filters:i4(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),l=pt(JQ),u=o.withContext===!0?ct(c,mn(l)):ct(c,ar(l));if("error"in u)throw new Mt(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:i}=Fr(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=ct(o,ar(pt(ZQ)));if("error"in a)throw new Mt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){var s;let n;if(typeof e=="string")n=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=ai.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Ar(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1;const o=new Promise((c,l)=>{try{n=this.onSignature(r,(f,h)=>{n=void 0;const g={context:h,value:f};c({__type:Ia.PROCESSED,response:g})},e);const u=new Promise(f=>{n==null?f():i=this._onSubscriptionStateChange(n,h=>{h==="subscribed"&&f()})});(async()=>{if(await u,s)return;const f=await this.getSignatureStatus(r);if(s||f==null)return;const{context:h,value:g}=f;if(g!=null)if(g!=null&&g.err)l(g.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(g.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(g.confirmationStatus==="processed"||g.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:Ia.PROCESSED,response:{context:h,value:g}})}})()}catch(u){l(u)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const o=new Promise(f=>{const h=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let g=await h();if(!s){for(;g<=n;)if(await Cl(1e3),s||(g=await h(),s))return;f({__type:Ia.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),l=this.getCancellationPromise(r);let u;try{const f=await Promise.race([l,c,o]);if(f.__type===Ia.PROCESSED)u=f.response;else throw new a_(i)}finally{s=!0,a()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(g=>{let y=s,v=null;const T=async()=>{try{const{context:k,value:C}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return v=k.slot,C==null?void 0:C.nonce}catch{return y}};(async()=>{if(y=await T(),!a)for(;;){if(s!==y){g({__type:Ia.NONCE_INVALID,slotInWhichNonceDidAdvance:v});return}if(await Cl(2e3),a||(y=await T(),a))return}})()}),{abortConfirmation:l,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),f=this.getCancellationPromise(r);let h;try{const g=await Promise.race([f,u,c]);if(g.__type===Ia.PROCESSED)h=g.response;else{let y;for(;;){const v=await this.getSignatureStatus(o);if(v==null)break;if(v.context.slot<(g.slotInWhichNonceDidAdvance??n)){await Cl(400);continue}y=v;break}if(y!=null&&y.value){const v=e||"finalized",{confirmationStatus:T}=y.value;switch(v){case"processed":case"recent":if(T!=="processed"&&T!=="confirmed"&&T!=="finalized")throw new af(o);break;case"confirmed":case"single":case"singleGossip":if(T!=="confirmed"&&T!=="finalized")throw new af(o);break;case"finalized":case"max":case"root":if(T!=="finalized")throw new af(o);break;default:}h={context:y.context,value:{err:y.value.err}}}else throw new af(o)}}finally{a=!0,l()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const i=new Promise(c=>{let l=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{l=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:Ia.TIMED_OUT,timeoutMs:l}),l)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let a;try{const c=await Promise.race([o,i]);if(c.__type===Ia.PROCESSED)a=c.response;else throw new c_(r,c.timeoutMs/1e3)}finally{clearTimeout(n),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=ct(e,ar(pt(fee)));if("error"in r)throw new Mt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=ct(n,dee);if("error"in i)throw new Mt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:r,config:n}=Fr(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),o=ct(s,ar(ve()));if("error"in o)throw new Mt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:r,config:n}=Fr(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),o=ct(s,ar(rt()));if("error"in o)throw new Mt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,r){const n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=ct(i,ar(pt(fn)));if("error"in s)throw new Mt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){const{context:n,value:i}=await this.getSignatureStatuses([e],r);Ar(i.length===1);const s=i[0];return{context:n,value:s}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=ct(i,gee);if("error"in s)throw new Mt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:r,config:n}=Fr(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),o=ct(s,ar(ve()));if("error"in o)throw new Mt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=ct(n,$Q);if("error"in i)throw new Mt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){const{commitment:i,config:s}=Fr(n),o=this._buildArgs([e.map(l=>l.toBase58())],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=ct(a,SQ);if("error"in c)throw new Mt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=ct(e,UQ);if("error"in r)throw new Mt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=Fr(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),o=ct(s,jQ);if("error"in o)throw new Mt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=ct(e,zQ);if("error"in r)throw new Mt(r.error,"failed to get epoch schedule");const n=r.result;return new AP(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=ct(e,qQ);if("error"in r)throw new Mt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=ct(i,mee);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=ct(n,Iee);if("error"in i)throw new Mt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=ct(r,Pee);if("error"in n)throw new Mt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=ct(i,Tee);if("error"in s)throw new Mt(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){const n=cr(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),o=ct(s,mn(yt(ve())));if("error"in o)throw new Mt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const r=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),n=r!=null&&r.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=ct(i,FQ);if("error"in s)throw new Mt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=Fr(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),o=ct(s,kee);if("error"in o)throw new Mt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,r){const{commitment:n,config:i}=Fr(r),s=this._buildArgs([e],n,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=ct(o,Cee);if("error"in a)throw new Mt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=ct(e,ar(TQ));if("error"in r)throw new Mt(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=ct(e,ar(rt()));if("error"in r)throw new Mt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:i}=Fr(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ct(o,xee);if("error"in a)throw a.error;return a.result}case"none":{const a=ct(o,vee);if("error"in a)throw a.error;return a.result}default:{const a=ct(o,bee);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:l,meta:u,version:f})=>({meta:u,transaction:{...l,message:ab(f,l.message)},version:f}))}:null}}}catch(a){throw new Mt(a,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:i}=Fr(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ct(o,See);if("error"in a)throw a.error;return a.result}case"none":{const a=ct(o,Eee);if("error"in a)throw a.error;return a.result}default:{const a=ct(o,_ee);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Mt(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){const{commitment:a,...c}=e;n=a,r=c}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),o=ct(s,OQ);if("error"in o)throw new Mt(o.error,"failed to get block production information");return o.result}async getTransaction(e,r){const{commitment:n,config:i}=Fr(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getTransaction",s),a=ct(o,cb);if("error"in a)throw new Mt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:ab(c.version,c.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:n,config:i}=Fr(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=ct(o,j0);if("error"in a)throw new Mt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){const{commitment:n,config:i}=Fr(r),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const l=ct(c,j0);if("error"in l)throw new Mt(l.error,"failed to get transactions");return l.result})}async getTransactions(e,r){const{commitment:n,config:i}=Fr(r),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const l=ct(c,cb);if("error"in l)throw new Mt(l.error,"failed to get transactions");const u=l.result;return u&&{...u,transaction:{...u.transaction,message:ab(u.version,u.transaction.message)}}})}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),s=ct(i,Aee);if("error"in s)throw new Mt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:l})=>{const u=new Co(c.message);return{meta:l,transaction:{...c,message:u}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:l})=>({meta:l,transaction:fr.populate(c.message,c.signatures)}))}}async getBlocks(e,r,n){const i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),o=ct(s,ar(pt(ve())));if("error"in o)throw new Mt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=ct(i,a4);if("error"in s)throw new Mt(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),s=ct(i,a4);if("error"in s)throw new Mt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),s=ct(i,cb);if("error"in s)throw new Mt(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Co(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:fr.populate(a,c)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),s=ct(i,j0);if("error"in s)throw new Mt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){const n=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const a=ct(o,j0);if("error"in a)throw new Mt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{const c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>o));)try{const c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=ct(s,eee);if("error"in o)throw new Mt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),o=ct(s,tee);if("error"in o)throw new Mt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=new S2({key:e,state:S2.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=iy.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=ct(n,Nee);if("error"in i)throw new Mt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Cl(100);const n=Date.now()-this._blockhashInfo.lastFetch>=kP;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Cl(_P/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=Fr(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=ct(s,mn(ve()));if("error"in o)throw new Mt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,r,n){if("message"in e){const v=e.serialize(),T=Rt.Buffer.from(v).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const k=r||{};k.encoding="base64","commitment"in k||(k.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(k.innerInstructions=r.innerInstructions);const C=[T,k],I=await this._rpcRequest("simulateTransaction",C),D=ct(I,s4);if("error"in D)throw new Error("failed to simulate transaction: "+D.error.message);return D.result}let i;if(e instanceof fr){let y=e;i=new fr,i.feePayer=y.feePayer,i.instructions=e.instructions,i.nonceInfo=y.nonceInfo,i.signatures=y.signatures}else i=fr.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(i.nonceInfo&&s)i.sign(...s);else{let y=this._disableBlockhashCaching;for(;;){const v=await this._blockhashWithExpiryBlockHeight(y);if(i.lastValidBlockHeight=v.lastValidBlockHeight,i.recentBlockhash=v.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const T=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(T)&&!this._blockhashInfo.transactionSignatures.includes(T)){this._blockhashInfo.simulatedSignatures.push(T);break}else y=!0}}const o=i._compile(),a=o.serialize(),l=i._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(n){const y=(Array.isArray(n)?n:o.nonProgramIds()).map(v=>v.toBase58());u.accounts={encoding:"base64",addresses:y}}s&&(u.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(u.innerInstructions=r.innerInstructions);const f=[l,u],h=await this._rpcRequest("simulateTransaction",f),g=ct(h,s4);if("error"in g){let y;if("data"in g.error&&(y=g.error.data.logs,y&&Array.isArray(y))){const v=`
    `,T=v+y.join(v);console.error(g.error.message,T)}throw new lp({action:"simulate",signature:"",transactionMessage:g.error.message,logs:y})}return g.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){const n=cr(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const o=[e,n],a=await this._rpcRequest("sendTransaction",o),c=ct(a,Mee);if("error"in c){let l;throw"data"in c.error&&(l=c.error.data.logs),new lp({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:l})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){var i;const n=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var s;const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[n]||(s[n]=new Set);return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:a}),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:r,subscription:n}=ct(e,ree);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,i=r4([e.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[i];Ar(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const{commitment:i,config:s}=Fr(n),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=ct(e,iee);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){const{commitment:s,config:o}=Fr(n),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:i4(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=ct(e,Lee);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=ct(e,oee);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=ct(e,cee);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){const s=r||this._commitment;if(s||n||i){let o={};n&&(o.encoding=n),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=ct(e,lee);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){r(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,l)=>{r(c,l);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=ct(e,uee);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Xl{constructor(e){this._keypair=void 0,this._keypair=e??ZE()}static generate(){return new Xl(ZE())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const i=e.slice(0,32),s=C1(i);for(let o=0;o<32;o++)if(n[o]!==s[o])throw new Error("provided secretKey is invalid")}return new Xl({publicKey:n,secretKey:e})}static fromSeed(e){const r=C1(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new Xl({publicKey:r,secretKey:n})}get publicKey(){return new Be(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Oa=Object.freeze({CreateLookupTable:{index:0,layout:kt([It("instruction"),Hf("recentSlot"),Sr("bumpSeed")])},FreezeLookupTable:{index:1,layout:kt([It("instruction")])},ExtendLookupTable:{index:2,layout:kt([It("instruction"),Hf(),ci(ur(),Hc(It(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:kt([It("instruction")])},CloseLookupTable:{index:4,layout:kt([It("instruction")])}});class Bee{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=It("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Oa))if(o.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=Cr(Oa.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=Cr(Oa.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new Be(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(h_.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}class h_{constructor(){}static createLookupTable(e){const[r,n]=Be.findProgramAddressSync([e.authority.toBuffer(),iP(BigInt(e.recentSlot),8)],this.programId),i=Oa.CreateLookupTable,s=_r(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Dr.programId,isSigner:!1,isWritable:!1}];return[new Ur({programId:this.programId,keys:o,data:s}),r]}static freezeLookupTable(e){const r=Oa.FreezeLookupTable,n=_r(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ur({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){const r=Oa.ExtendLookupTable,n=_r(r,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Dr.programId,isSigner:!1,isWritable:!1}),new Ur({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){const r=Oa.DeactivateLookupTable,n=_r(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ur({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){const r=Oa.CloseLookupTable,n=_r(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ur({programId:this.programId,keys:i,data:n})}}h_.programId=new Be("AddressLookupTab1e1111111111111111111111111");class $ee{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=Sr("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Yo))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=Cr(Yo.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=Cr(Yo.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=Cr(Yo.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=Cr(Yo.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(p_.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Yo=Object.freeze({RequestUnits:{index:0,layout:kt([Sr("instruction"),It("units"),It("additionalFee")])},RequestHeapFrame:{index:1,layout:kt([Sr("instruction"),It("bytes")])},SetComputeUnitLimit:{index:2,layout:kt([Sr("instruction"),It("units")])},SetComputeUnitPrice:{index:3,layout:kt([Sr("instruction"),Hf("microLamports")])}});class p_{constructor(){}static requestUnits(e){const r=Yo.RequestUnits,n=_r(r,e);return new Ur({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const r=Yo.RequestHeapFrame,n=_r(r,e);return new Ur({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const r=Yo.SetComputeUnitLimit,n=_r(r,e);return new Ur({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const r=Yo.SetComputeUnitPrice,n=_r(r,{microLamports:BigInt(e.microLamports)});return new Ur({keys:[],programId:this.programId,data:n})}}p_.programId=new Be("ComputeBudget111111111111111111111111111111");const c4=64,l4=32,u4=64,f4=kt([Sr("numSignatures"),Sr("padding"),Us("signatureOffset"),Us("signatureInstructionIndex"),Us("publicKeyOffset"),Us("publicKeyInstructionIndex"),Us("messageDataOffset"),Us("messageDataSize"),Us("messageInstructionIndex")]);class ay{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,instructionIndex:s}=e;Ar(r.length===l4,`Public Key must be ${l4} bytes but received ${r.length} bytes`),Ar(i.length===u4,`Signature must be ${u4} bytes but received ${i.length} bytes`);const o=f4.span,a=o+r.length,c=a+i.length,l=1,u=Rt.Buffer.alloc(c+n.length),f=s??65535;return f4.encode({numSignatures:l,padding:0,signatureOffset:a,signatureInstructionIndex:f,publicKeyOffset:o,publicKeyInstructionIndex:f,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:f},u),u.fill(r,o),u.fill(i,a),u.fill(n,c),new Ur({keys:[],programId:ay.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;Ar(r.length===c4,`Private key must be ${c4} bytes but received ${r.length} bytes`);try{const s=Xl.fromSecretKey(r),o=s.publicKey.toBytes(),a=s_(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}ay.programId=new Be("Ed25519SigVerify111111111111111111111111111");const Uee=(t,e)=>{const r=um.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};um.utils.isValidPrivateKey;const Fee=um.getPublicKey,d4=32,lb=20,h4=64,jee=11,ub=kt([Sr("numSignatures"),Us("signatureOffset"),Sr("signatureInstructionIndex"),Us("ethAddressOffset"),Sr("ethAddressInstructionIndex"),Us("messageDataOffset"),Us("messageDataSize"),Sr("messageInstructionIndex"),Xr(20,"ethAddress"),Xr(64,"signature"),Sr("recoveryId")]);class _f{constructor(){}static publicKeyToEthAddress(e){Ar(e.length===h4,`Public key must be ${h4} bytes but received ${e.length} bytes`);try{return Rt.Buffer.from(XE(cr(e))).slice(-lb)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:o}=e;return _f.createInstructionWithEthAddress({ethAddress:_f.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof r=="string"?r.startsWith("0x")?a=Rt.Buffer.from(r.substr(2),"hex"):a=Rt.Buffer.from(r,"hex"):a=r,Ar(a.length===lb,`Address must be ${lb} bytes but received ${a.length} bytes`);const c=1+jee,l=c,u=c+a.length,f=u+i.length+1,h=1,g=Rt.Buffer.alloc(ub.span+n.length);return ub.encode({numSignatures:h,signatureOffset:u,signatureInstructionIndex:o,ethAddressOffset:l,ethAddressInstructionIndex:o,messageDataOffset:f,messageDataSize:n.length,messageInstructionIndex:o,signature:cr(i),ethAddress:cr(a),recoveryId:s},g),g.fill(cr(n),ub.span),new Ur({keys:[],programId:_f.programId,data:g})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;Ar(r.length===d4,`Private key must be ${d4} bytes but received ${r.length} bytes`);try{const s=cr(r),o=Fee(s,!1).slice(1),a=Rt.Buffer.from(XE(cr(n))),[c,l]=Uee(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:c,recoveryId:l,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}_f.programId=new Be("KeccakSecp256k11111111111111111111111111111");var BP;const $P=new Be("StakeConfig11111111111111111111111111111111");class UP{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class jp{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}BP=jp;jp.default=new BP(0,0,Be.default);class zee{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=It("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Kn))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=Cr(Kn.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new UP(new Be(r.staker),new Be(r.withdrawer)),lockup:new jp(n.unixTimestamp,n.epoch,new Be(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Cr(Kn.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=Cr(Kn.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Be(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=Cr(Kn.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new Be(s),newAuthorizedPubkey:new Be(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=Cr(Kn.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Cr(Kn.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=Cr(Kn.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Cr(Kn.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(cy.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const Kn=Object.freeze({Initialize:{index:0,layout:kt([It("instruction"),KZ(),WZ()])},Authorize:{index:1,layout:kt([It("instruction"),ur("newAuthorized"),It("stakeAuthorizationType")])},Delegate:{index:2,layout:kt([It("instruction")])},Split:{index:3,layout:kt([It("instruction"),hs("lamports")])},Withdraw:{index:4,layout:kt([It("instruction"),hs("lamports")])},Deactivate:{index:5,layout:kt([It("instruction")])},Merge:{index:7,layout:kt([It("instruction")])},AuthorizeWithSeed:{index:8,layout:kt([It("instruction"),ur("newAuthorized"),It("stakeAuthorizationType"),Dl("authoritySeed"),ur("authorityOwner")])}}),qee=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class cy{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:i}=e,s=i||jp.default,o=Kn.Initialize,a=_r(o,{authorized:{staker:cr(n.staker.toBuffer()),withdrawer:cr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:cr(s.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Wf,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Ur(c)}static createAccountWithSeed(e){const r=new fr;r.add(Dr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){const r=new fr;r.add(Dr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=Kn.Delegate,o=_r(s);return new fr().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Wo,isSigner:!1,isWritable:!1},{pubkey:vg,isSigner:!1,isWritable:!1},{pubkey:$P,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=Kn.Authorize,c=_r(a,{newAuthorized:cr(i.toBuffer()),stakeAuthorizationType:s.index}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Wo,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&l.push({pubkey:o,isSigner:!0,isWritable:!1}),new fr().add({keys:l,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,l=Kn.AuthorizeWithSeed,u=_r(l,{newAuthorized:cr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:cr(s.toBuffer())}),f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Wo,isSigner:!1,isWritable:!1}];return c&&f.push({pubkey:c,isSigner:!0,isWritable:!1}),new fr().add({keys:f,programId:this.programId,data:u})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,o=Kn.Split,a=_r(o,{lamports:s});return new Ur({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,r){const n=new fr;return n.add(Dr.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:c}=e,l=new fr;return l.add(Dr.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),r&&r>0&&l.add(Dr.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),l.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:c}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=Kn.Merge,o=_r(s);return new fr().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Wo,isSigner:!1,isWritable:!1},{pubkey:vg,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=Kn.Withdraw,c=_r(a,{lamports:s}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Wo,isSigner:!1,isWritable:!1},{pubkey:vg,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&l.push({pubkey:o,isSigner:!0,isWritable:!1}),new fr().add({keys:l,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,i=Kn.Deactivate,s=_r(i);return new fr().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Wo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}cy.programId=new Be("Stake11111111111111111111111111111111111111");cy.space=200;class FP{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}}class Kee{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=It("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Jo))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=Cr(Jo.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new FP(new Be(r.nodePubkey),new Be(r.authorizedVoter),new Be(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=Cr(Jo.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Be(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=Cr(Jo.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Be(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new Be(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=Cr(Jo.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(yd.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const Jo=Object.freeze({InitializeAccount:{index:0,layout:kt([It("instruction"),HZ()])},Authorize:{index:1,layout:kt([It("instruction"),ur("newAuthorized"),It("voteAuthorizationType")])},Withdraw:{index:3,layout:kt([It("instruction"),hs("lamports")])},UpdateValidatorIdentity:{index:4,layout:kt([It("instruction")])},AuthorizeWithSeed:{index:10,layout:kt([It("instruction"),VZ()])}}),Wee=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class yd{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=Jo.InitializeAccount,o=_r(s,{voteInit:{nodePubkey:cr(i.nodePubkey.toBuffer()),authorizedVoter:cr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:cr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Wf,isSigner:!1,isWritable:!1},{pubkey:Wo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Ur(a)}static createAccount(e){const r=new fr;return r.add(Dr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=Jo.Authorize,a=_r(o,{newAuthorized:cr(i.toBuffer()),voteAuthorizationType:s.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Wo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new fr().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,c=Jo.AuthorizeWithSeed,l=_r(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:cr(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:cr(s.toBuffer()),voteAuthorizationType:o.index}}),u=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Wo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new fr().add({keys:u,programId:this.programId,data:l})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,o=Jo.Withdraw,a=_r(o,{lamports:i}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new fr().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return yd.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=Jo.UpdateValidatorIdentity,o=_r(s),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new fr().add({keys:a,programId:this.programId,data:o})}}yd.programId=new Be("Vote111111111111111111111111111111111111111");yd.space=3762;const jP=new Be("Va1idator1nfo111111111111111111111111111111"),Hee=He({name:rt(),website:qt(rt()),details:qt(rt()),iconUrl:qt(rt()),keybaseUsername:qt(rt())});class g_{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(Gi(r)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new Be(Yi(r,0,ia)),a=Go(r)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(jP)&&i[1].isSigner){const s=Dl().decode(Rt.Buffer.from(r)),o=JSON.parse(s);return sP(o,Hee),new g_(i[1].publicKey,o)}return null}}const Vee=new Be("Vote111111111111111111111111111111111111111"),Gee=kt([ur("nodePubkey"),ur("authorizedWithdrawer"),Sr("commission"),ni(),ci(kt([ni("slot"),It("confirmationCount")]),Hc(It(),-8),"votes"),Sr("rootSlotValid"),ni("rootSlot"),ni(),ci(kt([ni("epoch"),ur("authorizedVoter")]),Hc(It(),-8),"authorizedVoters"),kt([ci(kt([ur("authorizedPubkey"),ni("epochOfLastAuthorizedSwitch"),ni("targetEpoch")]),32,"buf"),ni("idx"),Sr("isEmpty")],"priorVoters"),ni(),ci(kt([ni("epoch"),ni("credits"),ni("prevCredits")]),Hc(It(),-8),"epochCredits"),kt([ni("slot"),ni("timestamp")],"lastTimestamp")]);class m_{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const n=Gee.decode(cr(e),4);let i=n.rootSlot;return n.rootSlotValid||(i=null),new m_({nodePubkey:new Be(n.nodePubkey),authorizedWithdrawer:new Be(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(Yee),priorVoters:Jee(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}}function Yee({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new Be(t)}}function p4({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new Be(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function Jee({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(p4),...t.slice(0,e).map(p4)]}const g4={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Xee(t,e){const r=e===!1?"http":"https";if(!t)return g4[r].devnet;const n=g4[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function Zee(t,e,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,s=n):s=r;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await t.sendRawTransaction(e,o),c=s&&s.commitment,u=(await(i?t.confirmTransaction(i,c):t.confirmTransaction(a,c))).value;if(u.err)throw a!=null?new lp({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(u)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(u)})`);return a}const fo=1e9,Qee=Object.freeze(Object.defineProperty({__proto__:null,Account:jZ,AddressLookupTableAccount:S2,AddressLookupTableInstruction:Bee,AddressLookupTableProgram:h_,Authorized:UP,BLOCKHASH_CACHE_TIMEOUT_MS:kP,BPF_LOADER_DEPRECATED_PROGRAM_ID:zZ,BPF_LOADER_PROGRAM_ID:cQ,BpfLoader:lQ,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Yo,ComputeBudgetInstruction:$ee,ComputeBudgetProgram:p_,Connection:hc,Ed25519Program:ay,Enum:UZ,EpochSchedule:AP,FeeCalculatorLayout:SP,Keypair:Xl,LAMPORTS_PER_SOL:fo,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Oa,Loader:fu,Lockup:jp,MAX_SEED_LENGTH:bP,Message:Co,MessageAccountKeys:cp,MessageV0:uu,NONCE_ACCOUNT_LENGTH:_2,NonceAccount:iy,PACKET_DATA_SIZE:Vc,PUBLIC_KEY_LENGTH:ia,PublicKey:Be,SIGNATURE_LENGTH_IN_BYTES:ap,SOLANA_SCHEMA:Ih,STAKE_CONFIG_ID:$P,STAKE_INSTRUCTION_LAYOUTS:Kn,SYSTEM_INSTRUCTION_LAYOUTS:qr,SYSVAR_CLOCK_PUBKEY:Wo,SYSVAR_EPOCH_SCHEDULE_PUBKEY:ZZ,SYSVAR_INSTRUCTIONS_PUBKEY:QZ,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:bg,SYSVAR_RENT_PUBKEY:Wf,SYSVAR_REWARDS_PUBKEY:eQ,SYSVAR_SLOT_HASHES_PUBKEY:tQ,SYSVAR_SLOT_HISTORY_PUBKEY:rQ,SYSVAR_STAKE_HISTORY_PUBKEY:vg,Secp256k1Program:_f,SendTransactionError:lp,SolanaJSONRPCError:Mt,SolanaJSONRPCErrorCode:nQ,StakeAuthorizationLayout:qee,StakeInstruction:zee,StakeProgram:cy,Struct:o_,SystemInstruction:oQ,SystemProgram:Dr,Transaction:fr,TransactionExpiredBlockheightExceededError:a_,TransactionExpiredNonceInvalidError:af,TransactionExpiredTimeoutError:c_,TransactionInstruction:Ur,TransactionMessage:Ac,TransactionStatus:Ia,VALIDATOR_INFO_KEY:jP,VERSION_PREFIX_MASK:ry,VOTE_PROGRAM_ID:Vee,ValidatorInfo:g_,VersionedMessage:l_,VersionedTransaction:ms,VoteAccount:m_,VoteAuthorizationLayout:Wee,VoteInit:FP,VoteInstruction:Kee,VoteProgram:yd,clusterApiUrl:Xee,sendAndConfirmRawTransaction:Zee,sendAndConfirmTransaction:x2},Symbol.toStringTag,{value:"Module"}));class _a{constructor(e){Pe(this,"provider",void 0),this.provider=e}async requestAccounts(){return await this.provider.request({method:"requestAccounts"})}async signAndSendTransaction(e){const{signature:r}=await this.provider.request({method:"signAndSendTransaction",params:{message:e}});return{signature:r}}async signTransaction(e){return await this.provider.request({method:"signTransaction",params:{message:e}})}async signAllTransactions(e){return await this.provider.request({method:"signAllTransactions",params:{message:e}})}async signMessage(e){return await this.provider.request({method:"signMessage",params:{message:e}})}async request(e){return await this.provider.request(e)}}function ete({getAccounts:t}){return ki(async(e,r,n)=>{const{method:i}=e;if(i!=="getAccounts")return n();if(!t)throw new Error("WalletMiddleware - opts.getAccounts not provided");const s=await t(e);r.result=s})}function tte({requestAccounts:t}){return ki(async(e,r,n)=>{const{method:i}=e;if(i!=="requestAccounts")return n();if(!t)throw new Error("WalletMiddleware - opts.requestAccounts not provided");const s=await t(e);r.result=s})}function Ds(t,e){return ki(async(r,n,i)=>{const{method:s}=r;if(s!==t)return i();if(!e)throw new Error(`WalletMiddleware - ${t} not provided`);const o=await e(r);n.result=o})}function y_(t){const{getAccounts:e,requestAccounts:r,signTransaction:n,signAndSendTransaction:i,signAllTransactions:s,signMessage:o,getPrivateKey:a,getSecretKey:c,getPublicKey:l}=t;return cl([tte({requestAccounts:r}),ete({getAccounts:e}),Ds("signTransaction",n),Ds("signAndSendTransaction",i),Ds("signAllTransactions",s),Ds("signMessage",o),Ds("solanaPrivateKey",a),Ds("private_key",a),Ds("public_key",l),Ds("solanaPublicKey",l),Ds("solanaSecretKey",c)])}function rte({addNewChainConfig:t,switchSolanaChain:e}){return cl([Ds("addSolanaChain",t),Ds("switchSolanaChain",e)])}function nte({updatePrivatekey:t}){return cl([Ds("updateAccount",t)])}function ite(t){return(e,r,n,i)=>e.method==="solana_chainId"?(r.result=t,i()):n()}function ste(t){return(e,r,n,i)=>e.method==="solana_provider_config"?(r.result=t,i()):n()}function zP(t){const{chainId:e}=t;return cl([ite(e),ste(t)])}function qP(t){const{rpcTarget:e}=t,r=Ox({rpcTarget:e});return{networkMiddleware:cl([zP(t),r]),fetchMiddleware:r}}class ote extends zm{constructor({config:e,state:r}){super({config:e,state:r})}async switchChain(e){throw Kt.unsupportedOperation("Chain switching is not supported by this adapter")}async setupProvider(e){const r=new Vi,n=this.getProviderHandlers(e),i=y_(n);r.push(i);const s=zP(this.config.chainConfig);r.push(s);const o=this.getInjectedProviderProxy(e);o&&r.push(o);const a=tp(r);this.updateProviderEngineProxy(a),await this.lookupNetwork()}async lookupNetwork(){const{chainConfig:e}=this.config;return this.update({chainId:e.chainId}),e.chainId||""}getInjectedProviderProxy(e){}}function ate(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function u(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,v=0,T=0,k=g.length;T!==k&&g[T]===0;)T++,y++;for(var C=(k-T)*l+1>>>0,I=new Uint8Array(C);T!==k;){for(var D=g[T],O=0,F=C-1;(D!==0||O<v)&&F!==-1;F--,O++)D+=256*I[F]>>>0,I[F]=D%o>>>0,D=D/o>>>0;if(D!==0)throw new Error("Non-zero carry");v=O,T++}for(var x=C-v;x!==C&&I[x]===0;)x++;for(var L=a.repeat(y);x<C;++x)L+=t.charAt(I[x]);return L}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;for(var y=0,v=0,T=0;g[y]===a;)v++,y++;for(var k=(g.length-y)*c+1>>>0,C=new Uint8Array(k);g[y];){var I=e[g.charCodeAt(y)];if(I===255)return;for(var D=0,O=k-1;(I!==0||D<T)&&O!==-1;O--,D++)I+=o*C[O]>>>0,C[O]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");T=D,y++}for(var F=k-T;F!==k&&C[F]===0;)F++;for(var x=new Uint8Array(v+(k-F)),L=v;F!==k;)x[L++]=C[F++];return x}function h(g){var y=f(g);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:h}}var cte=ate;const lte=cte,ute="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var fte=lte(ute);const za=An(fte),dte=t=>({requestAccounts:async()=>t.publicKey?[za.encode(t.publicKey.toBytes())]:[],getPublicKey:async()=>t.publicKey?za.encode(t.publicKey.toBytes()):"",getAccounts:async()=>t.publicKey?[za.encode(t.publicKey.toBytes())]:[],getPrivateKey:async()=>{throw Ht.methodNotSupported()},getSecretKey:async()=>{throw Ht.methodNotSupported()},signTransaction:async r=>await t.signTransaction(r.params.message),signMessage:async r=>(await t.signMessage(r.params.message,r.params.display)).signature,signAllTransactions:async r=>{var n,i;if(!((n=r.params)!==null&&n!==void 0&&n.message)||!((i=r.params)!==null&&i!==void 0&&i.message.length))throw Ht.invalidParams("message");return await t.signAllTransactions(r.params.message)},signAndSendTransaction:async r=>({signature:(await t.signAndSendTransaction(r.params.message)).signature})});class hte extends ote{getProviderHandlers(e){return dte(e)}}async function pte({privKey:t,keyExportEnabled:e,getProviderEngineProxy:r}){const n=()=>Xl.fromSecretKey(Buffer.from(t,"hex"));if(typeof t!="string")throw st.invalidParams("privKey must be a string");const i=n();return{requestAccounts:async()=>[i.publicKey.toBase58()],getAccounts:async()=>[i.publicKey.toBase58()],getPublicKey:async()=>i.publicKey.toBase58(),getPrivateKey:async()=>{if(!e)throw Ws.custom({message:"Private key export is disabled",code:4902});return t},getSecretKey:async()=>za.encode(i.secretKey),signTransaction:async o=>{var a;if(!((a=o.params)!==null&&a!==void 0&&a.message))throw Ht.invalidParams("message");const c=o.params.message;return c.version!==void 0||c instanceof ms?c.sign([i]):c.partialSign(i),c},signMessage:async o=>{var a;if(!((a=o.params)!==null&&a!==void 0&&a.message))throw Ht.invalidParams("message");return C9.sign.detached(o.params.message,i.secretKey)},signAndSendTransaction:async o=>{var a;if(!((a=o.params)!==null&&a!==void 0&&a.message))throw Ht.invalidParams("message");const c=r();if(!c)throw Ws.custom({message:"Provider is not initialized",code:4902});const l=o.params.message;return l.version!==void 0||l instanceof ms?l.sign([i]):l.partialSign(i),{signature:await c.request({method:"sendTransaction",params:[Buffer.from(l.serialize()).toString("base64"),{encoding:"base64",preflightCommitment:"confirmed"}]})}},signAllTransactions:async o=>{var a,c,l;if(!((a=o.params)!==null&&a!==void 0&&a.message)||!((c=o.params)!==null&&c!==void 0&&c.message.length))throw Ht.invalidParams("message");const u=(l=o.params)===null||l===void 0?void 0:l.message;for(const f of u||[]){const h=f;h.version!==void 0||h instanceof ms?h.sign([i]):h.partialSign(i)}return u}}}var KP;class w_ extends zm{constructor({config:e,state:r}){super({config:e,state:r}),Pe(this,"PROVIDER_CHAIN_NAMESPACE",Vt.SOLANA)}async enable(){if(!this.state.privateKey)throw Ws.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});return await this.setupProvider(this.state.privateKey),this._providerEngineProxy.request({method:"eth_accounts"})}getEd25519Key(e){return Nz(e).sk.toString("hex").padStart(128,"0")}async setupProvider(e){const{chainNamespace:r}=this.config.chainConfig;if(r!==this.PROVIDER_CHAIN_NAMESPACE)throw st.incompatibleChainNameSpace("Invalid chain namespace");const n=await pte({privKey:e,getProviderEngineProxy:this.getProviderEngineProxy.bind(this),keyExportEnabled:this.config.keyExportEnabled}),i=y_(n),s=new Vi,{networkMiddleware:o}=qP(this.config.chainConfig);s.push(this.getChainSwitchMiddleware()),s.push(this.getAccountMiddleware()),s.push(i),s.push(o);const a=tp(s);this.updateProviderEngineProxy(a),await this.lookupNetwork()}async updateAccount(e){if(!this._providerEngineProxy)throw Ws.custom({message:"Provider is not initialized",code:4902});if(await this._providerEngineProxy.request({method:"solanaPrivateKey"})!==e.privateKey){await this.setupProvider(e.privateKey);const n=await this._providerEngineProxy.request({method:"requestAccounts"});this.emit("accountsChanged",n)}}async switchChain(e){if(!this._providerEngineProxy)throw Ws.custom({message:"Provider is not initialized",code:4902});const r=this.getChainConfig(e.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:r});const n=await this._providerEngineProxy.request({method:"solanaPrivateKey"});await this.setupProvider(n)}async lookupNetwork(){if(!this._providerEngineProxy)throw Ws.custom({message:"Provider is not initialized",code:4902});const e=await this._providerEngineProxy.request({method:"getHealth",params:[]}),{chainConfig:r}=this.config;if(e!=="ok")throw st.rpcConnectionError(`Failed to lookup network for following rpc target: ${r.rpcTarget}`);return this.update({chainId:r.chainId}),this.state.chainId!==r.chainId&&(this.emit("chainChanged",this.state.chainId),this.emit("connect",{chainId:this.state.chainId})),this.state.chainId}getChainSwitchMiddleware(){return rte({addNewChainConfig:async n=>{if(!n.params)throw Ht.invalidParams("Missing request params");const{chainId:i,chainName:s,rpcUrls:o,blockExplorerUrls:a,nativeCurrency:c,iconUrls:l}=n.params;if(!i)throw Ht.invalidParams("Missing chainId in chainParams");if(!o||o.length===0)throw Ht.invalidParams("Missing rpcUrls in chainParams");if(!c)throw Ht.invalidParams("Missing nativeCurrency in chainParams");this.addChain({chainNamespace:Vt.SOLANA,chainId:i,ticker:(c==null?void 0:c.symbol)||"SOL",tickerName:(c==null?void 0:c.name)||"Solana",displayName:s,rpcTarget:o[0],blockExplorerUrl:(a==null?void 0:a[0])||"",decimals:(c==null?void 0:c.decimals)||9,logo:(l==null?void 0:l[0])||"https://images.toruswallet.io/sol.svg"})},switchSolanaChain:async n=>{if(!n.params)throw Ht.invalidParams("Missing request params");if(!n.params.chainId)throw Ht.invalidParams("Missing chainId");await this.switchChain(n.params)}})}getAccountMiddleware(){return nte({updatePrivatekey:async r=>{if(!r.params)throw Ht.invalidParams("Missing request params");if(!r.params.privateKey)throw Ht.invalidParams("Missing privateKey");const{privateKey:n}=r.params;await this.updateAccount({privateKey:n})}})}}KP=w_;Pe(w_,"getProviderInstance",async t=>{const e=new KP({config:{chainConfig:t.chainConfig}});return await e.setupProvider(t.privKey),e});class gte{constructor(e){Tr(this,"provider");Tr(this,"getAccounts",async()=>{try{return await new _a(this.provider).requestAccounts()}catch(e){return e}});Tr(this,"getBalance",async()=>{try{const e=new _a(this.provider),r=await e.request({method:"solana_provider_config",params:[]}),n=new hc(r.rpcTarget),i=await e.requestAccounts();return(await n.getBalance(new Be(i[0]))).toString()}catch(e){return e}});Tr(this,"signMessage",async()=>{try{const e=new _a(this.provider),r=Buffer.from("Test Signing Message ","utf8");return(await e.signMessage(r)).toString()}catch(e){return e}});Tr(this,"sendTransaction",async()=>{try{const e=new _a(this.provider),r=await e.requestAccounts(),n=await e.request({method:"solana_provider_config",params:[]}),s=await new hc(n.rpcTarget).getLatestBlockhash("finalized"),o=Dr.transfer({fromPubkey:new Be(r[0]),toPubkey:new Be(r[0]),lamports:.01*fo}),a=new fr({blockhash:s.blockhash,lastValidBlockHeight:s.lastValidBlockHeight,feePayer:new Be(r[0])}).add(o),{signature:c}=await e.signAndSendTransaction(a);return c}catch(e){return e}});Tr(this,"signTransaction",async()=>{var e;try{const r=new _a(this.provider),n=await r.request({method:"solana_provider_config",params:[]}),i=new hc(n.rpcTarget),s=await r.requestAccounts(),{blockhash:o}=await i.getRecentBlockhash("finalized"),a=Dr.transfer({fromPubkey:new Be(s[0]),toPubkey:new Be(s[0]),lamports:.01*fo}),c=new fr({recentBlockhash:o,feePayer:new Be(s[0])}).add(a);return((e=(await r.signTransaction(c)).signature)==null?void 0:e.toString())||""}catch(r){return r}});Tr(this,"sendVersionTransaction",async()=>{try{const e=new _a(this.provider),r=await e.request({method:"solana_provider_config",params:[]}),n=new hc(r.rpcTarget),i=await e.requestAccounts(),{blockhash:s}=await n.getLatestBlockhash("finalized"),o=Dr.transfer({fromPubkey:new Be(i[0]),toPubkey:new Be(i[0]),lamports:.01*fo}),a=new Ac({recentBlockhash:s,instructions:[o],payerKey:new Be(i[0])}),c=new ms(a.compileToV0Message()),{signature:l}=await e.signAndSendTransaction(c);return l}catch(e){return e}});Tr(this,"signVersionedTransaction",async()=>{try{const e=new _a(this.provider),r=await e.request({method:"solana_provider_config",params:[]}),n=new hc(r.rpcTarget),i=await e.requestAccounts(),{blockhash:s}=await n.getLatestBlockhash("finalized"),o=Dr.transfer({fromPubkey:new Be(i[0]),toPubkey:new Be(i[0]),lamports:.01*fo}),a=new Ac({recentBlockhash:s,instructions:[o],payerKey:new Be(i[0])}),c=new ms(a.compileToV0Message());return await e.signTransaction(c)}catch(e){throw e}});Tr(this,"signAllTransaction",async()=>{try{const e=new _a(this.provider),r=await e.request({method:"solana_provider_config",params:[]}),n=new hc(r.rpcTarget),i=await e.requestAccounts(),{blockhash:s}=await n.getLatestBlockhash("finalized"),o=Dr.transfer({fromPubkey:new Be(i[0]),toPubkey:new Be(i[0]),lamports:.01*fo}),a=Dr.transfer({fromPubkey:new Be(i[0]),toPubkey:new Be(i[0]),lamports:.02*fo}),c=Dr.transfer({fromPubkey:new Be(i[0]),toPubkey:new Be(i[0]),lamports:.03*fo}),l=new fr({recentBlockhash:s,feePayer:new Be(i[0])}).add(o),u=new fr({recentBlockhash:s,feePayer:new Be(i[0])}).add(a),f=new fr({recentBlockhash:s,feePayer:new Be(i[0])}).add(c);return await e.signAllTransactions([l,u,f])}catch(e){throw e}});Tr(this,"signAllVersionedTransaction",async()=>{try{const e=new _a(this.provider),r=await e.request({method:"solana_provider_config",params:[]}),n=new hc(r.rpcTarget),i=await e.requestAccounts(),{blockhash:s}=await n.getLatestBlockhash("finalized"),o=Dr.transfer({fromPubkey:new Be(i[0]),toPubkey:new Be(i[0]),lamports:.01*fo}),a=Dr.transfer({fromPubkey:new Be(i[0]),toPubkey:new Be(i[0]),lamports:.02*fo}),c=Dr.transfer({fromPubkey:new Be(i[0]),toPubkey:new Be(i[0]),lamports:.03*fo}),l=new Ac({recentBlockhash:s,payerKey:new Be(i[0]),instructions:[o]}),u=new Ac({recentBlockhash:s,payerKey:new Be(i[0]),instructions:[a]}),f=new Ac({recentBlockhash:s,payerKey:new Be(i[0]),instructions:[c]}),h=new ms(l.compileToV0Message()),g=new ms(u.compileToV0Message()),y=new ms(f.compileToV0Message()),v=await e.signAllTransactions([h,g,y]);return console.log(v),v}catch(e){throw e}});Tr(this,"getPrivateKey",async()=>await this.provider.request({method:"solanaPrivateKey"}));this.provider=e}}let mte=function(t){return t.ETH_SEND_TRANSACTION="eth_sendTransaction",t.ETH_SIGN_TRANSACTION="eth_signTransaction",t.ETH_SIGN="eth_sign",t.PERSONAL_SIGN="personal_sign",t.ETH_SIGN_TYPED_DATA="eth_signTypedData",t.ETH_SIGN_TYPED_DATA_V3="eth_signTypedData_v3",t.ETH_SIGN_TYPED_DATA_V4="eth_signTypedData_v4",t.ADD_ETHEREUM_CHAIN="wallet_addEthereumChain",t.SWITCH_ETHEREUM_CHAIN="wallet_switchEthereumChain",t}({}),yte=function(t){return t.SIGN_TRANSACTION="solana_signTransaction",t.SIGN_MESSAGE="solana_signMessage",t}({}),wte=function(t){return t.ETH_CHAIN_CHANGED="chainChanged",t.ETH_ACCOUNTS_CHANGED="accountsChanged",t}({}),bte=function(t){return t.SOL_CHAIN_CHANGED="chainChanged",t.SOL_ACCOUNTS_CHANGED="accountsChanged",t}({});const k2={"0x1":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x2":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x3":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"},vte=t=>{const{document:e}=t,r=e.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=e.querySelector('head > meta[name="title"]');return n?n.content:e.title&&e.title.length>0?e.title:t.location.hostname};function m4(t){return new Promise((e,r)=>{try{const n=document.createElement("img");n.onload=()=>e(!0),n.onerror=()=>e(!1),n.src=t}catch(n){r(n)}})}async function xte(t){const{document:e}=t;let r=e.querySelector('head > link[rel="shortcut icon"]');return r&&await m4(r.href)||(r=Array.from(e.querySelectorAll('head > link[rel="icon"]')).find(n=>!!n.href)||null,r&&await m4(r.href))?r.href:null}const _te=async()=>({name:vte(window),icon:await xte(window)}),Ste=t=>{const e=[];return t.forEach(r=>{const[n]=r.split(":");e.includes(n)||e.push(n)}),e},Ete=t=>{switch(t){case Vt.EIP155:return Object.values(mte);case Vt.SOLANA:return Object.values(yte);default:throw new Error(`No default methods for namespace: ${t}`)}},Ate=t=>{switch(t){case Vt.EIP155:return Object.values(wte);case Vt.SOLANA:return Object.values(bte);default:throw new Error(`No default events for namespace: ${t}`)}},Ite=t=>{const e=Ste(t);return Object.fromEntries(e.map(r=>[r,{methods:Ete(r),chains:t.filter(n=>n.startsWith(r)),events:Ate(r)}]))},kte=async(t,e,r)=>{if(t===Vt.EIP155||t===Vt.SOLANA){const n=await _te(),i={walletConnectInitOptions:{projectId:r,relayUrl:"wss://relay.walletconnect.com",metadata:{name:n.name,description:n.name,url:window.location.origin,icons:[n.icon||""]}}},s=e.map(a=>`${t}:${t===Vt.SOLANA?k2[a]:parseInt(a,16)}`),o={optionalNamespaces:Ite(s)};return{adapterSettings:i,loginSettings:o}}throw new Error(`Unsupported chain namespace: ${t}`)};var ft={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var C2=function(t,e){return C2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},C2(t,e)};function Cte(t,e){C2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var R2=function(){return R2=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},R2.apply(this,arguments)};function Rte(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Pte(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Tte(t,e){return function(r,n){e(r,n,t)}}function Nte(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Mte(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function Ote(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Lte(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Dte(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function P2(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function WP(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Bte(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(WP(arguments[e]));return t}function $te(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function fp(t){return this instanceof fp?(this.v=t,this):new fp(t)}function Ute(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(g){return new Promise(function(y,v){s.push([h,g,y,v])>1||a(h,g)})})}function a(h,g){try{c(n[h](g))}catch(y){f(s[0][3],y)}}function c(h){h.value instanceof fp?Promise.resolve(h.value.v).then(l,u):f(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function f(h,g){h(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Fte(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:fp(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function jte(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof P2=="function"?P2(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function zte(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function qte(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Kte(t){return t&&t.__esModule?t:{default:t}}function Wte(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Hte(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const Vte=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return R2},__asyncDelegator:Fte,__asyncGenerator:Ute,__asyncValues:jte,__await:fp,__awaiter:Mte,__classPrivateFieldGet:Wte,__classPrivateFieldSet:Hte,__createBinding:Lte,__decorate:Pte,__exportStar:Dte,__extends:Cte,__generator:Ote,__importDefault:Kte,__importStar:qte,__makeTemplateObject:zte,__metadata:Nte,__param:Tte,__read:WP,__rest:Rte,__spread:Bte,__spreadArrays:$te,__values:P2},Symbol.toStringTag,{value:"Module"})),ly=wp(Vte);var fb={},Wd={},y4;function Gte(){if(y4)return Wd;y4=1,Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return Wd.delay=t,Wd}var yl={},db={},wl={},w4;function Yte(){return w4||(w4=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.ONE_THOUSAND=wl.ONE_HUNDRED=void 0,wl.ONE_HUNDRED=100,wl.ONE_THOUSAND=1e3),wl}var hb={},b4;function Jte(){return b4||(b4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(hb)),hb}var v4;function HP(){return v4||(v4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ly;e.__exportStar(Yte(),t),e.__exportStar(Jte(),t)}(db)),db}var x4;function Xte(){if(x4)return yl;x4=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.fromMiliseconds=yl.toMiliseconds=void 0;const t=HP();function e(n){return n*t.ONE_THOUSAND}yl.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return yl.fromMiliseconds=r,yl}var _4;function Zte(){return _4||(_4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ly;e.__exportStar(Gte(),t),e.__exportStar(Xte(),t)}(fb)),fb}var Bu={},S4;function Qte(){if(S4)return Bu;S4=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Bu.Watch=t,Bu.default=t,Bu}var pb={},Hd={},E4;function ere(){if(E4)return Hd;E4=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.IWatch=void 0;class t{}return Hd.IWatch=t,Hd}var A4;function tre(){return A4||(A4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),ly.__exportStar(ere(),t)}(pb)),pb}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ly;e.__exportStar(Zte(),t),e.__exportStar(Qte(),t),e.__exportStar(tre(),t),e.__exportStar(HP(),t)})(ft);class Iu{}let rre=class extends Iu{constructor(e){super()}};const I4=ft.FIVE_SECONDS,wd={pulse:"heartbeat_pulse"};let nre=class VP extends rre{constructor(e){super(e),this.events=new hi.EventEmitter,this.interval=I4,this.interval=(e==null?void 0:e.interval)||I4}static async init(e){const r=new VP(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ft.toMiliseconds(this.interval))}pulse(){this.events.emit(wd.pulse)}};const ire=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,sre=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ore=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function are(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){cre(t);return}return e}function cre(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function z0(t,e={}){if(typeof t!="string")return t;const r=t.trim();if(t[0]==='"'&&t.endsWith('"')&&!t.includes("\\"))return r.slice(1,-1);if(r.length<=9){const n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!ore.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(ire.test(t)||sre.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,are)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function lre(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function zn(t,...e){try{return lre(t(...e))}catch(r){return Promise.reject(r)}}function ure(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function fre(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function xg(t){if(ure(t))return String(t);if(fre(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return xg(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function GP(){if(typeof Buffer>"u")throw new TypeError("[unstorage] Buffer is not supported!")}const T2="base64:";function dre(t){if(typeof t=="string")return t;GP();const e=Buffer.from(t).toString("base64");return T2+e}function hre(t){return typeof t!="string"||!t.startsWith(T2)?t:(GP(),Buffer.from(t.slice(T2.length),"base64"))}function Wi(t){return t?t.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function pre(...t){return Wi(t.join(":"))}function q0(t){return t=Wi(t),t?t+":":""}const gre="memory",mre=()=>{const t=new Map;return{name:gre,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function yre(t={}){const e={mounts:{"":t.driver||mre()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,u)=>e.mountpoints.filter(f=>f.startsWith(l)||u&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),i=(l,u)=>{if(e.watching){u=Wi(u);for(const f of e.watchListeners)f(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await k4(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,f)=>{const h=new Map,g=y=>{let v=h.get(y.base);return v||(v={driver:y.driver,base:y.base,items:[]},h.set(y.base,v)),v};for(const y of l){const v=typeof y=="string",T=Wi(v?y:y.key),k=v?void 0:y.value,C=v||!y.options?u:{...u,...y.options},I=r(T);g(I).items.push({key:T,value:k,relativeKey:I.relativeKey,options:C})}return Promise.all([...h.values()].map(y=>f(y))).then(y=>y.flat())},c={hasItem(l,u={}){l=Wi(l);const{relativeKey:f,driver:h}=r(l);return zn(h.hasItem,f,u)},getItem(l,u={}){l=Wi(l);const{relativeKey:f,driver:h}=r(l);return zn(h.getItem,f,u).then(g=>z0(g))},getItems(l,u){return a(l,u,f=>f.driver.getItems?zn(f.driver.getItems,f.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(g=>({key:pre(f.base,g.key),value:z0(g.value)}))):Promise.all(f.items.map(h=>zn(f.driver.getItem,h.relativeKey,h.options).then(g=>({key:h.key,value:z0(g)})))))},getItemRaw(l,u={}){l=Wi(l);const{relativeKey:f,driver:h}=r(l);return h.getItemRaw?zn(h.getItemRaw,f,u):zn(h.getItem,f,u).then(g=>hre(g))},async setItem(l,u,f={}){if(u===void 0)return c.removeItem(l);l=Wi(l);const{relativeKey:h,driver:g}=r(l);g.setItem&&(await zn(g.setItem,h,xg(u),f),g.watch||i("update",l))},async setItems(l,u){await a(l,u,async f=>{if(f.driver.setItems)return zn(f.driver.setItems,f.items.map(h=>({key:h.relativeKey,value:xg(h.value),options:h.options})),u);f.driver.setItem&&await Promise.all(f.items.map(h=>zn(f.driver.setItem,h.relativeKey,xg(h.value),h.options)))})},async setItemRaw(l,u,f={}){if(u===void 0)return c.removeItem(l,f);l=Wi(l);const{relativeKey:h,driver:g}=r(l);if(g.setItemRaw)await zn(g.setItemRaw,h,u,f);else if(g.setItem)await zn(g.setItem,h,dre(u),f);else return;g.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=Wi(l);const{relativeKey:f,driver:h}=r(l);h.removeItem&&(await zn(h.removeItem,f,u),(u.removeMeta||u.removeMata)&&await zn(h.removeItem,f+"$",u),h.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=Wi(l);const{relativeKey:f,driver:h}=r(l),g=Object.create(null);if(h.getMeta&&Object.assign(g,await zn(h.getMeta,f,u)),!u.nativeOnly){const y=await zn(h.getItem,f+"$",u).then(v=>z0(v));y&&typeof y=="object"&&(typeof y.atime=="string"&&(y.atime=new Date(y.atime)),typeof y.mtime=="string"&&(y.mtime=new Date(y.mtime)),Object.assign(g,y))}return g},setMeta(l,u,f={}){return this.setItem(l+"$",u,f)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=q0(l);const f=n(l,!0);let h=[];const g=[];for(const y of f){const v=await zn(y.driver.getKeys,y.relativeBase,u);for(const T of v){const k=y.mountpoint+Wi(T);h.some(C=>k.startsWith(C))||g.push(k)}h=[y.mountpoint,...h.filter(T=>!T.startsWith(y.mountpoint))]}return l?g.filter(y=>y.startsWith(l)&&y[y.length-1]!=="$"):g.filter(y=>y[y.length-1]!=="$")},async clear(l,u={}){l=q0(l),await Promise.all(n(l,!1).map(async f=>{if(f.driver.clear)return zn(f.driver.clear,f.relativeBase,u);if(f.driver.removeItem){const h=await f.driver.getKeys(f.relativeBase||"",u);return Promise.all(h.map(g=>f.driver.removeItem(g,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>C4(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=q0(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((f,h)=>h.length-f.length)),e.mounts[l]=u,e.watching&&Promise.resolve(k4(u,i,l)).then(f=>{e.unwatch[l]=f}).catch(console.error),c},async unmount(l,u=!0){l=q0(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l](),delete e.unwatch[l]),u&&await C4(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=Wi(l)+":";const u=r(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=Wi(l),n(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,f={})=>c.setItem(l,u,f),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function k4(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function C4(t){typeof t.dispose=="function"&&await zn(t.dispose)}function ku(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function YP(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=ku(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let gb;function zp(){return gb||(gb=YP("keyval-store","keyval")),gb}function R4(t,e=zp()){return e("readonly",r=>ku(r.get(t)))}function wre(t,e,r=zp()){return r("readwrite",n=>(n.put(e,t),ku(n.transaction)))}function bre(t,e=zp()){return e("readwrite",r=>(r.delete(t),ku(r.transaction)))}function vre(t=zp()){return t("readwrite",e=>(e.clear(),ku(e.transaction)))}function xre(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},ku(t.transaction)}function _re(t=zp()){return t("readonly",e=>{if(e.getAllKeys)return ku(e.getAllKeys());const r=[];return xre(e,n=>r.push(n.key)).then(()=>r)})}const Sre=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),Ere=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Vf(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Ere(t)}catch{return t}}function du(t){return typeof t=="string"?t:Sre(t)||""}const Are="idb-keyval";var Ire=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=YP(t.dbName,t.storeName)),{name:Are,options:t,async hasItem(i){return!(typeof await R4(r(i),n)>"u")},async getItem(i){return await R4(r(i),n)??null},setItem(i,s){return wre(r(i),s,n)},removeItem(i){return bre(r(i),n)},getKeys(){return _re(n)},clear(){return vre(n)}}};const kre="WALLET_CONNECT_V2_INDEXED_DB",Cre="keyvaluestorage";let Rre=class{constructor(){this.indexedDb=yre({driver:Ire({dbName:kre,storeName:Cre})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,du(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},_g={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof mb<"u"&&mb.localStorage?_g.exports=mb.localStorage:typeof window<"u"&&window.localStorage?_g.exports=window.localStorage:_g.exports=new e})();function Pre(t){var e;return[t[0],Vf((e=t[1])!=null?e:"")]}let Tre=class{constructor(){this.localStorage=_g.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Pre)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Vf(r)}async setItem(e,r){this.localStorage.setItem(e,du(r))}async removeItem(e){this.localStorage.removeItem(e)}};const Nre="wc_storage_version",P4=1,Mre=async(t,e,r)=>{const n=Nre,i=await e.getItem(n);if(i&&i>=P4){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,P4),r(e),Ore(t,o)},Ore=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let Lre=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new Tre;this.storage=e;try{const r=new Rre;Mre(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};function Dre(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var Bre=$re;function $re(t,e,r){var n=r&&r.stringify||Dre,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-i,f=-1,h=t&&t.length||0,g=0;g<h;){if(t.charCodeAt(g)===37&&g+1<h){switch(f=f>-1?f:0,t.charCodeAt(g+1)){case 100:case 102:if(u>=c||e[u]==null)break;f<g&&(l+=t.slice(f,g)),l+=Number(e[u]),f=g+2,g++;break;case 105:if(u>=c||e[u]==null)break;f<g&&(l+=t.slice(f,g)),l+=Math.floor(Number(e[u])),f=g+2,g++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;f<g&&(l+=t.slice(f,g));var y=typeof e[u];if(y==="string"){l+="'"+e[u]+"'",f=g+2,g++;break}if(y==="function"){l+=e[u].name||"<anonymous>",f=g+2,g++;break}l+=n(e[u]),f=g+2,g++;break;case 115:if(u>=c)break;f<g&&(l+=t.slice(f,g)),l+=String(e[u]),f=g+2,g++;break;case 37:f<g&&(l+=t.slice(f,g)),l+="%",f=g+2,g++,u--;break}++u}++g}return f===-1?t:(f<h&&(l+=t.slice(f)),l)}const T4=Bre;var Hu=sa;const dp=Gre().console||{},Ure={mapHttpRequest:K0,mapHttpResponse:K0,wrapRequestSerializer:yb,wrapResponseSerializer:yb,wrapErrorSerializer:yb,req:K0,res:K0,err:Kre};function Fre(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function sa(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||dp;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},i=Fre(t.browser.serialize,n);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(r);c.log||(c.log=hp),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:f,set:h});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:Wre(t)};c.levels=sa.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=hp,c.serializers=n,c._serialize=i,c._stdErrSerialize=s,c.child=g,e&&(c._logEvent=N2());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function f(){return this._level}function h(y){if(y!=="silent"&&!this.levels.values[y])throw Error("unknown level "+y);this._level=y,$u(l,c,"error","log"),$u(l,c,"fatal","error"),$u(l,c,"warn","error"),$u(l,c,"info","log"),$u(l,c,"debug","log"),$u(l,c,"trace","log")}function g(y,v){if(!y)throw new Error("missing bindings for child Pino");v=v||{},i&&y.serializers&&(v.serializers=y.serializers);const T=v.serializers;if(i&&T){var k=Object.assign({},n,T),C=t.browser.serialize===!0?Object.keys(k):i;delete y.serializers,uy([y],C,k,this._stdErrSerialize)}function I(D){this._childLevel=(D._childLevel|0)+1,this.error=Uu(D,y,"error"),this.fatal=Uu(D,y,"fatal"),this.warn=Uu(D,y,"warn"),this.info=Uu(D,y,"info"),this.debug=Uu(D,y,"debug"),this.trace=Uu(D,y,"trace"),k&&(this.serializers=k,this._serialize=C),e&&(this._logEvent=N2([].concat(D._logEvent.bindings,y)))}return I.prototype=this,new I(this)}return c}sa.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};sa.stdSerializers=Ure;sa.stdTimeFunctions=Object.assign({},{nullTime:JP,epochTime:XP,unixTime:Hre,isoTime:Vre});function $u(t,e,r,n){const i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?hp:i[r]?i[r]:dp[r]||dp[n]||hp,jre(t,e,r)}function jre(t,e,r){!t.transmit&&e[r]===hp||(e[r]=function(n){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===dp?dp:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&uy(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(a,zre(this,r,o,s)):n.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=sa.levels.values[l],f=sa.levels.values[r];if(f<u)return;qre(this,{ts:s,methodLevel:r,methodValue:f,transmitLevel:l,transmitValue:sa.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function zre(t,e,r,n){t._serialize&&uy(r,t._serialize,t.serializers,t._stdErrSerialize);const i=r.slice();let s=i[0];const o={};n&&(o.time=n),o.level=sa.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?T4(i.shift(),i):void 0}else typeof s=="string"&&(s=T4(i.shift(),i));return s!==void 0&&(o.msg=s),o}function uy(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=sa.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function Uu(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function qre(t,e,r){const n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;uy(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=N2(c)}function N2(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Kre(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function Wre(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?JP:XP}function K0(){return{}}function yb(t){return t}function hp(){}function JP(){return!1}function XP(){return Date.now()}function Hre(){return Math.round(Date.now()/1e3)}function Vre(){return new Date(Date.now()).toISOString()}function Gre(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const fy=An(Hu),Yre={level:"info"},qp="custom_context",b_=1e3*1024;let Jre=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},N4=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new Jre(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},ZP=class{constructor(e,r=b_){this.level=e??"error",this.levelValue=Hu.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new N4(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Hu.levels.values.error?console.error(e):r===Hu.levels.values.warn?console.warn(e):r===Hu.levels.values.debug?console.debug(e):r===Hu.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(du({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new N4(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(du({extraMetadata:e})),new Blob(r,{type:"application/json"})}};class Xre{constructor(e,r=b_){this.baseChunkLogger=new ZP(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}}let Zre=class{constructor(e,r=b_){this.baseChunkLogger=new ZP(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Qre=Object.defineProperty,ene=Object.defineProperties,tne=Object.getOwnPropertyDescriptors,M4=Object.getOwnPropertySymbols,rne=Object.prototype.hasOwnProperty,nne=Object.prototype.propertyIsEnumerable,O4=(t,e,r)=>e in t?Qre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,P1=(t,e)=>{for(var r in e||(e={}))rne.call(e,r)&&O4(t,r,e[r]);if(M4)for(var r of M4(e))nne.call(e,r)&&O4(t,r,e[r]);return t},T1=(t,e)=>ene(t,tne(e));function v_(t){return T1(P1({},t),{level:(t==null?void 0:t.level)||Yre.level})}function ine(t,e=qp){return t[e]||""}function sne(t,e,r=qp){return t[r]=e,t}function cs(t,e=qp){let r="";return typeof t.bindings>"u"?r=ine(t,e):r=t.bindings().context||"",r}function one(t,e,r=qp){const n=cs(t,r);return n.trim()?`${n}/${e}`:e}function Ki(t,e,r=qp){const n=one(t,e,r),i=t.child({context:n});return sne(i,n,r)}function ane(t){var e,r;const n=new Xre((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:fy(T1(P1({},t.opts),{level:"trace",browser:T1(P1({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function cne(t){var e;const r=new Zre((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:fy(T1(P1({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function lne(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?ane(t):cne(t)}let une=class extends Iu{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},fne=class extends Iu{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}},dne=class{constructor(e,r){this.logger=e,this.core=r}},hne=class extends Iu{constructor(e,r){super(),this.relayer=e,this.logger=r}};class pne extends Iu{constructor(e){super()}}class gne{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}}class mne extends Iu{constructor(e,r){super(),this.relayer=e,this.logger=r}}let yne=class extends Iu{constructor(e,r){super(),this.core=e,this.logger=r}},wne=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},bne=class{constructor(e,r){this.projectId=e,this.logger=r}},vne=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}},xne=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},_ne=class{constructor(e){this.client=e}};var x_={},ll={},dy={},hy={};Object.defineProperty(hy,"__esModule",{value:!0});hy.BrowserRandomSource=void 0;const L4=65536;class Sne{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(e);for(let n=0;n<r.length;n+=L4)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,L4)));return r}}hy.BrowserRandomSource=Sne;var py={},Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});function Ene(t){for(var e=0;e<t.length;e++)t[e]=0;return t}Cs.wipe=Ene;Object.defineProperty(py,"__esModule",{value:!0});py.NodeRandomSource=void 0;const Ane=Cs;class Ine{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof I9<"u"){const e=tx();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,Ane.wipe)(r),n}}py.NodeRandomSource=Ine;Object.defineProperty(dy,"__esModule",{value:!0});dy.SystemRandomSource=void 0;const kne=hy,Cne=py;class Rne{constructor(){if(this.isAvailable=!1,this.name="",this._source=new kne.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Cne.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}dy.SystemRandomSource=Rne;var rr={},QP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(a,c){var l=a>>>16&65535,u=a&65535,f=c>>>16&65535,h=c&65535;return u*h+(l*h+u*f<<16>>>0)|0}t.mul=Math.imul||e;function r(a,c){return a+c|0}t.add=r;function n(a,c){return a-c|0}t.sub=n;function i(a,c){return a<<c|a>>>32-c}t.rotl=i;function s(a,c){return a<<32-c|a>>>c}t.rotr=s;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}t.isInteger=Number.isInteger||o,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(a){return t.isInteger(a)&&a>=-t.MAX_SAFE_INTEGER&&a<=t.MAX_SAFE_INTEGER}})(QP);Object.defineProperty(rr,"__esModule",{value:!0});var eT=QP;function Pne(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}rr.readInt16BE=Pne;function Tne(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}rr.readUint16BE=Tne;function Nne(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}rr.readInt16LE=Nne;function Mne(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}rr.readUint16LE=Mne;function tT(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}rr.writeUint16BE=tT;rr.writeInt16BE=tT;function rT(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}rr.writeUint16LE=rT;rr.writeInt16LE=rT;function M2(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}rr.readInt32BE=M2;function O2(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}rr.readUint32BE=O2;function L2(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}rr.readInt32LE=L2;function D2(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}rr.readUint32LE=D2;function N1(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}rr.writeUint32BE=N1;rr.writeInt32BE=N1;function M1(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}rr.writeUint32LE=M1;rr.writeInt32LE=M1;function One(t,e){e===void 0&&(e=0);var r=M2(t,e),n=M2(t,e+4);return r*4294967296+n-(n>>31)*4294967296}rr.readInt64BE=One;function Lne(t,e){e===void 0&&(e=0);var r=O2(t,e),n=O2(t,e+4);return r*4294967296+n}rr.readUint64BE=Lne;function Dne(t,e){e===void 0&&(e=0);var r=L2(t,e),n=L2(t,e+4);return n*4294967296+r-(r>>31)*4294967296}rr.readInt64LE=Dne;function Bne(t,e){e===void 0&&(e=0);var r=D2(t,e),n=D2(t,e+4);return n*4294967296+r}rr.readUint64LE=Bne;function nT(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),N1(t/4294967296>>>0,e,r),N1(t>>>0,e,r+4),e}rr.writeUint64BE=nT;rr.writeInt64BE=nT;function iT(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),M1(t>>>0,e,r),M1(t/4294967296>>>0,e,r+4),e}rr.writeUint64LE=iT;rr.writeInt64LE=iT;function $ne(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n}rr.readUintBE=$ne;function Une(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n}rr.readUintLE=Une;function Fne(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!eT.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+n-1;s>=n;s--)r[s]=e/i&255,i*=256;return r}rr.writeUintBE=Fne;function jne(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!eT.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+t/8;s++)r[s]=e/i&255,i*=256;return r}rr.writeUintLE=jne;function zne(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}rr.readFloat32BE=zne;function qne(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}rr.readFloat32LE=qne;function Kne(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}rr.readFloat64BE=Kne;function Wne(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}rr.readFloat64LE=Wne;function Hne(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}rr.writeFloat32BE=Hne;function Vne(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}rr.writeFloat32LE=Vne;function Gne(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}rr.writeFloat64BE=Gne;function Yne(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}rr.writeFloat64LE=Yne;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=dy,r=rr,n=Cs;t.defaultRandomSource=new e.SystemRandomSource;function i(l,u=t.defaultRandomSource){return u.randomBytes(l)}t.randomBytes=i;function s(l=t.defaultRandomSource){const u=i(4,l),f=(0,r.readUint32LE)(u);return(0,n.wipe)(u),f}t.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(l,u=o,f=t.defaultRandomSource){if(u.length<2)throw new Error("randomString charset is too short");if(u.length>256)throw new Error("randomString charset is too long");let h="";const g=u.length,y=256-256%g;for(;l>0;){const v=i(Math.ceil(l*256/y),f);for(let T=0;T<v.length&&l>0;T++){const k=v[T];k<y&&(h+=u.charAt(k%g),l--)}(0,n.wipe)(v)}return h}t.randomString=a;function c(l,u=o,f=t.defaultRandomSource){const h=Math.ceil(l/(Math.log(u.length)/Math.LN2));return a(h,u,f)}t.randomStringForEntropy=c})(ll);var sT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=rr,r=Cs;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var n=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},a.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var u=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&l>0;)this._buffer[this._bufferLength++]=c[u++],l--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(u=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,c,u,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[u++],l--;return this},a.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,u=this._bufferLength,f=l/536870912|0,h=l<<3,g=l%128<112?128:256;this._buffer[u]=128;for(var y=u+1;y<g-8;y++)this._buffer[y]=0;e.writeUint32BE(f,this._buffer,g-8),e.writeUint32BE(h,this._buffer,g-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,g),this._finished=!0}for(var y=0;y<this.digestLength/8;y++)e.writeUint32BE(this._stateHi[y],c,y*8),e.writeUint32BE(this._stateLo[y],c,y*8+4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._stateHi.set(c.stateHi),this._stateLo.set(c.stateLo),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){r.wipe(c.stateHi),r.wipe(c.stateLo),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();t.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(a,c,l,u,f,h,g){for(var y=l[0],v=l[1],T=l[2],k=l[3],C=l[4],I=l[5],D=l[6],O=l[7],F=u[0],x=u[1],L=u[2],J=u[3],ne=u[4],j=u[5],w=u[6],m=u[7],d,p,_,N,E,S,b,R;g>=128;){for(var P=0;P<16;P++){var q=8*P+h;a[P]=e.readUint32BE(f,q),c[P]=e.readUint32BE(f,q+4)}for(var P=0;P<80;P++){var ue=y,$=v,oe=T,ee=k,H=C,K=I,A=D,V=O,se=F,X=x,re=L,ce=J,be=ne,Ee=j,Ae=w,Ve=m;if(d=O,p=m,E=p&65535,S=p>>>16,b=d&65535,R=d>>>16,d=(C>>>14|ne<<18)^(C>>>18|ne<<14)^(ne>>>9|C<<23),p=(ne>>>14|C<<18)^(ne>>>18|C<<14)^(C>>>9|ne<<23),E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,d=C&I^~C&D,p=ne&j^~ne&w,E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,d=i[P*2],p=i[P*2+1],E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,d=a[P%16],p=c[P%16],E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,S+=E>>>16,b+=S>>>16,R+=b>>>16,_=b&65535|R<<16,N=E&65535|S<<16,d=_,p=N,E=p&65535,S=p>>>16,b=d&65535,R=d>>>16,d=(y>>>28|F<<4)^(F>>>2|y<<30)^(F>>>7|y<<25),p=(F>>>28|y<<4)^(y>>>2|F<<30)^(y>>>7|F<<25),E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,d=y&v^y&T^v&T,p=F&x^F&L^x&L,E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,S+=E>>>16,b+=S>>>16,R+=b>>>16,V=b&65535|R<<16,Ve=E&65535|S<<16,d=ee,p=ce,E=p&65535,S=p>>>16,b=d&65535,R=d>>>16,d=_,p=N,E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,S+=E>>>16,b+=S>>>16,R+=b>>>16,ee=b&65535|R<<16,ce=E&65535|S<<16,v=ue,T=$,k=oe,C=ee,I=H,D=K,O=A,y=V,x=se,L=X,J=re,ne=ce,j=be,w=Ee,m=Ae,F=Ve,P%16===15)for(var q=0;q<16;q++)d=a[q],p=c[q],E=p&65535,S=p>>>16,b=d&65535,R=d>>>16,d=a[(q+9)%16],p=c[(q+9)%16],E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,_=a[(q+1)%16],N=c[(q+1)%16],d=(_>>>1|N<<31)^(_>>>8|N<<24)^_>>>7,p=(N>>>1|_<<31)^(N>>>8|_<<24)^(N>>>7|_<<25),E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,_=a[(q+14)%16],N=c[(q+14)%16],d=(_>>>19|N<<13)^(N>>>29|_<<3)^_>>>6,p=(N>>>19|_<<13)^(_>>>29|N<<3)^(N>>>6|_<<26),E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,S+=E>>>16,b+=S>>>16,R+=b>>>16,a[q]=b&65535|R<<16,c[q]=E&65535|S<<16}d=y,p=F,E=p&65535,S=p>>>16,b=d&65535,R=d>>>16,d=l[0],p=u[0],E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,S+=E>>>16,b+=S>>>16,R+=b>>>16,l[0]=y=b&65535|R<<16,u[0]=F=E&65535|S<<16,d=v,p=x,E=p&65535,S=p>>>16,b=d&65535,R=d>>>16,d=l[1],p=u[1],E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,S+=E>>>16,b+=S>>>16,R+=b>>>16,l[1]=v=b&65535|R<<16,u[1]=x=E&65535|S<<16,d=T,p=L,E=p&65535,S=p>>>16,b=d&65535,R=d>>>16,d=l[2],p=u[2],E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,S+=E>>>16,b+=S>>>16,R+=b>>>16,l[2]=T=b&65535|R<<16,u[2]=L=E&65535|S<<16,d=k,p=J,E=p&65535,S=p>>>16,b=d&65535,R=d>>>16,d=l[3],p=u[3],E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,S+=E>>>16,b+=S>>>16,R+=b>>>16,l[3]=k=b&65535|R<<16,u[3]=J=E&65535|S<<16,d=C,p=ne,E=p&65535,S=p>>>16,b=d&65535,R=d>>>16,d=l[4],p=u[4],E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,S+=E>>>16,b+=S>>>16,R+=b>>>16,l[4]=C=b&65535|R<<16,u[4]=ne=E&65535|S<<16,d=I,p=j,E=p&65535,S=p>>>16,b=d&65535,R=d>>>16,d=l[5],p=u[5],E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,S+=E>>>16,b+=S>>>16,R+=b>>>16,l[5]=I=b&65535|R<<16,u[5]=j=E&65535|S<<16,d=D,p=w,E=p&65535,S=p>>>16,b=d&65535,R=d>>>16,d=l[6],p=u[6],E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,S+=E>>>16,b+=S>>>16,R+=b>>>16,l[6]=D=b&65535|R<<16,u[6]=w=E&65535|S<<16,d=O,p=m,E=p&65535,S=p>>>16,b=d&65535,R=d>>>16,d=l[7],p=u[7],E+=p&65535,S+=p>>>16,b+=d&65535,R+=d>>>16,S+=E>>>16,b+=S>>>16,R+=b>>>16,l[7]=O=b&65535|R<<16,u[7]=m=E&65535|S<<16,h+=128,g-=128}return h}function o(a){var c=new n;c.update(a);var l=c.digest();return c.clean(),l}t.hash=o})(sT);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const e=ll,r=sT,n=Cs;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function i(ee){const H=new Float64Array(16);if(ee)for(let K=0;K<ee.length;K++)H[K]=ee[K];return H}const s=new Uint8Array(32);s[0]=9;const o=i(),a=i([1]),c=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(ee,H){for(let K=0;K<16;K++)ee[K]=H[K]|0}function y(ee){let H=1;for(let K=0;K<16;K++){let A=ee[K]+H+65535;H=Math.floor(A/65536),ee[K]=A-H*65536}ee[0]+=H-1+37*(H-1)}function v(ee,H,K){const A=~(K-1);for(let V=0;V<16;V++){const se=A&(ee[V]^H[V]);ee[V]^=se,H[V]^=se}}function T(ee,H){const K=i(),A=i();for(let V=0;V<16;V++)A[V]=H[V];y(A),y(A),y(A);for(let V=0;V<2;V++){K[0]=A[0]-65517;for(let X=1;X<15;X++)K[X]=A[X]-65535-(K[X-1]>>16&1),K[X-1]&=65535;K[15]=A[15]-32767-(K[14]>>16&1);const se=K[15]>>16&1;K[14]&=65535,v(A,K,1-se)}for(let V=0;V<16;V++)ee[2*V]=A[V]&255,ee[2*V+1]=A[V]>>8}function k(ee,H){let K=0;for(let A=0;A<32;A++)K|=ee[A]^H[A];return(1&K-1>>>8)-1}function C(ee,H){const K=new Uint8Array(32),A=new Uint8Array(32);return T(K,ee),T(A,H),k(K,A)}function I(ee){const H=new Uint8Array(32);return T(H,ee),H[0]&1}function D(ee,H){for(let K=0;K<16;K++)ee[K]=H[2*K]+(H[2*K+1]<<8);ee[15]&=32767}function O(ee,H,K){for(let A=0;A<16;A++)ee[A]=H[A]+K[A]}function F(ee,H,K){for(let A=0;A<16;A++)ee[A]=H[A]-K[A]}function x(ee,H,K){let A,V,se=0,X=0,re=0,ce=0,be=0,Ee=0,Ae=0,Ve=0,De=0,qe=0,Te=0,et=0,We=0,Ze=0,ot=0,W=0,B=0,U=0,Q=0,le=0,he=0,ge=0,je=0,Je=0,Qe=0,bt=0,gt=0,vt=0,er=0,sr=0,Lt=0,jt=K[0],Et=K[1],lt=K[2],Ot=K[3],te=K[4],ie=K[5],Ce=K[6],Ne=K[7],ke=K[8],xt=K[9],z=K[10],G=K[11],Y=K[12],M=K[13],Z=K[14],de=K[15];A=H[0],se+=A*jt,X+=A*Et,re+=A*lt,ce+=A*Ot,be+=A*te,Ee+=A*ie,Ae+=A*Ce,Ve+=A*Ne,De+=A*ke,qe+=A*xt,Te+=A*z,et+=A*G,We+=A*Y,Ze+=A*M,ot+=A*Z,W+=A*de,A=H[1],X+=A*jt,re+=A*Et,ce+=A*lt,be+=A*Ot,Ee+=A*te,Ae+=A*ie,Ve+=A*Ce,De+=A*Ne,qe+=A*ke,Te+=A*xt,et+=A*z,We+=A*G,Ze+=A*Y,ot+=A*M,W+=A*Z,B+=A*de,A=H[2],re+=A*jt,ce+=A*Et,be+=A*lt,Ee+=A*Ot,Ae+=A*te,Ve+=A*ie,De+=A*Ce,qe+=A*Ne,Te+=A*ke,et+=A*xt,We+=A*z,Ze+=A*G,ot+=A*Y,W+=A*M,B+=A*Z,U+=A*de,A=H[3],ce+=A*jt,be+=A*Et,Ee+=A*lt,Ae+=A*Ot,Ve+=A*te,De+=A*ie,qe+=A*Ce,Te+=A*Ne,et+=A*ke,We+=A*xt,Ze+=A*z,ot+=A*G,W+=A*Y,B+=A*M,U+=A*Z,Q+=A*de,A=H[4],be+=A*jt,Ee+=A*Et,Ae+=A*lt,Ve+=A*Ot,De+=A*te,qe+=A*ie,Te+=A*Ce,et+=A*Ne,We+=A*ke,Ze+=A*xt,ot+=A*z,W+=A*G,B+=A*Y,U+=A*M,Q+=A*Z,le+=A*de,A=H[5],Ee+=A*jt,Ae+=A*Et,Ve+=A*lt,De+=A*Ot,qe+=A*te,Te+=A*ie,et+=A*Ce,We+=A*Ne,Ze+=A*ke,ot+=A*xt,W+=A*z,B+=A*G,U+=A*Y,Q+=A*M,le+=A*Z,he+=A*de,A=H[6],Ae+=A*jt,Ve+=A*Et,De+=A*lt,qe+=A*Ot,Te+=A*te,et+=A*ie,We+=A*Ce,Ze+=A*Ne,ot+=A*ke,W+=A*xt,B+=A*z,U+=A*G,Q+=A*Y,le+=A*M,he+=A*Z,ge+=A*de,A=H[7],Ve+=A*jt,De+=A*Et,qe+=A*lt,Te+=A*Ot,et+=A*te,We+=A*ie,Ze+=A*Ce,ot+=A*Ne,W+=A*ke,B+=A*xt,U+=A*z,Q+=A*G,le+=A*Y,he+=A*M,ge+=A*Z,je+=A*de,A=H[8],De+=A*jt,qe+=A*Et,Te+=A*lt,et+=A*Ot,We+=A*te,Ze+=A*ie,ot+=A*Ce,W+=A*Ne,B+=A*ke,U+=A*xt,Q+=A*z,le+=A*G,he+=A*Y,ge+=A*M,je+=A*Z,Je+=A*de,A=H[9],qe+=A*jt,Te+=A*Et,et+=A*lt,We+=A*Ot,Ze+=A*te,ot+=A*ie,W+=A*Ce,B+=A*Ne,U+=A*ke,Q+=A*xt,le+=A*z,he+=A*G,ge+=A*Y,je+=A*M,Je+=A*Z,Qe+=A*de,A=H[10],Te+=A*jt,et+=A*Et,We+=A*lt,Ze+=A*Ot,ot+=A*te,W+=A*ie,B+=A*Ce,U+=A*Ne,Q+=A*ke,le+=A*xt,he+=A*z,ge+=A*G,je+=A*Y,Je+=A*M,Qe+=A*Z,bt+=A*de,A=H[11],et+=A*jt,We+=A*Et,Ze+=A*lt,ot+=A*Ot,W+=A*te,B+=A*ie,U+=A*Ce,Q+=A*Ne,le+=A*ke,he+=A*xt,ge+=A*z,je+=A*G,Je+=A*Y,Qe+=A*M,bt+=A*Z,gt+=A*de,A=H[12],We+=A*jt,Ze+=A*Et,ot+=A*lt,W+=A*Ot,B+=A*te,U+=A*ie,Q+=A*Ce,le+=A*Ne,he+=A*ke,ge+=A*xt,je+=A*z,Je+=A*G,Qe+=A*Y,bt+=A*M,gt+=A*Z,vt+=A*de,A=H[13],Ze+=A*jt,ot+=A*Et,W+=A*lt,B+=A*Ot,U+=A*te,Q+=A*ie,le+=A*Ce,he+=A*Ne,ge+=A*ke,je+=A*xt,Je+=A*z,Qe+=A*G,bt+=A*Y,gt+=A*M,vt+=A*Z,er+=A*de,A=H[14],ot+=A*jt,W+=A*Et,B+=A*lt,U+=A*Ot,Q+=A*te,le+=A*ie,he+=A*Ce,ge+=A*Ne,je+=A*ke,Je+=A*xt,Qe+=A*z,bt+=A*G,gt+=A*Y,vt+=A*M,er+=A*Z,sr+=A*de,A=H[15],W+=A*jt,B+=A*Et,U+=A*lt,Q+=A*Ot,le+=A*te,he+=A*ie,ge+=A*Ce,je+=A*Ne,Je+=A*ke,Qe+=A*xt,bt+=A*z,gt+=A*G,vt+=A*Y,er+=A*M,sr+=A*Z,Lt+=A*de,se+=38*B,X+=38*U,re+=38*Q,ce+=38*le,be+=38*he,Ee+=38*ge,Ae+=38*je,Ve+=38*Je,De+=38*Qe,qe+=38*bt,Te+=38*gt,et+=38*vt,We+=38*er,Ze+=38*sr,ot+=38*Lt,V=1,A=se+V+65535,V=Math.floor(A/65536),se=A-V*65536,A=X+V+65535,V=Math.floor(A/65536),X=A-V*65536,A=re+V+65535,V=Math.floor(A/65536),re=A-V*65536,A=ce+V+65535,V=Math.floor(A/65536),ce=A-V*65536,A=be+V+65535,V=Math.floor(A/65536),be=A-V*65536,A=Ee+V+65535,V=Math.floor(A/65536),Ee=A-V*65536,A=Ae+V+65535,V=Math.floor(A/65536),Ae=A-V*65536,A=Ve+V+65535,V=Math.floor(A/65536),Ve=A-V*65536,A=De+V+65535,V=Math.floor(A/65536),De=A-V*65536,A=qe+V+65535,V=Math.floor(A/65536),qe=A-V*65536,A=Te+V+65535,V=Math.floor(A/65536),Te=A-V*65536,A=et+V+65535,V=Math.floor(A/65536),et=A-V*65536,A=We+V+65535,V=Math.floor(A/65536),We=A-V*65536,A=Ze+V+65535,V=Math.floor(A/65536),Ze=A-V*65536,A=ot+V+65535,V=Math.floor(A/65536),ot=A-V*65536,A=W+V+65535,V=Math.floor(A/65536),W=A-V*65536,se+=V-1+37*(V-1),V=1,A=se+V+65535,V=Math.floor(A/65536),se=A-V*65536,A=X+V+65535,V=Math.floor(A/65536),X=A-V*65536,A=re+V+65535,V=Math.floor(A/65536),re=A-V*65536,A=ce+V+65535,V=Math.floor(A/65536),ce=A-V*65536,A=be+V+65535,V=Math.floor(A/65536),be=A-V*65536,A=Ee+V+65535,V=Math.floor(A/65536),Ee=A-V*65536,A=Ae+V+65535,V=Math.floor(A/65536),Ae=A-V*65536,A=Ve+V+65535,V=Math.floor(A/65536),Ve=A-V*65536,A=De+V+65535,V=Math.floor(A/65536),De=A-V*65536,A=qe+V+65535,V=Math.floor(A/65536),qe=A-V*65536,A=Te+V+65535,V=Math.floor(A/65536),Te=A-V*65536,A=et+V+65535,V=Math.floor(A/65536),et=A-V*65536,A=We+V+65535,V=Math.floor(A/65536),We=A-V*65536,A=Ze+V+65535,V=Math.floor(A/65536),Ze=A-V*65536,A=ot+V+65535,V=Math.floor(A/65536),ot=A-V*65536,A=W+V+65535,V=Math.floor(A/65536),W=A-V*65536,se+=V-1+37*(V-1),ee[0]=se,ee[1]=X,ee[2]=re,ee[3]=ce,ee[4]=be,ee[5]=Ee,ee[6]=Ae,ee[7]=Ve,ee[8]=De,ee[9]=qe,ee[10]=Te,ee[11]=et,ee[12]=We,ee[13]=Ze,ee[14]=ot,ee[15]=W}function L(ee,H){x(ee,H,H)}function J(ee,H){const K=i();let A;for(A=0;A<16;A++)K[A]=H[A];for(A=253;A>=0;A--)L(K,K),A!==2&&A!==4&&x(K,K,H);for(A=0;A<16;A++)ee[A]=K[A]}function ne(ee,H){const K=i();let A;for(A=0;A<16;A++)K[A]=H[A];for(A=250;A>=0;A--)L(K,K),A!==1&&x(K,K,H);for(A=0;A<16;A++)ee[A]=K[A]}function j(ee,H){const K=i(),A=i(),V=i(),se=i(),X=i(),re=i(),ce=i(),be=i(),Ee=i();F(K,ee[1],ee[0]),F(Ee,H[1],H[0]),x(K,K,Ee),O(A,ee[0],ee[1]),O(Ee,H[0],H[1]),x(A,A,Ee),x(V,ee[3],H[3]),x(V,V,l),x(se,ee[2],H[2]),O(se,se,se),F(X,A,K),F(re,se,V),O(ce,se,V),O(be,A,K),x(ee[0],X,re),x(ee[1],be,ce),x(ee[2],ce,re),x(ee[3],X,be)}function w(ee,H,K){for(let A=0;A<4;A++)v(ee[A],H[A],K)}function m(ee,H){const K=i(),A=i(),V=i();J(V,H[2]),x(K,H[0],V),x(A,H[1],V),T(ee,A),ee[31]^=I(K)<<7}function d(ee,H,K){g(ee[0],o),g(ee[1],a),g(ee[2],a),g(ee[3],o);for(let A=255;A>=0;--A){const V=K[A/8|0]>>(A&7)&1;w(ee,H,V),j(H,ee),j(ee,ee),w(ee,H,V)}}function p(ee,H){const K=[i(),i(),i(),i()];g(K[0],u),g(K[1],f),g(K[2],a),x(K[3],u,f),d(ee,K,H)}function _(ee){if(ee.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const H=(0,r.hash)(ee);H[0]&=248,H[31]&=127,H[31]|=64;const K=new Uint8Array(32),A=[i(),i(),i(),i()];p(A,H),m(K,A);const V=new Uint8Array(64);return V.set(ee),V.set(K,32),{publicKey:K,secretKey:V}}t.generateKeyPairFromSeed=_;function N(ee){const H=(0,e.randomBytes)(32,ee),K=_(H);return(0,n.wipe)(H),K}t.generateKeyPair=N;function E(ee){if(ee.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(ee.subarray(32))}t.extractPublicKeyFromSecretKey=E;const S=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function b(ee,H){let K,A,V,se;for(A=63;A>=32;--A){for(K=0,V=A-32,se=A-12;V<se;++V)H[V]+=K-16*H[A]*S[V-(A-32)],K=Math.floor((H[V]+128)/256),H[V]-=K*256;H[V]+=K,H[A]=0}for(K=0,V=0;V<32;V++)H[V]+=K-(H[31]>>4)*S[V],K=H[V]>>8,H[V]&=255;for(V=0;V<32;V++)H[V]-=K*S[V];for(A=0;A<32;A++)H[A+1]+=H[A]>>8,ee[A]=H[A]&255}function R(ee){const H=new Float64Array(64);for(let K=0;K<64;K++)H[K]=ee[K];for(let K=0;K<64;K++)ee[K]=0;b(ee,H)}function P(ee,H){const K=new Float64Array(64),A=[i(),i(),i(),i()],V=(0,r.hash)(ee.subarray(0,32));V[0]&=248,V[31]&=127,V[31]|=64;const se=new Uint8Array(64);se.set(V.subarray(32),32);const X=new r.SHA512;X.update(se.subarray(32)),X.update(H);const re=X.digest();X.clean(),R(re),p(A,re),m(se,A),X.reset(),X.update(se.subarray(0,32)),X.update(ee.subarray(32)),X.update(H);const ce=X.digest();R(ce);for(let be=0;be<32;be++)K[be]=re[be];for(let be=0;be<32;be++)for(let Ee=0;Ee<32;Ee++)K[be+Ee]+=ce[be]*V[Ee];return b(se.subarray(32),K),se}t.sign=P;function q(ee,H){const K=i(),A=i(),V=i(),se=i(),X=i(),re=i(),ce=i();return g(ee[2],a),D(ee[1],H),L(V,ee[1]),x(se,V,c),F(V,V,ee[2]),O(se,ee[2],se),L(X,se),L(re,X),x(ce,re,X),x(K,ce,V),x(K,K,se),ne(K,K),x(K,K,V),x(K,K,se),x(K,K,se),x(ee[0],K,se),L(A,ee[0]),x(A,A,se),C(A,V)&&x(ee[0],ee[0],h),L(A,ee[0]),x(A,A,se),C(A,V)?-1:(I(ee[0])===H[31]>>7&&F(ee[0],o,ee[0]),x(ee[3],ee[0],ee[1]),0)}function ue(ee,H,K){const A=new Uint8Array(32),V=[i(),i(),i(),i()],se=[i(),i(),i(),i()];if(K.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(q(se,ee))return!1;const X=new r.SHA512;X.update(K.subarray(0,32)),X.update(ee),X.update(H);const re=X.digest();return R(re),d(V,se,re),p(se,K.subarray(32)),j(V,se),m(A,V),!k(K,A)}t.verify=ue;function $(ee){let H=[i(),i(),i(),i()];if(q(H,ee))throw new Error("Ed25519: invalid public key");let K=i(),A=i(),V=H[1];O(K,a,V),F(A,a,V),J(A,A),x(K,K,A);let se=new Uint8Array(32);return T(se,K),se}t.convertPublicKeyToX25519=$;function oe(ee){const H=(0,r.hash)(ee.subarray(0,32));H[0]&=248,H[31]&=127,H[31]|=64;const K=new Uint8Array(H.subarray(0,32));return(0,n.wipe)(H),K}t.convertSecretKeyToX25519=oe})(x_);const Jne="EdDSA",Xne="JWT",O1=".",gy="base64url",oT="utf8",aT="utf8",Zne=":",Qne="did",eie="key",D4="base58btc",tie="z",rie="K36",nie=32;function cT(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Sg(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=cT(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function iie(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var v=0,T=0,k=0,C=y.length;k!==C&&y[k]===0;)k++,v++;for(var I=(C-k)*u+1>>>0,D=new Uint8Array(I);k!==C;){for(var O=y[k],F=0,x=I-1;(O!==0||F<T)&&x!==-1;x--,F++)O+=256*D[x]>>>0,D[x]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");T=F,k++}for(var L=I-T;L!==I&&D[L]===0;)L++;for(var J=c.repeat(v);L<I;++L)J+=t.charAt(D[L]);return J}function h(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var v=0;if(y[v]!==" "){for(var T=0,k=0;y[v]===c;)T++,v++;for(var C=(y.length-v)*l+1>>>0,I=new Uint8Array(C);y[v];){var D=r[y.charCodeAt(v)];if(D===255)return;for(var O=0,F=C-1;(D!==0||O<k)&&F!==-1;F--,O++)D+=a*I[F]>>>0,I[F]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");k=O,v++}if(y[v]!==" "){for(var x=C-k;x!==C&&I[x]===0;)x++;for(var L=new Uint8Array(T+(C-x)),J=T;x!==C;)L[J++]=I[x++];return L}}}function g(y){var v=h(y);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:g}}var sie=iie,oie=sie;const aie=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},cie=t=>new TextEncoder().encode(t),lie=t=>new TextDecoder().decode(t);class uie{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class fie{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return lT(this,e)}}class die{constructor(e){this.decoders=e}or(e){return lT(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const lT=(t,e)=>new die({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class hie{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new uie(e,r,n),this.decoder=new fie(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const my=({name:t,prefix:e,encode:r,decode:n})=>new hie(t,e,r,n),Kp=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=oie(r,e);return my({prefix:t,name:e,encode:n,decode:s=>aie(i(s))})},pie=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},gie=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},gi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>my({prefix:e,name:t,encode(i){return gie(i,n,r)},decode(i){return pie(i,n,r,t)}}),mie=my({prefix:"\0",name:"identity",encode:t=>lie(t),decode:t=>cie(t)}),yie=Object.freeze(Object.defineProperty({__proto__:null,identity:mie},Symbol.toStringTag,{value:"Module"})),wie=gi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),bie=Object.freeze(Object.defineProperty({__proto__:null,base2:wie},Symbol.toStringTag,{value:"Module"})),vie=gi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),xie=Object.freeze(Object.defineProperty({__proto__:null,base8:vie},Symbol.toStringTag,{value:"Module"})),_ie=Kp({prefix:"9",name:"base10",alphabet:"0123456789"}),Sie=Object.freeze(Object.defineProperty({__proto__:null,base10:_ie},Symbol.toStringTag,{value:"Module"})),Eie=gi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Aie=gi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Iie=Object.freeze(Object.defineProperty({__proto__:null,base16:Eie,base16upper:Aie},Symbol.toStringTag,{value:"Module"})),kie=gi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Cie=gi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Rie=gi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Pie=gi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Tie=gi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Nie=gi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Mie=gi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Oie=gi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Lie=gi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Die=Object.freeze(Object.defineProperty({__proto__:null,base32:kie,base32hex:Tie,base32hexpad:Mie,base32hexpadupper:Oie,base32hexupper:Nie,base32pad:Rie,base32padupper:Pie,base32upper:Cie,base32z:Lie},Symbol.toStringTag,{value:"Module"})),Bie=Kp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),$ie=Kp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Uie=Object.freeze(Object.defineProperty({__proto__:null,base36:Bie,base36upper:$ie},Symbol.toStringTag,{value:"Module"})),Fie=Kp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),jie=Kp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),zie=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Fie,base58flickr:jie},Symbol.toStringTag,{value:"Module"})),qie=gi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Kie=gi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Wie=gi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Hie=gi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Vie=Object.freeze(Object.defineProperty({__proto__:null,base64:qie,base64pad:Kie,base64url:Wie,base64urlpad:Hie},Symbol.toStringTag,{value:"Module"})),uT=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Gie=uT.reduce((t,e,r)=>(t[r]=e,t),[]),Yie=uT.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Jie(t){return t.reduce((e,r)=>(e+=Gie[r],e),"")}function Xie(t){const e=[];for(const r of t){const n=Yie[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Zie=my({prefix:"🚀",name:"base256emoji",encode:Jie,decode:Xie}),Qie=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Zie},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const B4={...yie,...bie,...xie,...Sie,...Iie,...Die,...Uie,...zie,...Vie,...Qie};function fT(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const $4=fT("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),wb=fT("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=cT(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),dT={utf8:$4,"utf-8":$4,hex:B4.base16,latin1:wb,ascii:wb,binary:wb,...B4};function Xn(t,e="utf8"){const r=dT[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function Gn(t,e="utf8"){const r=dT[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function U4(t){return Vf(Xn(Gn(t,gy),oT))}function L1(t){return Xn(Gn(du(t),oT),gy)}function hT(t){const e=Gn(rie,D4),r=tie+Xn(Sg([e,t]),D4);return[Qne,eie,r].join(Zne)}function ese(t){return Xn(t,gy)}function tse(t){return Gn(t,gy)}function rse(t){return Gn([L1(t.header),L1(t.payload)].join(O1),aT)}function nse(t){return[L1(t.header),L1(t.payload),ese(t.signature)].join(O1)}function B2(t){const e=t.split(O1),r=U4(e[0]),n=U4(e[1]),i=tse(e[2]),s=Gn(e.slice(0,2).join(O1),aT);return{header:r,payload:n,signature:i,data:s}}function F4(t=ll.randomBytes(nie)){return x_.generateKeyPairFromSeed(t)}async function ise(t,e,r,n,i=ft.fromMiliseconds(Date.now())){const s={alg:Jne,typ:Xne},o=hT(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=rse({header:s,payload:c}),u=x_.sign(n.secretKey,l);return nse({header:s,payload:c,signature:u})}var j4=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},sse=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),ose=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),ase=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),cse=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),lse=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),use=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,fse=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,z4=3,dse=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",use]],q4=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function hse(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new lse:typeof navigator<"u"?gse(navigator.userAgent):yse()}function pse(t){return t!==""&&dse.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function gse(t){var e=pse(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new cse;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<z4&&(i=j4(j4([],i,!0),wse(z4-i.length),!0)):i=[];var s=i.join("."),o=mse(t),a=fse.exec(t);return a&&a[1]?new ase(r,s,o,a[1]):new sse(r,s,o)}function mse(t){for(var e=0,r=q4.length;e<r;e++){var n=q4[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function yse(){var t=typeof process<"u"&&process.version;return t?new ose(process.version.slice(1)):null}function wse(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.getLocalStorage=Kr.getLocalStorageOrThrow=Kr.getCrypto=Kr.getCryptoOrThrow=pT=Kr.getLocation=Kr.getLocationOrThrow=__=Kr.getNavigator=Kr.getNavigatorOrThrow=Wp=Kr.getDocument=Kr.getDocumentOrThrow=Kr.getFromWindowOrThrow=Kr.getFromWindow=void 0;function Cu(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Kr.getFromWindow=Cu;function bd(t){const e=Cu(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Kr.getFromWindowOrThrow=bd;function bse(){return bd("document")}Kr.getDocumentOrThrow=bse;function vse(){return Cu("document")}var Wp=Kr.getDocument=vse;function xse(){return bd("navigator")}Kr.getNavigatorOrThrow=xse;function _se(){return Cu("navigator")}var __=Kr.getNavigator=_se;function Sse(){return bd("location")}Kr.getLocationOrThrow=Sse;function Ese(){return Cu("location")}var pT=Kr.getLocation=Ese;function Ase(){return bd("crypto")}Kr.getCryptoOrThrow=Ase;function Ise(){return Cu("crypto")}Kr.getCrypto=Ise;function kse(){return bd("localStorage")}Kr.getLocalStorageOrThrow=kse;function Cse(){return Cu("localStorage")}Kr.getLocalStorage=Cse;var S_={};Object.defineProperty(S_,"__esModule",{value:!0});var gT=S_.getWindowMetadata=void 0;const K4=Kr;function Rse(){let t,e;try{t=K4.getDocumentOrThrow(),e=K4.getLocationOrThrow()}catch{return null}function r(){const f=t.getElementsByTagName("link"),h=[];for(let g=0;g<f.length;g++){const y=f[g],v=y.getAttribute("rel");if(v&&v.toLowerCase().indexOf("icon")>-1){const T=y.getAttribute("href");if(T)if(T.toLowerCase().indexOf("https:")===-1&&T.toLowerCase().indexOf("http:")===-1&&T.indexOf("//")!==0){let k=e.protocol+"//"+e.host;if(T.indexOf("/")===0)k+=T;else{const C=e.pathname.split("/");C.pop();const I=C.join("/");k+=I+"/"+T}h.push(k)}else if(T.indexOf("//")===0){const k=e.protocol+T;h.push(k)}else h.push(T)}}return h}function n(...f){const h=t.getElementsByTagName("meta");for(let g=0;g<h.length;g++){const y=h[g],v=["itemprop","property","name"].map(T=>y.getAttribute(T)).filter(T=>T?f.includes(T):!1);if(v.length&&v){const T=y.getAttribute("content");if(T)return T}}return""}function i(){let f=n("name","og:site_name","og:title","twitter:title");return f||(f=t.title),f}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,l=r();return{description:a,url:c,icons:l,name:o}}gT=S_.getWindowMetadata=Rse;var pp={},Pse=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),mT="%[a-f0-9]{2}",W4=new RegExp("("+mT+")|([^%]+?)","gi"),H4=new RegExp("("+mT+")+","gi");function $2(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],$2(r),$2(n))}function Tse(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(W4)||[],r=1;r<e.length;r++)t=$2(e,r).join(""),e=t.match(W4)||[];return t}}function Nse(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=H4.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=Tse(r[0]);n!==r[0]&&(e[r[0]]=n)}r=H4.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}var Mse=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return Nse(t)}},Ose=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]},Lse=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],a=t[o];(i?e.indexOf(o)!==-1:e(o,a,t))&&(r[o]=a)}return r};(function(t){const e=Pse,r=Mse,n=Ose,i=Lse,s=C=>C==null,o=Symbol("encodeFragmentIdentifier");function a(C){switch(C.arrayFormat){case"index":return I=>(D,O)=>{const F=D.length;return O===void 0||C.skipNull&&O===null||C.skipEmptyString&&O===""?D:O===null?[...D,[u(I,C),"[",F,"]"].join("")]:[...D,[u(I,C),"[",u(F,C),"]=",u(O,C)].join("")]};case"bracket":return I=>(D,O)=>O===void 0||C.skipNull&&O===null||C.skipEmptyString&&O===""?D:O===null?[...D,[u(I,C),"[]"].join("")]:[...D,[u(I,C),"[]=",u(O,C)].join("")];case"colon-list-separator":return I=>(D,O)=>O===void 0||C.skipNull&&O===null||C.skipEmptyString&&O===""?D:O===null?[...D,[u(I,C),":list="].join("")]:[...D,[u(I,C),":list=",u(O,C)].join("")];case"comma":case"separator":case"bracket-separator":{const I=C.arrayFormat==="bracket-separator"?"[]=":"=";return D=>(O,F)=>F===void 0||C.skipNull&&F===null||C.skipEmptyString&&F===""?O:(F=F===null?"":F,O.length===0?[[u(D,C),I,u(F,C)].join("")]:[[O,u(F,C)].join(C.arrayFormatSeparator)])}default:return I=>(D,O)=>O===void 0||C.skipNull&&O===null||C.skipEmptyString&&O===""?D:O===null?[...D,u(I,C)]:[...D,[u(I,C),"=",u(O,C)].join("")]}}function c(C){let I;switch(C.arrayFormat){case"index":return(D,O,F)=>{if(I=/\[(\d*)\]$/.exec(D),D=D.replace(/\[\d*\]$/,""),!I){F[D]=O;return}F[D]===void 0&&(F[D]={}),F[D][I[1]]=O};case"bracket":return(D,O,F)=>{if(I=/(\[\])$/.exec(D),D=D.replace(/\[\]$/,""),!I){F[D]=O;return}if(F[D]===void 0){F[D]=[O];return}F[D]=[].concat(F[D],O)};case"colon-list-separator":return(D,O,F)=>{if(I=/(:list)$/.exec(D),D=D.replace(/:list$/,""),!I){F[D]=O;return}if(F[D]===void 0){F[D]=[O];return}F[D]=[].concat(F[D],O)};case"comma":case"separator":return(D,O,F)=>{const x=typeof O=="string"&&O.includes(C.arrayFormatSeparator),L=typeof O=="string"&&!x&&f(O,C).includes(C.arrayFormatSeparator);O=L?f(O,C):O;const J=x||L?O.split(C.arrayFormatSeparator).map(ne=>f(ne,C)):O===null?O:f(O,C);F[D]=J};case"bracket-separator":return(D,O,F)=>{const x=/(\[\])$/.test(D);if(D=D.replace(/\[\]$/,""),!x){F[D]=O&&f(O,C);return}const L=O===null?[]:O.split(C.arrayFormatSeparator).map(J=>f(J,C));if(F[D]===void 0){F[D]=L;return}F[D]=[].concat(F[D],L)};default:return(D,O,F)=>{if(F[D]===void 0){F[D]=O;return}F[D]=[].concat(F[D],O)}}}function l(C){if(typeof C!="string"||C.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function u(C,I){return I.encode?I.strict?e(C):encodeURIComponent(C):C}function f(C,I){return I.decode?r(C):C}function h(C){return Array.isArray(C)?C.sort():typeof C=="object"?h(Object.keys(C)).sort((I,D)=>Number(I)-Number(D)).map(I=>C[I]):C}function g(C){const I=C.indexOf("#");return I!==-1&&(C=C.slice(0,I)),C}function y(C){let I="";const D=C.indexOf("#");return D!==-1&&(I=C.slice(D)),I}function v(C){C=g(C);const I=C.indexOf("?");return I===-1?"":C.slice(I+1)}function T(C,I){return I.parseNumbers&&!Number.isNaN(Number(C))&&typeof C=="string"&&C.trim()!==""?C=Number(C):I.parseBooleans&&C!==null&&(C.toLowerCase()==="true"||C.toLowerCase()==="false")&&(C=C.toLowerCase()==="true"),C}function k(C,I){I=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},I),l(I.arrayFormatSeparator);const D=c(I),O=Object.create(null);if(typeof C!="string"||(C=C.trim().replace(/^[?#&]/,""),!C))return O;for(const F of C.split("&")){if(F==="")continue;let[x,L]=n(I.decode?F.replace(/\+/g," "):F,"=");L=L===void 0?null:["comma","separator","bracket-separator"].includes(I.arrayFormat)?L:f(L,I),D(f(x,I),L,O)}for(const F of Object.keys(O)){const x=O[F];if(typeof x=="object"&&x!==null)for(const L of Object.keys(x))x[L]=T(x[L],I);else O[F]=T(x,I)}return I.sort===!1?O:(I.sort===!0?Object.keys(O).sort():Object.keys(O).sort(I.sort)).reduce((F,x)=>{const L=O[x];return L&&typeof L=="object"&&!Array.isArray(L)?F[x]=h(L):F[x]=L,F},Object.create(null))}t.extract=v,t.parse=k,t.stringify=(C,I)=>{if(!C)return"";I=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},I),l(I.arrayFormatSeparator);const D=L=>I.skipNull&&s(C[L])||I.skipEmptyString&&C[L]==="",O=a(I),F={};for(const L of Object.keys(C))D(L)||(F[L]=C[L]);const x=Object.keys(F);return I.sort!==!1&&x.sort(I.sort),x.map(L=>{const J=C[L];return J===void 0?"":J===null?u(L,I):Array.isArray(J)?J.length===0&&I.arrayFormat==="bracket-separator"?u(L,I)+"[]":J.reduce(O(L),[]).join("&"):u(L,I)+"="+u(J,I)}).filter(L=>L.length>0).join("&")},t.parseUrl=(C,I)=>{I=Object.assign({decode:!0},I);const[D,O]=n(C,"#");return Object.assign({url:D.split("?")[0]||"",query:k(v(C),I)},I&&I.parseFragmentIdentifier&&O?{fragmentIdentifier:f(O,I)}:{})},t.stringifyUrl=(C,I)=>{I=Object.assign({encode:!0,strict:!0,[o]:!0},I);const D=g(C.url).split("?")[0]||"",O=t.extract(C.url),F=t.parse(O,{sort:!1}),x=Object.assign(F,C.query);let L=t.stringify(x,I);L&&(L=`?${L}`);let J=y(C.url);return C.fragmentIdentifier&&(J=`#${I[o]?u(C.fragmentIdentifier,I):C.fragmentIdentifier}`),`${D}${L}${J}`},t.pick=(C,I,D)=>{D=Object.assign({parseFragmentIdentifier:!0,[o]:!1},D);const{url:O,query:F,fragmentIdentifier:x}=t.parseUrl(C,D);return t.stringifyUrl({url:O,query:i(F,I),fragmentIdentifier:x},D)},t.exclude=(C,I,D)=>{const O=Array.isArray(I)?F=>!I.includes(F):(F,x)=>!I(F,x);return t.pick(C,O,D)}})(pp);var yT={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=globalThis:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],f=[4,1024,262144,67108864],h=[1,256,65536,16777216],g=[6,1536,393216,100663296],y=[0,8,16,24],v=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],T=[224,256,384,512],k=[128,256],C=["hex","buffer","arrayBuffer","array","digest"],I={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function($){return Object.prototype.toString.call($)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function($){return typeof $=="object"&&$.buffer&&$.buffer.constructor===ArrayBuffer});for(var D=function($,oe,ee){return function(H){return new P($,oe,$).update(H)[ee]()}},O=function($,oe,ee){return function(H,K){return new P($,oe,K).update(H)[ee]()}},F=function($,oe,ee){return function(H,K,A,V){return d["cshake"+$].update(H,K,A,V)[ee]()}},x=function($,oe,ee){return function(H,K,A,V){return d["kmac"+$].update(H,K,A,V)[ee]()}},L=function($,oe,ee,H){for(var K=0;K<C.length;++K){var A=C[K];$[A]=oe(ee,H,A)}return $},J=function($,oe){var ee=D($,oe,"hex");return ee.create=function(){return new P($,oe,$)},ee.update=function(H){return ee.create().update(H)},L(ee,D,$,oe)},ne=function($,oe){var ee=O($,oe,"hex");return ee.create=function(H){return new P($,oe,H)},ee.update=function(H,K){return ee.create(K).update(H)},L(ee,O,$,oe)},j=function($,oe){var ee=I[$],H=F($,oe,"hex");return H.create=function(K,A,V){return!A&&!V?d["shake"+$].create(K):new P($,oe,K).bytepad([A,V],ee)},H.update=function(K,A,V,se){return H.create(A,V,se).update(K)},L(H,F,$,oe)},w=function($,oe){var ee=I[$],H=x($,oe,"hex");return H.create=function(K,A,V){return new q($,oe,A).bytepad(["KMAC",V],ee).bytepad([K],ee)},H.update=function(K,A,V,se){return H.create(K,V,se).update(A)},L(H,x,$,oe)},m=[{name:"keccak",padding:h,bits:T,createMethod:J},{name:"sha3",padding:g,bits:T,createMethod:J},{name:"shake",padding:u,bits:k,createMethod:ne},{name:"cshake",padding:f,bits:k,createMethod:j},{name:"kmac",padding:f,bits:k,createMethod:w}],d={},p=[],_=0;_<m.length;++_)for(var N=m[_],E=N.bits,S=0;S<E.length;++S){var b=N.name+"_"+E[S];if(p.push(b),d[b]=N.createMethod(E[S],N.padding),N.name!=="sha3"){var R=N.name+E[S];p.push(R),d[R]=d[b]}}function P($,oe,ee){this.blocks=[],this.s=[],this.padding=oe,this.outputBits=ee,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-($<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=ee>>5,this.extraBytes=(ee&31)>>3;for(var H=0;H<50;++H)this.s[H]=0}P.prototype.update=function($){if(this.finalized)throw new Error(r);var oe,ee=typeof $;if(ee!=="string"){if(ee==="object"){if($===null)throw new Error(e);if(c&&$.constructor===ArrayBuffer)$=new Uint8Array($);else if(!Array.isArray($)&&(!c||!ArrayBuffer.isView($)))throw new Error(e)}else throw new Error(e);oe=!0}for(var H=this.blocks,K=this.byteCount,A=$.length,V=this.blockCount,se=0,X=this.s,re,ce;se<A;){if(this.reset)for(this.reset=!1,H[0]=this.block,re=1;re<V+1;++re)H[re]=0;if(oe)for(re=this.start;se<A&&re<K;++se)H[re>>2]|=$[se]<<y[re++&3];else for(re=this.start;se<A&&re<K;++se)ce=$.charCodeAt(se),ce<128?H[re>>2]|=ce<<y[re++&3]:ce<2048?(H[re>>2]|=(192|ce>>6)<<y[re++&3],H[re>>2]|=(128|ce&63)<<y[re++&3]):ce<55296||ce>=57344?(H[re>>2]|=(224|ce>>12)<<y[re++&3],H[re>>2]|=(128|ce>>6&63)<<y[re++&3],H[re>>2]|=(128|ce&63)<<y[re++&3]):(ce=65536+((ce&1023)<<10|$.charCodeAt(++se)&1023),H[re>>2]|=(240|ce>>18)<<y[re++&3],H[re>>2]|=(128|ce>>12&63)<<y[re++&3],H[re>>2]|=(128|ce>>6&63)<<y[re++&3],H[re>>2]|=(128|ce&63)<<y[re++&3]);if(this.lastByteIndex=re,re>=K){for(this.start=re-K,this.block=H[V],re=0;re<V;++re)X[re]^=H[re];ue(X),this.reset=!0}else this.start=re}return this},P.prototype.encode=function($,oe){var ee=$&255,H=1,K=[ee];for($=$>>8,ee=$&255;ee>0;)K.unshift(ee),$=$>>8,ee=$&255,++H;return oe?K.push(H):K.unshift(H),this.update(K),K.length},P.prototype.encodeString=function($){var oe,ee=typeof $;if(ee!=="string"){if(ee==="object"){if($===null)throw new Error(e);if(c&&$.constructor===ArrayBuffer)$=new Uint8Array($);else if(!Array.isArray($)&&(!c||!ArrayBuffer.isView($)))throw new Error(e)}else throw new Error(e);oe=!0}var H=0,K=$.length;if(oe)H=K;else for(var A=0;A<$.length;++A){var V=$.charCodeAt(A);V<128?H+=1:V<2048?H+=2:V<55296||V>=57344?H+=3:(V=65536+((V&1023)<<10|$.charCodeAt(++A)&1023),H+=4)}return H+=this.encode(H*8),this.update($),H},P.prototype.bytepad=function($,oe){for(var ee=this.encode(oe),H=0;H<$.length;++H)ee+=this.encodeString($[H]);var K=oe-ee%oe,A=[];return A.length=K,this.update(A),this},P.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var $=this.blocks,oe=this.lastByteIndex,ee=this.blockCount,H=this.s;if($[oe>>2]|=this.padding[oe&3],this.lastByteIndex===this.byteCount)for($[0]=$[ee],oe=1;oe<ee+1;++oe)$[oe]=0;for($[ee-1]|=2147483648,oe=0;oe<ee;++oe)H[oe]^=$[oe];ue(H)}},P.prototype.toString=P.prototype.hex=function(){this.finalize();for(var $=this.blockCount,oe=this.s,ee=this.outputBlocks,H=this.extraBytes,K=0,A=0,V="",se;A<ee;){for(K=0;K<$&&A<ee;++K,++A)se=oe[K],V+=l[se>>4&15]+l[se&15]+l[se>>12&15]+l[se>>8&15]+l[se>>20&15]+l[se>>16&15]+l[se>>28&15]+l[se>>24&15];A%$===0&&(ue(oe),K=0)}return H&&(se=oe[K],V+=l[se>>4&15]+l[se&15],H>1&&(V+=l[se>>12&15]+l[se>>8&15]),H>2&&(V+=l[se>>20&15]+l[se>>16&15])),V},P.prototype.arrayBuffer=function(){this.finalize();var $=this.blockCount,oe=this.s,ee=this.outputBlocks,H=this.extraBytes,K=0,A=0,V=this.outputBits>>3,se;H?se=new ArrayBuffer(ee+1<<2):se=new ArrayBuffer(V);for(var X=new Uint32Array(se);A<ee;){for(K=0;K<$&&A<ee;++K,++A)X[A]=oe[K];A%$===0&&ue(oe)}return H&&(X[K]=oe[K],se=se.slice(0,V)),se},P.prototype.buffer=P.prototype.arrayBuffer,P.prototype.digest=P.prototype.array=function(){this.finalize();for(var $=this.blockCount,oe=this.s,ee=this.outputBlocks,H=this.extraBytes,K=0,A=0,V=[],se,X;A<ee;){for(K=0;K<$&&A<ee;++K,++A)se=A<<2,X=oe[K],V[se]=X&255,V[se+1]=X>>8&255,V[se+2]=X>>16&255,V[se+3]=X>>24&255;A%$===0&&ue(oe)}return H&&(se=A<<2,X=oe[K],V[se]=X&255,H>1&&(V[se+1]=X>>8&255),H>2&&(V[se+2]=X>>16&255)),V};function q($,oe,ee){P.call(this,$,oe,ee)}q.prototype=new P,q.prototype.finalize=function(){return this.encode(this.outputBits,!0),P.prototype.finalize.call(this)};var ue=function($){var oe,ee,H,K,A,V,se,X,re,ce,be,Ee,Ae,Ve,De,qe,Te,et,We,Ze,ot,W,B,U,Q,le,he,ge,je,Je,Qe,bt,gt,vt,er,sr,Lt,jt,Et,lt,Ot,te,ie,Ce,Ne,ke,xt,z,G,Y,M,Z,de,me,we,Me,Ke,$e,Dt,Xe,Ct,Pt,At;for(H=0;H<48;H+=2)K=$[0]^$[10]^$[20]^$[30]^$[40],A=$[1]^$[11]^$[21]^$[31]^$[41],V=$[2]^$[12]^$[22]^$[32]^$[42],se=$[3]^$[13]^$[23]^$[33]^$[43],X=$[4]^$[14]^$[24]^$[34]^$[44],re=$[5]^$[15]^$[25]^$[35]^$[45],ce=$[6]^$[16]^$[26]^$[36]^$[46],be=$[7]^$[17]^$[27]^$[37]^$[47],Ee=$[8]^$[18]^$[28]^$[38]^$[48],Ae=$[9]^$[19]^$[29]^$[39]^$[49],oe=Ee^(V<<1|se>>>31),ee=Ae^(se<<1|V>>>31),$[0]^=oe,$[1]^=ee,$[10]^=oe,$[11]^=ee,$[20]^=oe,$[21]^=ee,$[30]^=oe,$[31]^=ee,$[40]^=oe,$[41]^=ee,oe=K^(X<<1|re>>>31),ee=A^(re<<1|X>>>31),$[2]^=oe,$[3]^=ee,$[12]^=oe,$[13]^=ee,$[22]^=oe,$[23]^=ee,$[32]^=oe,$[33]^=ee,$[42]^=oe,$[43]^=ee,oe=V^(ce<<1|be>>>31),ee=se^(be<<1|ce>>>31),$[4]^=oe,$[5]^=ee,$[14]^=oe,$[15]^=ee,$[24]^=oe,$[25]^=ee,$[34]^=oe,$[35]^=ee,$[44]^=oe,$[45]^=ee,oe=X^(Ee<<1|Ae>>>31),ee=re^(Ae<<1|Ee>>>31),$[6]^=oe,$[7]^=ee,$[16]^=oe,$[17]^=ee,$[26]^=oe,$[27]^=ee,$[36]^=oe,$[37]^=ee,$[46]^=oe,$[47]^=ee,oe=ce^(K<<1|A>>>31),ee=be^(A<<1|K>>>31),$[8]^=oe,$[9]^=ee,$[18]^=oe,$[19]^=ee,$[28]^=oe,$[29]^=ee,$[38]^=oe,$[39]^=ee,$[48]^=oe,$[49]^=ee,Ve=$[0],De=$[1],ke=$[11]<<4|$[10]>>>28,xt=$[10]<<4|$[11]>>>28,ge=$[20]<<3|$[21]>>>29,je=$[21]<<3|$[20]>>>29,Xe=$[31]<<9|$[30]>>>23,Ct=$[30]<<9|$[31]>>>23,te=$[40]<<18|$[41]>>>14,ie=$[41]<<18|$[40]>>>14,vt=$[2]<<1|$[3]>>>31,er=$[3]<<1|$[2]>>>31,qe=$[13]<<12|$[12]>>>20,Te=$[12]<<12|$[13]>>>20,z=$[22]<<10|$[23]>>>22,G=$[23]<<10|$[22]>>>22,Je=$[33]<<13|$[32]>>>19,Qe=$[32]<<13|$[33]>>>19,Pt=$[42]<<2|$[43]>>>30,At=$[43]<<2|$[42]>>>30,me=$[5]<<30|$[4]>>>2,we=$[4]<<30|$[5]>>>2,sr=$[14]<<6|$[15]>>>26,Lt=$[15]<<6|$[14]>>>26,et=$[25]<<11|$[24]>>>21,We=$[24]<<11|$[25]>>>21,Y=$[34]<<15|$[35]>>>17,M=$[35]<<15|$[34]>>>17,bt=$[45]<<29|$[44]>>>3,gt=$[44]<<29|$[45]>>>3,U=$[6]<<28|$[7]>>>4,Q=$[7]<<28|$[6]>>>4,Me=$[17]<<23|$[16]>>>9,Ke=$[16]<<23|$[17]>>>9,jt=$[26]<<25|$[27]>>>7,Et=$[27]<<25|$[26]>>>7,Ze=$[36]<<21|$[37]>>>11,ot=$[37]<<21|$[36]>>>11,Z=$[47]<<24|$[46]>>>8,de=$[46]<<24|$[47]>>>8,Ce=$[8]<<27|$[9]>>>5,Ne=$[9]<<27|$[8]>>>5,le=$[18]<<20|$[19]>>>12,he=$[19]<<20|$[18]>>>12,$e=$[29]<<7|$[28]>>>25,Dt=$[28]<<7|$[29]>>>25,lt=$[38]<<8|$[39]>>>24,Ot=$[39]<<8|$[38]>>>24,W=$[48]<<14|$[49]>>>18,B=$[49]<<14|$[48]>>>18,$[0]=Ve^~qe&et,$[1]=De^~Te&We,$[10]=U^~le&ge,$[11]=Q^~he&je,$[20]=vt^~sr&jt,$[21]=er^~Lt&Et,$[30]=Ce^~ke&z,$[31]=Ne^~xt&G,$[40]=me^~Me&$e,$[41]=we^~Ke&Dt,$[2]=qe^~et&Ze,$[3]=Te^~We&ot,$[12]=le^~ge&Je,$[13]=he^~je&Qe,$[22]=sr^~jt&lt,$[23]=Lt^~Et&Ot,$[32]=ke^~z&Y,$[33]=xt^~G&M,$[42]=Me^~$e&Xe,$[43]=Ke^~Dt&Ct,$[4]=et^~Ze&W,$[5]=We^~ot&B,$[14]=ge^~Je&bt,$[15]=je^~Qe&gt,$[24]=jt^~lt&te,$[25]=Et^~Ot&ie,$[34]=z^~Y&Z,$[35]=G^~M&de,$[44]=$e^~Xe&Pt,$[45]=Dt^~Ct&At,$[6]=Ze^~W&Ve,$[7]=ot^~B&De,$[16]=Je^~bt&U,$[17]=Qe^~gt&Q,$[26]=lt^~te&vt,$[27]=Ot^~ie&er,$[36]=Y^~Z&Ce,$[37]=M^~de&Ne,$[46]=Xe^~Pt&me,$[47]=Ct^~At&we,$[8]=W^~Ve&qe,$[9]=B^~De&Te,$[18]=bt^~U&le,$[19]=gt^~Q&he,$[28]=te^~vt&sr,$[29]=ie^~er&Lt,$[38]=Z^~Ce&ke,$[39]=de^~Ne&xt,$[48]=Pt^~me&Me,$[49]=At^~we&Ke,$[0]^=v[H],$[1]^=v[H+1]};if(a)t.exports=d;else for(_=0;_<p.length;++_)i[p[_]]=d[p[_]]})()})(yT);var Dse=yT.exports;const Bse=An(Dse),$se="logger/5.7.0";let V4=!1,G4=!1;const Eg={debug:1,default:2,info:2,warning:3,error:4,off:5};let Y4=Eg.default,bb=null;function Use(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(t){return t.message}return null}const J4=Use();var U2;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(U2||(U2={}));var go;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(go||(go={}));const X4="0123456789abcdef";class Jr{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Eg[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Y4>Eg[n])&&console.log.apply(console,r)}debug(...e){this._log(Jr.levels.DEBUG,e)}info(...e){this._log(Jr.levels.INFO,e)}warn(...e){this._log(Jr.levels.WARNING,e)}makeError(e,r,n){if(G4)return this.makeError("censored error",r,{});r||(r=Jr.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=X4[l[f]>>4],u+=X4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case go.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case go.CALL_EXCEPTION:case go.INSUFFICIENT_FUNDS:case go.MISSING_NEW:case go.NONCE_EXPIRED:case go.REPLACEMENT_UNDERPRICED:case go.TRANSACTION_REPLACED:case go.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Jr.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){J4&&this.throwError("platform missing String.prototype.normalize",Jr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:J4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Jr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Jr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Jr.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Jr.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Jr.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Jr.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Jr.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return bb||(bb=new Jr($se)),bb}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Jr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),V4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Jr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}G4=!!e,V4=!!r}static setLogLevel(e){const r=Eg[e.toLowerCase()];if(r==null){Jr.globalLogger().warn("invalid log level - "+e);return}Y4=r}static from(e){return new Jr(e)}}Jr.errors=go;Jr.levels=U2;const Fse="bytes/5.7.0",_n=new Jr(Fse);function wT(t){return!!t.toHexString}function Sf(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Sf(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function jse(t){return oa(t)&&!(t.length%2)||E_(t)}function Z4(t){return typeof t=="number"&&t==t&&t%1===0}function E_(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Z4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Z4(r)||r<0||r>=256)return!1}return!0}function Cn(t,e){if(e||(e={}),typeof t=="number"){_n.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Sf(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),wT(t)&&(t=t.toHexString()),oa(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":_n.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Sf(new Uint8Array(n))}return E_(t)?Sf(new Uint8Array(t)):_n.throwArgumentError("invalid arrayify value","value",t)}function zse(t){const e=t.map(i=>Cn(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Sf(n)}function qse(t,e){t=Cn(t),t.length>e&&_n.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Sf(r)}function oa(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const vb="0123456789abcdef";function ds(t,e){if(e||(e={}),typeof t=="number"){_n.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=vb[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),wT(t))return t.toHexString();if(oa(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":_n.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(E_(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=vb[(i&240)>>4]+vb[i&15]}return r}return _n.throwArgumentError("invalid hexlify value","value",t)}function Kse(t){if(typeof t!="string")t=ds(t);else if(!oa(t)||t.length%2)return null;return(t.length-2)/2}function Q4(t,e,r){return typeof t!="string"?t=ds(t):(!oa(t)||t.length%2)&&_n.throwArgumentError("invalid hexData","value",t),e=2+2*e,"0x"+t.substring(e)}function Ef(t,e){for(typeof t!="string"?t=ds(t):oa(t)||_n.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&_n.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function bT(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(jse(t)){let r=Cn(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ds(r.slice(0,32)),e.s=ds(r.slice(32,64))):r.length===65?(e.r=ds(r.slice(0,32)),e.s=ds(r.slice(32,64)),e.v=r[64]):_n.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:_n.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ds(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=qse(Cn(e._vs),32);e._vs=ds(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&_n.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=ds(i);e.s==null?e.s=o:e.s!==o&&_n.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?_n.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&_n.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!oa(e.r)?_n.throwArgumentError("signature missing or invalid r","signature",t):e.r=Ef(e.r,32),e.s==null||!oa(e.s)?_n.throwArgumentError("signature missing or invalid s","signature",t):e.s=Ef(e.s,32);const r=Cn(e.s);r[0]>=128&&_n.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ds(r);e._vs&&(oa(e._vs)||_n.throwArgumentError("signature invalid _vs","signature",t),e._vs=Ef(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&_n.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function A_(t){return"0x"+Bse.keccak_256(Cn(t))}var Wse=Gt.BN;function Hse(t){return new Wse(t,36).toString(16)}const Vse="strings/5.7.0",Gse=new Jr(Vse);var D1;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(D1||(D1={}));var e8;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(e8||(e8={}));function xb(t,e=D1.current){e!=D1.current&&(Gse.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Cn(r)}const Yse=`Ethereum Signed Message:
`;function vT(t){return typeof t=="string"&&(t=xb(t)),A_(zse([xb(Yse),xb(String(t.length)),t]))}const Jse="address/5.7.0",ch=new Jr(Jse);function t8(t){oa(t,20)||ch.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Cn(A_(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Xse=9007199254740991;function Zse(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const I_={};for(let t=0;t<10;t++)I_[String(t)]=String(t);for(let t=0;t<26;t++)I_[String.fromCharCode(65+t)]=String(10+t);const r8=Math.floor(Zse(Xse));function Qse(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>I_[n]).join("");for(;e.length>=r8;){let n=e.substring(0,r8);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function eoe(t){let e=null;if(typeof t!="string"&&ch.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=t8(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&ch.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Qse(t)&&ch.throwArgumentError("bad icap checksum","address",t),e=Hse(t.substring(4));e.length<40;)e="0"+e;e=t8("0x"+e)}else ch.throwArgumentError("invalid address","address",t);return e}function Vd(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function vd(t,e,r){return r={path:e,exports:{},require:function(n,i){return toe(n,i??r.path)}},t(r,r.exports),r.exports}function toe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var k_=xT;function xT(t,e){if(!t)throw new Error(e||"Assertion failed")}xT.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var vo=vd(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,h=u&255;f?c.push(f,h):c.push(h)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),Rs=vd(function(t,e){var r=e;r.assert=k_,r.toArray=vo.toArray,r.zero2=vo.zero2,r.toHex=vo.toHex,r.encode=vo.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1);f.fill(0);for(var h=1<<l+1,g=c.clone(),y=0;y<f.length;y++){var v,T=g.andln(h-1);g.isOdd()?(T>(h>>1)-1?v=(h>>1)-T:v=T,g.isubn(v)):v=0,f[y]=v,g.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,h=0,g;c.cmpn(-f)>0||l.cmpn(-h)>0;){var y=c.andln(3)+f&3,v=l.andln(3)+h&3;y===3&&(y=-1),v===3&&(v=-1);var T;y&1?(g=c.andln(7)+f&7,(g===3||g===5)&&v===2?T=-y:T=y):T=0,u[0].push(T);var k;v&1?(g=l.andln(7)+h&7,(g===3||g===5)&&y===2?k=-v:k=v):k=0,u[1].push(k),2*f===T+1&&(f=1-f),2*h===k+1&&(h=1-h),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new Gt(c,"hex","le")}r.intFromLE=a}),B1=Rs.getNAF,roe=Rs.getJSF,$1=Rs.assert;function ul(t,e){this.type=t,this.p=new Gt(e.p,16),this.red=e.prime?Gt.red(e.prime):Gt.mont(this.p),this.zero=new Gt(0).toRed(this.red),this.one=new Gt(1).toRed(this.red),this.two=new Gt(2).toRed(this.red),this.n=e.n&&new Gt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ru=ul;ul.prototype.point=function(){throw new Error("Not implemented")};ul.prototype.validate=function(){throw new Error("Not implemented")};ul.prototype._fixedNafMul=function(e,r){$1(e.precomputed);var n=e._getDoubles(),i=B1(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)c=o[a],c===h?f=f.mixedAdd(n.points[a]):c===-h&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};ul.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=B1(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];$1(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};ul.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,h;for(u=0;u<i;u++){h=r[u];var g=h._getNAFPoints(e);o[u]=g.wnd,a[u]=g.points}for(u=i-1;u>=1;u-=2){var y=u-1,v=u;if(o[y]!==1||o[v]!==1){c[y]=B1(n[y],o[y],this._bitLength),c[v]=B1(n[v],o[v],this._bitLength),l=Math.max(c[y].length,l),l=Math.max(c[v].length,l);continue}var T=[r[y],null,null,r[v]];r[y].y.cmp(r[v].y)===0?(T[1]=r[y].add(r[v]),T[2]=r[y].toJ().mixedAdd(r[v].neg())):r[y].y.cmp(r[v].y.redNeg())===0?(T[1]=r[y].toJ().mixedAdd(r[v]),T[2]=r[y].add(r[v].neg())):(T[1]=r[y].toJ().mixedAdd(r[v]),T[2]=r[y].toJ().mixedAdd(r[v].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],C=roe(n[y],n[v]);for(l=Math.max(C[0].length,l),c[y]=new Array(l),c[v]=new Array(l),f=0;f<l;f++){var I=C[0][f]|0,D=C[1][f]|0;c[y][f]=k[(I+1)*3+(D+1)],c[v][f]=0,a[y]=T}}var O=this.jpoint(null,null,null),F=this._wnafT4;for(u=l;u>=0;u--){for(var x=0;u>=0;){var L=!0;for(f=0;f<i;f++)F[f]=c[f][u]|0,F[f]!==0&&(L=!1);if(!L)break;x++,u--}if(u>=0&&x++,O=O.dblp(x),u<0)break;for(f=0;f<i;f++){var J=F[f];J!==0&&(J>0?h=a[f][J-1>>1]:J<0&&(h=a[f][-J-1>>1].neg()),h.type==="affine"?O=O.mixedAdd(h):O=O.add(h))}}for(u=0;u<i;u++)a[u]=null;return s?O:O.toP()};function to(t,e){this.curve=t,this.type=e,this.precomputed=null}ul.BasePoint=to;to.prototype.eq=function(){throw new Error("Not implemented")};to.prototype.validate=function(){return this.curve.validate(this)};ul.prototype.decodePoint=function(e,r){e=Rs.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?$1(e[e.length-1]%2===0):e[0]===7&&$1(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};to.prototype.encodeCompressed=function(e){return this.encode(e,!0)};to.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};to.prototype.encode=function(e,r){return Rs.encode(this._encode(r),e)};to.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};to.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};to.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};to.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};to.prototype._getBeta=function(){return null};to.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var C_=vd(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),noe=Rs.assert;function ro(t){Ru.call(this,"short",t),this.a=new Gt(t.a,16).toRed(this.red),this.b=new Gt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}C_(ro,Ru);var ioe=ro;ro.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Gt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Gt(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],noe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Gt(a.a,16),b:new Gt(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};ro.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Gt.mont(e),n=new Gt(2).toRed(r).redInvm(),i=n.redNeg(),s=new Gt(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};ro.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Gt(1),o=new Gt(0),a=new Gt(0),c=new Gt(1),l,u,f,h,g,y,v,T=0,k,C;n.cmpn(0)!==0;){var I=i.div(n);k=i.sub(I.mul(n)),C=a.sub(I.mul(s));var D=c.sub(I.mul(o));if(!f&&k.cmp(r)<0)l=v.neg(),u=s,f=k.neg(),h=C;else if(f&&++T===2)break;v=k,i=n,n=k,a=s,s=C,c=o,o=D}g=k.neg(),y=C;var O=f.sqr().add(h.sqr()),F=g.sqr().add(y.sqr());return F.cmp(O)>=0&&(g=l,y=u),f.negative&&(f=f.neg(),h=h.neg()),g.negative&&(g=g.neg(),y=y.neg()),[{a:f,b:h},{a:g,b:y}]};ro.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),h=l.add(u).neg();return{k1:f,k2:h}};ro.prototype.pointFromX=function(e,r){e=new Gt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};ro.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};ro.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function ei(t,e,r,n){Ru.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Gt(e,16),this.y=new Gt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}C_(ei,Ru.BasePoint);ro.prototype.point=function(e,r,n){return new ei(this,e,r,n)};ro.prototype.pointFromJSON=function(e,r){return ei.fromJSON(this,e,r)};ei.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};ei.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ei.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};ei.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ei.prototype.isInfinity=function(){return this.inf};ei.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ei.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};ei.prototype.getX=function(){return this.x.fromRed()};ei.prototype.getY=function(){return this.y.fromRed()};ei.prototype.mul=function(e){return e=new Gt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ei.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};ei.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};ei.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ei.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};ei.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function mi(t,e,r,n){Ru.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Gt(0)):(this.x=new Gt(e,16),this.y=new Gt(r,16),this.z=new Gt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}C_(mi,Ru.BasePoint);ro.prototype.jpoint=function(e,r,n){return new mi(this,e,r,n)};mi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};mi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};mi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),h=i.redMul(u),g=l.redSqr().redIAdd(f).redISub(h).redISub(h),y=l.redMul(h.redISub(g)).redISub(o.redMul(f)),v=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(g,y,v)};mi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),h=c.redSqr().redIAdd(u).redISub(f).redISub(f),g=c.redMul(f.redISub(h)).redISub(s.redMul(u)),y=this.z.redMul(a);return this.curve.jpoint(h,g,y)};mi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),h=u.redSqr(),g=h.redSqr(),y=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),v=o.redMul(h),T=y.redSqr().redISub(v.redAdd(v)),k=v.redISub(T),C=y.redMul(k);C=C.redIAdd(C).redISub(g);var I=u.redMul(c);r+1<e&&(l=l.redMul(g)),o=T,c=I,u=C}return this.curve.jpoint(o,u.redMul(s),c)};mi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};mi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),y=this.x.redAdd(h).redSqr().redISub(f).redISub(g);y=y.redIAdd(y);var v=f.redAdd(f).redIAdd(f),T=v.redSqr(),k=g.redIAdd(g);k=k.redIAdd(k),k=k.redIAdd(k),e=T.redISub(y).redISub(y),r=v.redMul(y.redISub(e)).redISub(k),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};mi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),y=this.x.redSub(f).redMul(this.x.redAdd(f));y=y.redAdd(y).redIAdd(y);var v=g.redIAdd(g);v=v.redIAdd(v);var T=v.redAdd(v);e=y.redSqr().redISub(T),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var k=h.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),r=y.redMul(v.redISub(e)).redISub(k)}return this.curve.jpoint(e,r,n)};mi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(f),g=a.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var y=c.redMul(h).redISub(g),v=n.redAdd(n).redMul(i);return this.curve.jpoint(f,y,v)};mi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.x.redMul(c).redISub(f);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var y=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,g,y)};mi.prototype.mul=function(e,r){return e=new Gt(e,r),this.curve._wnafMul(this,e)};mi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};mi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};mi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};mi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Ag=vd(function(t,e){var r=e;r.base=Ru,r.short=ioe,r.mont=null,r.edwards=null}),Ig=vd(function(t,e){var r=e,n=Rs.assert;function i(a){a.type==="short"?this.curve=new Ag.short(a):a.type==="edwards"?this.curve=new Ag.edwards(a):this.curve=new Ag.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Aa.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Aa.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Aa.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Aa.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Aa.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Aa.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Aa.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Aa.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function tl(t){if(!(this instanceof tl))return new tl(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=vo.toArray(t.entropy,t.entropyEnc||"hex"),r=vo.toArray(t.nonce,t.nonceEnc||"hex"),n=vo.toArray(t.pers,t.persEnc||"hex");k_(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var _T=tl;tl.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};tl.prototype._hmac=function(){return new Aa.hmac(this.hash,this.K)};tl.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};tl.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=vo.toArray(e,r),n=vo.toArray(n,i),k_(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};tl.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=vo.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,vo.encode(o,r)};var F2=Rs.assert;function Pi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var R_=Pi;Pi.fromPublic=function(e,r,n){return r instanceof Pi?r:new Pi(e,{pub:r,pubEnc:n})};Pi.fromPrivate=function(e,r,n){return r instanceof Pi?r:new Pi(e,{priv:r,privEnc:n})};Pi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Pi.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Pi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Pi.prototype._importPrivate=function(e,r){this.priv=new Gt(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Pi.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?F2(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&F2(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Pi.prototype.derive=function(e){return e.validate()||F2(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Pi.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Pi.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Pi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var soe=Rs.assert;function yy(t,e){if(t instanceof yy)return t;this._importDER(t,e)||(soe(t.r&&t.s,"Signature without r or s"),this.r=new Gt(t.r,16),this.s=new Gt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var wy=yy;function ooe(){this.place=0}function _b(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function n8(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}yy.prototype._importDER=function(e,r){e=Rs.toArray(e,r);var n=new ooe;if(e[n.place++]!==48)return!1;var i=_b(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=_b(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=_b(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Gt(o),this.s=new Gt(c),this.recoveryParam=null,!0};function Sb(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}yy.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=n8(r),n=n8(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Sb(i,r.length),i=i.concat(r),i.push(2),Sb(i,n.length);var s=i.concat(n),o=[48];return Sb(o,s.length),o=o.concat(s),Rs.encode(o,e)};var aoe=function(){throw new Error("unsupported")},ST=Rs.assert;function Xs(t){if(!(this instanceof Xs))return new Xs(t);typeof t=="string"&&(ST(Object.prototype.hasOwnProperty.call(Ig,t),"Unknown curve "+t),t=Ig[t]),t instanceof Ig.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var coe=Xs;Xs.prototype.keyPair=function(e){return new R_(this,e)};Xs.prototype.keyFromPrivate=function(e,r){return R_.fromPrivate(this,e,r)};Xs.prototype.keyFromPublic=function(e,r){return R_.fromPublic(this,e,r)};Xs.prototype.genKeyPair=function(e){e||(e={});for(var r=new _T({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||aoe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Gt(2));;){var s=new Gt(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Xs.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Xs.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Gt(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),c=new _T({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new Gt(1)),u=0;;u++){var f=i.k?i.k(u):new Gt(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(l)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var g=h.getX(),y=g.umod(this.n);if(y.cmpn(0)!==0){var v=f.invm(this.n).mul(y.mul(r.getPrivate()).iadd(e));if(v=v.umod(this.n),v.cmpn(0)!==0){var T=(h.getY().isOdd()?1:0)|(g.cmp(y)!==0?2:0);return i.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),T^=1),new wy({r:y,s:v,recoveryParam:T})}}}}}};Xs.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Gt(e,16)),n=this.keyFromPublic(n,i),r=new wy(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),c=a.mul(e).umod(this.n),l=a.mul(s).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(s)):(u=this.g.mulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(s)===0)};Xs.prototype.recoverPubKey=function(t,e,r,n){ST((3&r)===r,"The recovery param is more than two bits"),e=new wy(e,n);var i=this.n,s=new Gt(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),h=a.mul(u).umod(i);return this.g.mulAdd(f,o,h)};Xs.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new wy(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var loe=vd(function(t,e){var r=e;r.version="6.5.4",r.utils=Rs,r.rand=function(){throw new Error("unsupported")},r.curve=Ag,r.curves=Ig,r.ec=coe,r.eddsa=null}),uoe=loe.ec;const foe="signing-key/5.7.0",j2=new Jr(foe);let Eb=null;function yc(){return Eb||(Eb=new uoe("secp256k1")),Eb}class doe{constructor(e){Vd(this,"curve","secp256k1"),Vd(this,"privateKey",ds(e)),Kse(this.privateKey)!==32&&j2.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=yc().keyFromPrivate(Cn(this.privateKey));Vd(this,"publicKey","0x"+r.getPublic(!1,"hex")),Vd(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Vd(this,"_isSigningKey",!0)}_addPoint(e){const r=yc().keyFromPublic(Cn(this.publicKey)),n=yc().keyFromPublic(Cn(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=yc().keyFromPrivate(Cn(this.privateKey)),n=Cn(e);n.length!==32&&j2.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return bT({recoveryParam:i.recoveryParam,r:Ef("0x"+i.r.toString(16),32),s:Ef("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=yc().keyFromPrivate(Cn(this.privateKey)),n=yc().keyFromPublic(Cn(ET(e)));return Ef("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function hoe(t,e){const r=bT(e),n={r:Cn(r.r),s:Cn(r.s)};return"0x"+yc().recoverPubKey(Cn(t),n,r.recoveryParam).encode("hex",!1)}function ET(t,e){const r=Cn(t);return r.length===32?new doe(r).publicKey:r.length===33?"0x"+yc().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?ds(r):j2.throwArgumentError("invalid public or private key","key","[REDACTED]")}var i8;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(i8||(i8={}));function poe(t){const e=ET(t);return eoe(Q4(A_(Q4(e,1)),12))}function goe(t,e){return poe(hoe(Cn(t),e))}var P_={},by={};Object.defineProperty(by,"__esModule",{value:!0});var Ii=rr,z2=Cs,moe=20;function yoe(t,e,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],l=r[11]<<24|r[10]<<16|r[9]<<8|r[8],u=r[15]<<24|r[14]<<16|r[13]<<8|r[12],f=r[19]<<24|r[18]<<16|r[17]<<8|r[16],h=r[23]<<24|r[22]<<16|r[21]<<8|r[20],g=r[27]<<24|r[26]<<16|r[25]<<8|r[24],y=r[31]<<24|r[30]<<16|r[29]<<8|r[28],v=e[3]<<24|e[2]<<16|e[1]<<8|e[0],T=e[7]<<24|e[6]<<16|e[5]<<8|e[4],k=e[11]<<24|e[10]<<16|e[9]<<8|e[8],C=e[15]<<24|e[14]<<16|e[13]<<8|e[12],I=n,D=i,O=s,F=o,x=a,L=c,J=l,ne=u,j=f,w=h,m=g,d=y,p=v,_=T,N=k,E=C,S=0;S<moe;S+=2)I=I+x|0,p^=I,p=p>>>16|p<<16,j=j+p|0,x^=j,x=x>>>20|x<<12,D=D+L|0,_^=D,_=_>>>16|_<<16,w=w+_|0,L^=w,L=L>>>20|L<<12,O=O+J|0,N^=O,N=N>>>16|N<<16,m=m+N|0,J^=m,J=J>>>20|J<<12,F=F+ne|0,E^=F,E=E>>>16|E<<16,d=d+E|0,ne^=d,ne=ne>>>20|ne<<12,O=O+J|0,N^=O,N=N>>>24|N<<8,m=m+N|0,J^=m,J=J>>>25|J<<7,F=F+ne|0,E^=F,E=E>>>24|E<<8,d=d+E|0,ne^=d,ne=ne>>>25|ne<<7,D=D+L|0,_^=D,_=_>>>24|_<<8,w=w+_|0,L^=w,L=L>>>25|L<<7,I=I+x|0,p^=I,p=p>>>24|p<<8,j=j+p|0,x^=j,x=x>>>25|x<<7,I=I+L|0,E^=I,E=E>>>16|E<<16,m=m+E|0,L^=m,L=L>>>20|L<<12,D=D+J|0,p^=D,p=p>>>16|p<<16,d=d+p|0,J^=d,J=J>>>20|J<<12,O=O+ne|0,_^=O,_=_>>>16|_<<16,j=j+_|0,ne^=j,ne=ne>>>20|ne<<12,F=F+x|0,N^=F,N=N>>>16|N<<16,w=w+N|0,x^=w,x=x>>>20|x<<12,O=O+ne|0,_^=O,_=_>>>24|_<<8,j=j+_|0,ne^=j,ne=ne>>>25|ne<<7,F=F+x|0,N^=F,N=N>>>24|N<<8,w=w+N|0,x^=w,x=x>>>25|x<<7,D=D+J|0,p^=D,p=p>>>24|p<<8,d=d+p|0,J^=d,J=J>>>25|J<<7,I=I+L|0,E^=I,E=E>>>24|E<<8,m=m+E|0,L^=m,L=L>>>25|L<<7;Ii.writeUint32LE(I+n|0,t,0),Ii.writeUint32LE(D+i|0,t,4),Ii.writeUint32LE(O+s|0,t,8),Ii.writeUint32LE(F+o|0,t,12),Ii.writeUint32LE(x+a|0,t,16),Ii.writeUint32LE(L+c|0,t,20),Ii.writeUint32LE(J+l|0,t,24),Ii.writeUint32LE(ne+u|0,t,28),Ii.writeUint32LE(j+f|0,t,32),Ii.writeUint32LE(w+h|0,t,36),Ii.writeUint32LE(m+g|0,t,40),Ii.writeUint32LE(d+y|0,t,44),Ii.writeUint32LE(p+v|0,t,48),Ii.writeUint32LE(_+T|0,t,52),Ii.writeUint32LE(N+k|0,t,56),Ii.writeUint32LE(E+C|0,t,60)}function AT(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var a=new Uint8Array(64),c=0;c<r.length;c+=64){yoe(a,s,t);for(var l=c;l<c+64&&l<r.length;l++)n[l]=r[l]^a[l-c];boe(s,0,o)}return z2.wipe(a),i===0&&z2.wipe(s),n}by.streamXOR=AT;function woe(t,e,r,n){return n===void 0&&(n=0),z2.wipe(r),AT(t,e,r,r,n)}by.stream=woe;function boe(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var IT={},fl={};Object.defineProperty(fl,"__esModule",{value:!0});function voe(t,e,r){return~(t-1)&e|t-1&r}fl.select=voe;function xoe(t,e){return(t|0)-(e|0)-1>>>31&1}fl.lessOrEqual=xoe;function kT(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}fl.compare=kT;function _oe(t,e){return t.length===0||e.length===0?!1:kT(t,e)!==0}fl.equal=_oe;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=fl,r=Cs;t.DIGEST_LENGTH=16;var n=function(){function o(a){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=a[0]|a[1]<<8;this._r[0]=c&8191;var l=a[2]|a[3]<<8;this._r[1]=(c>>>13|l<<3)&8191;var u=a[4]|a[5]<<8;this._r[2]=(l>>>10|u<<6)&7939;var f=a[6]|a[7]<<8;this._r[3]=(u>>>7|f<<9)&8191;var h=a[8]|a[9]<<8;this._r[4]=(f>>>4|h<<12)&255,this._r[5]=h>>>1&8190;var g=a[10]|a[11]<<8;this._r[6]=(h>>>14|g<<2)&8191;var y=a[12]|a[13]<<8;this._r[7]=(g>>>11|y<<5)&8065;var v=a[14]|a[15]<<8;this._r[8]=(y>>>8|v<<8)&8191,this._r[9]=v>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return o.prototype._blocks=function(a,c,l){for(var u=this._fin?0:2048,f=this._h[0],h=this._h[1],g=this._h[2],y=this._h[3],v=this._h[4],T=this._h[5],k=this._h[6],C=this._h[7],I=this._h[8],D=this._h[9],O=this._r[0],F=this._r[1],x=this._r[2],L=this._r[3],J=this._r[4],ne=this._r[5],j=this._r[6],w=this._r[7],m=this._r[8],d=this._r[9];l>=16;){var p=a[c+0]|a[c+1]<<8;f+=p&8191;var _=a[c+2]|a[c+3]<<8;h+=(p>>>13|_<<3)&8191;var N=a[c+4]|a[c+5]<<8;g+=(_>>>10|N<<6)&8191;var E=a[c+6]|a[c+7]<<8;y+=(N>>>7|E<<9)&8191;var S=a[c+8]|a[c+9]<<8;v+=(E>>>4|S<<12)&8191,T+=S>>>1&8191;var b=a[c+10]|a[c+11]<<8;k+=(S>>>14|b<<2)&8191;var R=a[c+12]|a[c+13]<<8;C+=(b>>>11|R<<5)&8191;var P=a[c+14]|a[c+15]<<8;I+=(R>>>8|P<<8)&8191,D+=P>>>5|u;var q=0,ue=q;ue+=f*O,ue+=h*(5*d),ue+=g*(5*m),ue+=y*(5*w),ue+=v*(5*j),q=ue>>>13,ue&=8191,ue+=T*(5*ne),ue+=k*(5*J),ue+=C*(5*L),ue+=I*(5*x),ue+=D*(5*F),q+=ue>>>13,ue&=8191;var $=q;$+=f*F,$+=h*O,$+=g*(5*d),$+=y*(5*m),$+=v*(5*w),q=$>>>13,$&=8191,$+=T*(5*j),$+=k*(5*ne),$+=C*(5*J),$+=I*(5*L),$+=D*(5*x),q+=$>>>13,$&=8191;var oe=q;oe+=f*x,oe+=h*F,oe+=g*O,oe+=y*(5*d),oe+=v*(5*m),q=oe>>>13,oe&=8191,oe+=T*(5*w),oe+=k*(5*j),oe+=C*(5*ne),oe+=I*(5*J),oe+=D*(5*L),q+=oe>>>13,oe&=8191;var ee=q;ee+=f*L,ee+=h*x,ee+=g*F,ee+=y*O,ee+=v*(5*d),q=ee>>>13,ee&=8191,ee+=T*(5*m),ee+=k*(5*w),ee+=C*(5*j),ee+=I*(5*ne),ee+=D*(5*J),q+=ee>>>13,ee&=8191;var H=q;H+=f*J,H+=h*L,H+=g*x,H+=y*F,H+=v*O,q=H>>>13,H&=8191,H+=T*(5*d),H+=k*(5*m),H+=C*(5*w),H+=I*(5*j),H+=D*(5*ne),q+=H>>>13,H&=8191;var K=q;K+=f*ne,K+=h*J,K+=g*L,K+=y*x,K+=v*F,q=K>>>13,K&=8191,K+=T*O,K+=k*(5*d),K+=C*(5*m),K+=I*(5*w),K+=D*(5*j),q+=K>>>13,K&=8191;var A=q;A+=f*j,A+=h*ne,A+=g*J,A+=y*L,A+=v*x,q=A>>>13,A&=8191,A+=T*F,A+=k*O,A+=C*(5*d),A+=I*(5*m),A+=D*(5*w),q+=A>>>13,A&=8191;var V=q;V+=f*w,V+=h*j,V+=g*ne,V+=y*J,V+=v*L,q=V>>>13,V&=8191,V+=T*x,V+=k*F,V+=C*O,V+=I*(5*d),V+=D*(5*m),q+=V>>>13,V&=8191;var se=q;se+=f*m,se+=h*w,se+=g*j,se+=y*ne,se+=v*J,q=se>>>13,se&=8191,se+=T*L,se+=k*x,se+=C*F,se+=I*O,se+=D*(5*d),q+=se>>>13,se&=8191;var X=q;X+=f*d,X+=h*m,X+=g*w,X+=y*j,X+=v*ne,q=X>>>13,X&=8191,X+=T*J,X+=k*L,X+=C*x,X+=I*F,X+=D*O,q+=X>>>13,X&=8191,q=(q<<2)+q|0,q=q+ue|0,ue=q&8191,q=q>>>13,$+=q,f=ue,h=$,g=oe,y=ee,v=H,T=K,k=A,C=V,I=se,D=X,c+=16,l-=16}this._h[0]=f,this._h[1]=h,this._h[2]=g,this._h[3]=y,this._h[4]=v,this._h[5]=T,this._h[6]=k,this._h[7]=C,this._h[8]=I,this._h[9]=D},o.prototype.finish=function(a,c){c===void 0&&(c=0);var l=new Uint16Array(10),u,f,h,g;if(this._leftover){for(g=this._leftover,this._buffer[g++]=1;g<16;g++)this._buffer[g]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(u=this._h[1]>>>13,this._h[1]&=8191,g=2;g<10;g++)this._h[g]+=u,u=this._h[g]>>>13,this._h[g]&=8191;for(this._h[0]+=u*5,u=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=u,u=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=u,l[0]=this._h[0]+5,u=l[0]>>>13,l[0]&=8191,g=1;g<10;g++)l[g]=this._h[g]+u,u=l[g]>>>13,l[g]&=8191;for(l[9]-=8192,f=(u^1)-1,g=0;g<10;g++)l[g]&=f;for(f=~f,g=0;g<10;g++)this._h[g]=this._h[g]&f|l[g];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,h=this._h[0]+this._pad[0],this._h[0]=h&65535,g=1;g<8;g++)h=(this._h[g]+this._pad[g]|0)+(h>>>16)|0,this._h[g]=h&65535;return a[c+0]=this._h[0]>>>0,a[c+1]=this._h[0]>>>8,a[c+2]=this._h[1]>>>0,a[c+3]=this._h[1]>>>8,a[c+4]=this._h[2]>>>0,a[c+5]=this._h[2]>>>8,a[c+6]=this._h[3]>>>0,a[c+7]=this._h[3]>>>8,a[c+8]=this._h[4]>>>0,a[c+9]=this._h[4]>>>8,a[c+10]=this._h[5]>>>0,a[c+11]=this._h[5]>>>8,a[c+12]=this._h[6]>>>0,a[c+13]=this._h[6]>>>8,a[c+14]=this._h[7]>>>0,a[c+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(a){var c=0,l=a.length,u;if(this._leftover){u=16-this._leftover,u>l&&(u=l);for(var f=0;f<u;f++)this._buffer[this._leftover+f]=a[c+f];if(l-=u,c+=u,this._leftover+=u,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(u=l-l%16,this._blocks(a,c,u),c+=u,l-=u),l){for(var f=0;f<l;f++)this._buffer[this._leftover+f]=a[c+f];this._leftover+=l}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},o.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o}();t.Poly1305=n;function i(o,a){var c=new n(o);c.update(a);var l=c.digest();return c.clean(),l}t.oneTimeAuth=i;function s(o,a){return o.length!==t.DIGEST_LENGTH||a.length!==t.DIGEST_LENGTH?!1:e.equal(o,a)}t.equal=s})(IT);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=by,r=IT,n=Cs,i=rr,s=fl;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var o=new Uint8Array(16),a=function(){function c(l){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,l.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(l)}return c.prototype.seal=function(l,u,f,h){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var g=new Uint8Array(16);g.set(l,g.length-l.length);var y=new Uint8Array(32);e.stream(this._key,g,y,4);var v=u.length+this.tagLength,T;if(h){if(h.length!==v)throw new Error("ChaCha20Poly1305: incorrect destination length");T=h}else T=new Uint8Array(v);return e.streamXOR(this._key,g,u,T,4),this._authenticate(T.subarray(T.length-this.tagLength,T.length),y,T.subarray(0,T.length-this.tagLength),f),n.wipe(g),T},c.prototype.open=function(l,u,f,h){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(u.length<this.tagLength)return null;var g=new Uint8Array(16);g.set(l,g.length-l.length);var y=new Uint8Array(32);e.stream(this._key,g,y,4);var v=new Uint8Array(this.tagLength);if(this._authenticate(v,y,u.subarray(0,u.length-this.tagLength),f),!s.equal(v,u.subarray(u.length-this.tagLength,u.length)))return null;var T=u.length-this.tagLength,k;if(h){if(h.length!==T)throw new Error("ChaCha20Poly1305: incorrect destination length");k=h}else k=new Uint8Array(T);return e.streamXOR(this._key,g,u.subarray(0,u.length-this.tagLength),k,4),n.wipe(g),k},c.prototype.clean=function(){return n.wipe(this._key),this},c.prototype._authenticate=function(l,u,f,h){var g=new r.Poly1305(u);h&&(g.update(h),h.length%16>0&&g.update(o.subarray(h.length%16))),g.update(f),f.length%16>0&&g.update(o.subarray(f.length%16));var y=new Uint8Array(8);h&&i.writeUint64LE(h.length,y),g.update(y),i.writeUint64LE(f.length,y),g.update(y);for(var v=g.digest(),T=0;T<v.length;T++)l[T]=v[T];g.clean(),n.wipe(v),n.wipe(y)},c}();t.ChaCha20Poly1305=a})(P_);var CT={},Hp={},T_={};Object.defineProperty(T_,"__esModule",{value:!0});function Soe(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}T_.isSerializableHash=Soe;Object.defineProperty(Hp,"__esModule",{value:!0});var Lo=T_,Eoe=fl,Aoe=Cs,RT=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),Lo.isSerializableHash(this._inner)&&Lo.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),Aoe.wipe(n)}return t.prototype.reset=function(){if(!Lo.isSerializableHash(this._inner)||!Lo.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){Lo.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Lo.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!Lo.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!Lo.isSerializableHash(this._inner)||!Lo.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!Lo.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();Hp.HMAC=RT;function Ioe(t,e,r){var n=new RT(t,e);n.update(r);var i=n.digest();return n.clean(),i}Hp.hmac=Ioe;Hp.equal=Eoe.equal;Object.defineProperty(CT,"__esModule",{value:!0});var s8=Hp,o8=Cs,koe=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=s8.hmac(this._hash,n,r);this._hmac=new s8.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),o8.wipe(this._buffer),o8.wipe(this._counter),this._bufpos=0},t}(),Coe=CT.HKDF=koe,Vp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=rr,r=Cs;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},a.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var u=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&l>0;)this._buffer[this._bufferLength++]=c[u++],l--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(u=s(this._temp,this._state,c,u,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[u++],l--;return this},a.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,u=this._bufferLength,f=l/536870912|0,h=l<<3,g=l%64<56?64:128;this._buffer[u]=128;for(var y=u+1;y<g-8;y++)this._buffer[y]=0;e.writeUint32BE(f,this._buffer,g-8),e.writeUint32BE(h,this._buffer,g-4),s(this._temp,this._state,this._buffer,0,g),this._finished=!0}for(var y=0;y<this.digestLength/4;y++)e.writeUint32BE(this._state[y],c,y*4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._state.set(c.state),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){r.wipe(c.state),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();t.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(a,c,l,u,f){for(;f>=64;){for(var h=c[0],g=c[1],y=c[2],v=c[3],T=c[4],k=c[5],C=c[6],I=c[7],D=0;D<16;D++){var O=u+D*4;a[D]=e.readUint32BE(l,O)}for(var D=16;D<64;D++){var F=a[D-2],x=(F>>>17|F<<15)^(F>>>19|F<<13)^F>>>10;F=a[D-15];var L=(F>>>7|F<<25)^(F>>>18|F<<14)^F>>>3;a[D]=(x+a[D-7]|0)+(L+a[D-16]|0)}for(var D=0;D<64;D++){var x=(((T>>>6|T<<26)^(T>>>11|T<<21)^(T>>>25|T<<7))+(T&k^~T&C)|0)+(I+(i[D]+a[D]|0)|0)|0,L=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&g^h&y^g&y)|0;I=C,C=k,k=T,T=v+x|0,v=y,y=g,g=h,h=x+L|0}c[0]+=h,c[1]+=g,c[2]+=y,c[3]+=v,c[4]+=T,c[5]+=k,c[6]+=C,c[7]+=I,u+=64,f-=64}return u}function o(a){var c=new n;c.update(a);var l=c.digest();return c.clean(),l}t.hash=o})(Vp);var N_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const e=ll,r=Cs;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(D){const O=new Float64Array(16);if(D)for(let F=0;F<D.length;F++)O[F]=D[F];return O}const i=new Uint8Array(32);i[0]=9;const s=n([56129,1]);function o(D){let O=1;for(let F=0;F<16;F++){let x=D[F]+O+65535;O=Math.floor(x/65536),D[F]=x-O*65536}D[0]+=O-1+37*(O-1)}function a(D,O,F){const x=~(F-1);for(let L=0;L<16;L++){const J=x&(D[L]^O[L]);D[L]^=J,O[L]^=J}}function c(D,O){const F=n(),x=n();for(let L=0;L<16;L++)x[L]=O[L];o(x),o(x),o(x);for(let L=0;L<2;L++){F[0]=x[0]-65517;for(let ne=1;ne<15;ne++)F[ne]=x[ne]-65535-(F[ne-1]>>16&1),F[ne-1]&=65535;F[15]=x[15]-32767-(F[14]>>16&1);const J=F[15]>>16&1;F[14]&=65535,a(x,F,1-J)}for(let L=0;L<16;L++)D[2*L]=x[L]&255,D[2*L+1]=x[L]>>8}function l(D,O){for(let F=0;F<16;F++)D[F]=O[2*F]+(O[2*F+1]<<8);D[15]&=32767}function u(D,O,F){for(let x=0;x<16;x++)D[x]=O[x]+F[x]}function f(D,O,F){for(let x=0;x<16;x++)D[x]=O[x]-F[x]}function h(D,O,F){let x,L,J=0,ne=0,j=0,w=0,m=0,d=0,p=0,_=0,N=0,E=0,S=0,b=0,R=0,P=0,q=0,ue=0,$=0,oe=0,ee=0,H=0,K=0,A=0,V=0,se=0,X=0,re=0,ce=0,be=0,Ee=0,Ae=0,Ve=0,De=F[0],qe=F[1],Te=F[2],et=F[3],We=F[4],Ze=F[5],ot=F[6],W=F[7],B=F[8],U=F[9],Q=F[10],le=F[11],he=F[12],ge=F[13],je=F[14],Je=F[15];x=O[0],J+=x*De,ne+=x*qe,j+=x*Te,w+=x*et,m+=x*We,d+=x*Ze,p+=x*ot,_+=x*W,N+=x*B,E+=x*U,S+=x*Q,b+=x*le,R+=x*he,P+=x*ge,q+=x*je,ue+=x*Je,x=O[1],ne+=x*De,j+=x*qe,w+=x*Te,m+=x*et,d+=x*We,p+=x*Ze,_+=x*ot,N+=x*W,E+=x*B,S+=x*U,b+=x*Q,R+=x*le,P+=x*he,q+=x*ge,ue+=x*je,$+=x*Je,x=O[2],j+=x*De,w+=x*qe,m+=x*Te,d+=x*et,p+=x*We,_+=x*Ze,N+=x*ot,E+=x*W,S+=x*B,b+=x*U,R+=x*Q,P+=x*le,q+=x*he,ue+=x*ge,$+=x*je,oe+=x*Je,x=O[3],w+=x*De,m+=x*qe,d+=x*Te,p+=x*et,_+=x*We,N+=x*Ze,E+=x*ot,S+=x*W,b+=x*B,R+=x*U,P+=x*Q,q+=x*le,ue+=x*he,$+=x*ge,oe+=x*je,ee+=x*Je,x=O[4],m+=x*De,d+=x*qe,p+=x*Te,_+=x*et,N+=x*We,E+=x*Ze,S+=x*ot,b+=x*W,R+=x*B,P+=x*U,q+=x*Q,ue+=x*le,$+=x*he,oe+=x*ge,ee+=x*je,H+=x*Je,x=O[5],d+=x*De,p+=x*qe,_+=x*Te,N+=x*et,E+=x*We,S+=x*Ze,b+=x*ot,R+=x*W,P+=x*B,q+=x*U,ue+=x*Q,$+=x*le,oe+=x*he,ee+=x*ge,H+=x*je,K+=x*Je,x=O[6],p+=x*De,_+=x*qe,N+=x*Te,E+=x*et,S+=x*We,b+=x*Ze,R+=x*ot,P+=x*W,q+=x*B,ue+=x*U,$+=x*Q,oe+=x*le,ee+=x*he,H+=x*ge,K+=x*je,A+=x*Je,x=O[7],_+=x*De,N+=x*qe,E+=x*Te,S+=x*et,b+=x*We,R+=x*Ze,P+=x*ot,q+=x*W,ue+=x*B,$+=x*U,oe+=x*Q,ee+=x*le,H+=x*he,K+=x*ge,A+=x*je,V+=x*Je,x=O[8],N+=x*De,E+=x*qe,S+=x*Te,b+=x*et,R+=x*We,P+=x*Ze,q+=x*ot,ue+=x*W,$+=x*B,oe+=x*U,ee+=x*Q,H+=x*le,K+=x*he,A+=x*ge,V+=x*je,se+=x*Je,x=O[9],E+=x*De,S+=x*qe,b+=x*Te,R+=x*et,P+=x*We,q+=x*Ze,ue+=x*ot,$+=x*W,oe+=x*B,ee+=x*U,H+=x*Q,K+=x*le,A+=x*he,V+=x*ge,se+=x*je,X+=x*Je,x=O[10],S+=x*De,b+=x*qe,R+=x*Te,P+=x*et,q+=x*We,ue+=x*Ze,$+=x*ot,oe+=x*W,ee+=x*B,H+=x*U,K+=x*Q,A+=x*le,V+=x*he,se+=x*ge,X+=x*je,re+=x*Je,x=O[11],b+=x*De,R+=x*qe,P+=x*Te,q+=x*et,ue+=x*We,$+=x*Ze,oe+=x*ot,ee+=x*W,H+=x*B,K+=x*U,A+=x*Q,V+=x*le,se+=x*he,X+=x*ge,re+=x*je,ce+=x*Je,x=O[12],R+=x*De,P+=x*qe,q+=x*Te,ue+=x*et,$+=x*We,oe+=x*Ze,ee+=x*ot,H+=x*W,K+=x*B,A+=x*U,V+=x*Q,se+=x*le,X+=x*he,re+=x*ge,ce+=x*je,be+=x*Je,x=O[13],P+=x*De,q+=x*qe,ue+=x*Te,$+=x*et,oe+=x*We,ee+=x*Ze,H+=x*ot,K+=x*W,A+=x*B,V+=x*U,se+=x*Q,X+=x*le,re+=x*he,ce+=x*ge,be+=x*je,Ee+=x*Je,x=O[14],q+=x*De,ue+=x*qe,$+=x*Te,oe+=x*et,ee+=x*We,H+=x*Ze,K+=x*ot,A+=x*W,V+=x*B,se+=x*U,X+=x*Q,re+=x*le,ce+=x*he,be+=x*ge,Ee+=x*je,Ae+=x*Je,x=O[15],ue+=x*De,$+=x*qe,oe+=x*Te,ee+=x*et,H+=x*We,K+=x*Ze,A+=x*ot,V+=x*W,se+=x*B,X+=x*U,re+=x*Q,ce+=x*le,be+=x*he,Ee+=x*ge,Ae+=x*je,Ve+=x*Je,J+=38*$,ne+=38*oe,j+=38*ee,w+=38*H,m+=38*K,d+=38*A,p+=38*V,_+=38*se,N+=38*X,E+=38*re,S+=38*ce,b+=38*be,R+=38*Ee,P+=38*Ae,q+=38*Ve,L=1,x=J+L+65535,L=Math.floor(x/65536),J=x-L*65536,x=ne+L+65535,L=Math.floor(x/65536),ne=x-L*65536,x=j+L+65535,L=Math.floor(x/65536),j=x-L*65536,x=w+L+65535,L=Math.floor(x/65536),w=x-L*65536,x=m+L+65535,L=Math.floor(x/65536),m=x-L*65536,x=d+L+65535,L=Math.floor(x/65536),d=x-L*65536,x=p+L+65535,L=Math.floor(x/65536),p=x-L*65536,x=_+L+65535,L=Math.floor(x/65536),_=x-L*65536,x=N+L+65535,L=Math.floor(x/65536),N=x-L*65536,x=E+L+65535,L=Math.floor(x/65536),E=x-L*65536,x=S+L+65535,L=Math.floor(x/65536),S=x-L*65536,x=b+L+65535,L=Math.floor(x/65536),b=x-L*65536,x=R+L+65535,L=Math.floor(x/65536),R=x-L*65536,x=P+L+65535,L=Math.floor(x/65536),P=x-L*65536,x=q+L+65535,L=Math.floor(x/65536),q=x-L*65536,x=ue+L+65535,L=Math.floor(x/65536),ue=x-L*65536,J+=L-1+37*(L-1),L=1,x=J+L+65535,L=Math.floor(x/65536),J=x-L*65536,x=ne+L+65535,L=Math.floor(x/65536),ne=x-L*65536,x=j+L+65535,L=Math.floor(x/65536),j=x-L*65536,x=w+L+65535,L=Math.floor(x/65536),w=x-L*65536,x=m+L+65535,L=Math.floor(x/65536),m=x-L*65536,x=d+L+65535,L=Math.floor(x/65536),d=x-L*65536,x=p+L+65535,L=Math.floor(x/65536),p=x-L*65536,x=_+L+65535,L=Math.floor(x/65536),_=x-L*65536,x=N+L+65535,L=Math.floor(x/65536),N=x-L*65536,x=E+L+65535,L=Math.floor(x/65536),E=x-L*65536,x=S+L+65535,L=Math.floor(x/65536),S=x-L*65536,x=b+L+65535,L=Math.floor(x/65536),b=x-L*65536,x=R+L+65535,L=Math.floor(x/65536),R=x-L*65536,x=P+L+65535,L=Math.floor(x/65536),P=x-L*65536,x=q+L+65535,L=Math.floor(x/65536),q=x-L*65536,x=ue+L+65535,L=Math.floor(x/65536),ue=x-L*65536,J+=L-1+37*(L-1),D[0]=J,D[1]=ne,D[2]=j,D[3]=w,D[4]=m,D[5]=d,D[6]=p,D[7]=_,D[8]=N,D[9]=E,D[10]=S,D[11]=b,D[12]=R,D[13]=P,D[14]=q,D[15]=ue}function g(D,O){h(D,O,O)}function y(D,O){const F=n();for(let x=0;x<16;x++)F[x]=O[x];for(let x=253;x>=0;x--)g(F,F),x!==2&&x!==4&&h(F,F,O);for(let x=0;x<16;x++)D[x]=F[x]}function v(D,O){const F=new Uint8Array(32),x=new Float64Array(80),L=n(),J=n(),ne=n(),j=n(),w=n(),m=n();for(let N=0;N<31;N++)F[N]=D[N];F[31]=D[31]&127|64,F[0]&=248,l(x,O);for(let N=0;N<16;N++)J[N]=x[N];L[0]=j[0]=1;for(let N=254;N>=0;--N){const E=F[N>>>3]>>>(N&7)&1;a(L,J,E),a(ne,j,E),u(w,L,ne),f(L,L,ne),u(ne,J,j),f(J,J,j),g(j,w),g(m,L),h(L,ne,L),h(ne,J,w),u(w,L,ne),f(L,L,ne),g(J,L),f(ne,j,m),h(L,ne,s),u(L,L,j),h(ne,ne,L),h(L,j,m),h(j,J,x),g(J,w),a(L,J,E),a(ne,j,E)}for(let N=0;N<16;N++)x[N+16]=L[N],x[N+32]=ne[N],x[N+48]=J[N],x[N+64]=j[N];const d=x.subarray(32),p=x.subarray(16);y(d,d),h(p,p,d);const _=new Uint8Array(32);return c(_,p),_}t.scalarMult=v;function T(D){return v(D,i)}t.scalarMultBase=T;function k(D){if(D.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const O=new Uint8Array(D);return{publicKey:T(O),secretKey:O}}t.generateKeyPairFromSeed=k;function C(D){const O=(0,e.randomBytes)(32,D),F=k(O);return(0,r.wipe)(O),F}t.generateKeyPair=C;function I(D,O,F=!1){if(D.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(O.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const x=v(D,O);if(F){let L=0;for(let J=0;J<x.length;J++)L|=x[J];if(L===0)throw new Error("X25519: invalid shared key")}return x}t.sharedKey=I})(N_);const Roe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Poe={};const PT=":";function kg(t){const[e,r]=t.split(PT);return{namespace:e,reference:r}}function TT(t){const[e,r,n]=t.split(PT);return{namespace:e,reference:r,address:n}}function NT(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)}),r}function MT(t,e){return t.includes(":")?[t]:e.chains||[]}var Toe=Object.defineProperty,a8=Object.getOwnPropertySymbols,Noe=Object.prototype.hasOwnProperty,Moe=Object.prototype.propertyIsEnumerable,c8=(t,e,r)=>e in t?Toe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,l8=(t,e)=>{for(var r in e||(e={}))Noe.call(e,r)&&c8(t,r,e[r]);if(a8)for(var r of a8(e))Moe.call(e,r)&&c8(t,r,e[r]);return t};const Ooe="ReactNative",vs={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Loe="js";function U1(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function xd(){return!Wp()&&!!__()&&navigator.product===Ooe}function Gp(){return!U1()&&!!__()&&!!Wp()}function Yp(){return xd()?vs.reactNative:U1()?vs.node:Gp()?vs.browser:vs.unknown}function Doe(){var t;try{return xd()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Application)<"u"?(t=globalThis.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Boe(t,e){let r=pp.parse(t);return r=l8(l8({},r),e),t=pp.stringify(r),t}function OT(){return gT()||{name:"",description:"",url:"",icons:[""]}}function $oe(){if(Yp()===vs.reactNative&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"){const{OS:r,Version:n}=globalThis.Platform;return[r,n].join("-")}const t=hse();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Uoe(){var t;const e=Yp();return e===vs.browser?[e,((t=pT())==null?void 0:t.host)||"unknown"].join(":"):e}function LT(t,e,r){const n=$oe(),i=Uoe();return[[t,e].join("-"),[Loe,r].join("-"),n,i].join("/")}function Foe({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a}){const c=r.split("?"),l=LT(t,e,n),u={auth:i,ua:l,projectId:s,useOnCloseEvent:o||void 0,origin:a||void 0},f=Boe(c[1]||"",u);return c[0]+"?"+f}function Bl(t,e){return t.filter(r=>e.includes(r)).length===t.length}function DT(t){return Object.fromEntries(t.entries())}function BT(t){return new Map(Object.entries(t))}function El(t=ft.FIVE_MINUTES,e){const r=ft.toMiliseconds(t||ft.FIVE_MINUTES);let n,i,s;return{resolve:o=>{s&&n&&(clearTimeout(s),n(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,a)=>{s=setTimeout(()=>{a(new Error(e))},r),n=o,i=a})}}function Af(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function $T(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function joe(t){return $T("topic",t)}function zoe(t){return $T("id",t)}function UT(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Mn(t,e){return ft.fromMiliseconds(Date.now()+ft.toMiliseconds(t))}function wc(t){return Date.now()>=ft.toMiliseconds(t)}function lr(t,e){return`${t}${e?`:${e}`:""}`}function qoe(t=[],e=[]){return[...new Set([...t,...e])]}async function Koe({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=Woe(s,t,e),a=Yp();if(a===vs.browser){if(!((n=Wp())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}o.startsWith("https://")||o.startsWith("http://")?window.open(o,"_blank","noreferrer noopener"):window.open(o,Voe()?"_blank":"_self","noreferrer noopener")}else a===vs.reactNative&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"&&await globalThis.Linking.openURL(o)}catch(i){console.error(i)}}function Woe(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Goe(n,!0)}`}else i=`${i}/wc?${n}`;return i}async function Hoe(t,e){let r="";try{if(Gp()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function u8(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function f8(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function M_(){return typeof process<"u"&&Poe.IS_VITEST==="true"}function Voe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Goe(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function FT(t){return Buffer.from(t,"base64").toString("utf-8")}const Yoe="https://rpc.walletconnect.org/v1";async function Joe(t,e,r,n,i,s){switch(r.t){case"eip191":return Xoe(t,e,r.s);case"eip1271":return await Zoe(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function Xoe(t,e,r){return goe(vT(e),r).toLowerCase()===t.toLowerCase()}async function Zoe(t,e,r,n,i,s){const o=kg(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",u=r.substring(2),f=vT(e).substring(2),h=a+f+c+l+u,g=await fetch(`${s||Yoe}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:Qoe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:y}=await g.json();return y?y.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Qoe(){return Date.now()+Math.floor(Math.random()*1e3)}var eae=Object.defineProperty,tae=Object.defineProperties,rae=Object.getOwnPropertyDescriptors,d8=Object.getOwnPropertySymbols,nae=Object.prototype.hasOwnProperty,iae=Object.prototype.propertyIsEnumerable,h8=(t,e,r)=>e in t?eae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sae=(t,e)=>{for(var r in e||(e={}))nae.call(e,r)&&h8(t,r,e[r]);if(d8)for(var r of d8(e))iae.call(e,r)&&h8(t,r,e[r]);return t},oae=(t,e)=>tae(t,rae(e));const aae="did:pkh:",O_=t=>t==null?void 0:t.split(":"),cae=t=>{const e=t&&O_(t);if(e)return t.includes(aae)?e[3]:e[1]},q2=t=>{const e=t&&O_(t);if(e)return e[2]+":"+e[3]},F1=t=>{const e=t&&O_(t);if(e)return e.pop()};async function p8(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=jT(i,i.iss),o=F1(i.iss);return await Joe(o,s,n,q2(i.iss),r)}const jT=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=F1(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${cae(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,g=t.resources?`Resources:${t.resources.map(v=>`
- ${v}`).join("")}`:void 0,y=Cg(t.resources);if(y){const v=gp(y);i=yae(i,v)}return[r,n,"",i,"",s,o,a,c,l,u,f,h,g].filter(v=>v!=null).join(`
`)};function lae(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function uae(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function hu(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function fae(t,e,r,n={}){return r==null||r.sort((i,s)=>i.localeCompare(s)),{att:{[t]:dae(e,r,n)}}}function dae(t,e,r={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function zT(t){return hu(t),`urn:recap:${lae(t).replace(/=/g,"")}`}function gp(t){const e=uae(t.replace("urn:recap:",""));return hu(e),e}function hae(t,e,r){const n=fae(t,e,r);return zT(n)}function pae(t){return t&&t.includes("urn:recap:")}function gae(t,e){const r=gp(t),n=gp(e),i=mae(r,n);return zT(i)}function mae(t,e){hu(t),hu(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;n.att[i]=oae(sae({},n.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),n}function yae(t="",e){hu(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,h)=>f.action.localeCompare(h.action));const l={};c.forEach(f=>{l[f.ability]||(l[f.ability]=[]),l[f.ability].push(f.action)});const u=Object.keys(l).map(f=>(i++,`(${i}) '${f}': '${l[f].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function g8(t){var e;const r=gp(t);hu(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function m8(t){const e=gp(t);hu(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function Cg(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return pae(e)?e:void 0}const qT="base10",Ui="base16",Nc="base64pad",Gd="base64url",Jp="utf8",KT=0,qa=1,Xp=2,wae=0,y8=1,kh=12,L_=32;function bae(){const t=N_.generateKeyPair();return{privateKey:Xn(t.secretKey,Ui),publicKey:Xn(t.publicKey,Ui)}}function K2(){const t=ll.randomBytes(L_);return Xn(t,Ui)}function vae(t,e){const r=N_.sharedKey(Gn(t,Ui),Gn(e,Ui),!0),n=new Coe(Vp.SHA256,r).expand(L_);return Xn(n,Ui)}function Rg(t){const e=Vp.hash(Gn(t,Ui));return Xn(e,Ui)}function Ta(t){const e=Vp.hash(Gn(t,Jp));return Xn(e,Ui)}function WT(t){return Gn(`${t}`,qT)}function pu(t){return Number(Xn(t,qT))}function xae(t){const e=WT(typeof t.type<"u"?t.type:KT);if(pu(e)===qa&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?Gn(t.senderPublicKey,Ui):void 0,n=typeof t.iv<"u"?Gn(t.iv,Ui):ll.randomBytes(kh),i=new P_.ChaCha20Poly1305(Gn(t.symKey,Ui)).seal(n,Gn(t.message,Jp));return HT({type:e,sealed:i,iv:n,senderPublicKey:r,encoding:t.encoding})}function _ae(t,e){const r=WT(Xp),n=ll.randomBytes(kh),i=Gn(t,Jp);return HT({type:r,sealed:i,iv:n,encoding:e})}function Sae(t){const e=new P_.ChaCha20Poly1305(Gn(t.symKey,Ui)),{sealed:r,iv:n}=mp({encoded:t.encoded,encoding:t==null?void 0:t.encoding}),i=e.open(n,r);if(i===null)throw new Error("Failed to decrypt");return Xn(i,Jp)}function Eae(t,e){const{sealed:r}=mp({encoded:t,encoding:e});return Xn(r,Jp)}function HT(t){const{encoding:e=Nc}=t;if(pu(t.type)===Xp)return Xn(Sg([t.type,t.sealed]),e);if(pu(t.type)===qa){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Xn(Sg([t.type,t.senderPublicKey,t.iv,t.sealed]),e)}return Xn(Sg([t.type,t.iv,t.sealed]),e)}function mp(t){const{encoded:e,encoding:r=Nc}=t,n=Gn(e,r),i=n.slice(wae,y8),s=y8;if(pu(i)===qa){const l=s+L_,u=l+kh,f=n.slice(s,l),h=n.slice(l,u),g=n.slice(u);return{type:i,sealed:g,iv:h,senderPublicKey:f}}if(pu(i)===Xp){const l=n.slice(s),u=ll.randomBytes(kh);return{type:i,sealed:l,iv:u}}const o=s+kh,a=n.slice(s,o),c=n.slice(o);return{type:i,sealed:c,iv:a}}function Aae(t,e){const r=mp({encoded:t,encoding:e==null?void 0:e.encoding});return VT({type:pu(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Xn(r.senderPublicKey,Ui):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function VT(t){const e=(t==null?void 0:t.type)||KT;if(e===qa){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function w8(t){return t.type===qa&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function b8(t){return t.type===Xp}function Iae(t){return new hm.ec("p256").keyFromPublic({x:Buffer.from(t.x,"base64").toString("hex"),y:Buffer.from(t.y,"base64").toString("hex")},"hex")}function kae(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");const r=e.length%4;return r>0&&(e+="=".repeat(4-r)),e}function Cae(t){return Buffer.from(kae(t),"base64")}function Rae(t,e){const[r,n,i]=t.split("."),s=Cae(i);if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),c=`${r}.${n}`,l=new Vp.SHA256().update(Buffer.from(c)).digest(),u=Iae(e),f=Buffer.from(l).toString("hex");if(!u.verify(f,{r:o,s:a}))throw new Error("Invalid signature");return B2(t).payload}const Pae="irn";function W2(t){return(t==null?void 0:t.relay)||{protocol:Pae}}function lh(t){const e=Roe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Tae=Object.defineProperty,Nae=Object.defineProperties,Mae=Object.getOwnPropertyDescriptors,v8=Object.getOwnPropertySymbols,Oae=Object.prototype.hasOwnProperty,Lae=Object.prototype.propertyIsEnumerable,x8=(t,e,r)=>e in t?Tae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_8=(t,e)=>{for(var r in e||(e={}))Oae.call(e,r)&&x8(t,r,e[r]);if(v8)for(var r of v8(e))Lae.call(e,r)&&x8(t,r,e[r]);return t},Dae=(t,e)=>Nae(t,Mae(e));function Bae(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function S8(t){if(!t.includes("wc:")){const c=FT(t);c!=null&&c.includes("wc:")&&(t=c)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=pp.parse(s),a=typeof o.methods=="string"?o.methods.split(","):void 0;return{protocol:n,topic:$ae(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:Bae(o),methods:a,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function $ae(t){return t.startsWith("//")?t.substring(2):t}function Uae(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=r+e+i;t[i]&&(n[s]=t[i])}),n}function E8(t){return`${t.protocol}:${t.topic}@${t.version}?`+pp.stringify(_8(Dae(_8({symKey:t.symKey},Uae(t.relay)),{expiryTimestamp:t.expiryTimestamp}),t.methods?{methods:t.methods.join(",")}:{}))}function W0(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}function _d(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function Fae(t){const e=[];return Object.values(t).forEach(r=>{e.push(..._d(r.accounts))}),e}function jae(t,e){const r=[];return Object.values(t).forEach(n=>{_d(n.accounts).includes(e)&&r.push(...n.methods)}),r}function zae(t,e){const r=[];return Object.values(t).forEach(n=>{_d(n.accounts).includes(e)&&r.push(...n.events)}),r}function qae(t){const e={};return t==null||t.forEach(r=>{const[n,i]=r.split(":");e[n]||(e[n]={accounts:[],chains:[],events:[]}),e[n].accounts.push(r),e[n].chains.push(`${n}:${i}`)}),e}function A8(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=qae(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=qoe(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}const Kae={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Wae={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function it(t,e){const{message:r,code:n}=Wae[t];return{message:e?`${r} ${e}`:r,code:n}}function Nr(t,e){const{message:r,code:n}=Kae[t];return{message:e?`${r} ${e}`:r,code:n}}function Sd(t,e){return!!Array.isArray(t)}function j1(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Zi(t){return typeof t>"u"}function Sn(t,e){return e&&Zi(t)?!0:typeof t=="string"&&!!t.trim().length}function D_(t,e){return typeof t=="number"&&!isNaN(t)}function Hae(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return Bl(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=_d(a),f=r[o];(!Bl(MT(o,f),u)||!Bl(f.methods,c)||!Bl(f.events,l))&&(s=!1)}),s):!1}function z1(t){return Sn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Vae(t){if(Sn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&z1(r)}}return!1}function Gae(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Sn(t,!1)){if(e(t))return!0;const r=FT(t);return e(r)}}catch{}return!1}function Yae(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Jae(t){return t==null?void 0:t.topic}function Xae(t,e){let r=null;return Sn(t==null?void 0:t.publicKey,!1)||(r=it("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function I8(t){let e=!0;return Sd(t)?t.length&&(e=t.every(r=>Sn(r,!1))):e=!1,e}function Zae(t,e,r){let n=null;return Sd(e)&&e.length?e.forEach(i=>{n||z1(i)||(n=Nr("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):z1(t)||(n=Nr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Qae(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=Zae(i,MT(i,s),`${e} ${r}`);o&&(n=o)}),n}function ece(t,e){let r=null;return Sd(t)?t.forEach(n=>{r||Vae(n)||(r=Nr("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Nr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function tce(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=ece(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function rce(t,e){let r=null;return I8(t==null?void 0:t.methods)?I8(t==null?void 0:t.events)||(r=Nr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Nr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function GT(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=rce(n,`${e}, namespace`);i&&(r=i)}),r}function nce(t,e,r){let n=null;if(t&&j1(t)){const i=GT(t,e);i&&(n=i);const s=Qae(t,e,r);s&&(n=s)}else n=it("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function Ab(t,e){let r=null;if(t&&j1(t)){const n=GT(t,e);n&&(r=n);const i=tce(t,e);i&&(r=i)}else r=it("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function YT(t){return Sn(t.protocol,!0)}function ice(t,e){let r=!1;return t?t&&Sd(t)&&t.length&&t.forEach(n=>{r=YT(n)}):r=!0,r}function sce(t){return typeof t=="number"}function Hi(t){return typeof t<"u"&&typeof t!==null}function oce(t){return!(!t||typeof t!="object"||!t.code||!D_(t.code)||!t.message||!Sn(t.message,!1))}function ace(t){return!(Zi(t)||!Sn(t.method,!1))}function cce(t){return!(Zi(t)||Zi(t.result)&&Zi(t.error)||!D_(t.id)||!Sn(t.jsonrpc,!1))}function lce(t){return!(Zi(t)||!Sn(t.name,!1))}function k8(t,e){return!(!z1(e)||!Fae(t).includes(e))}function uce(t,e,r){return Sn(r,!1)?jae(t,e).includes(r):!1}function fce(t,e,r){return Sn(r,!1)?zae(t,e).includes(r):!1}function C8(t,e,r){let n=null;const i=dce(t),s=hce(e),o=Object.keys(i),a=Object.keys(s),c=R8(Object.keys(t)),l=R8(Object.keys(e)),u=c.filter(f=>!l.includes(f));return u.length&&(n=it("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Bl(o,a)||(n=it("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;const h=_d(e[f].accounts);h.includes(f)||(n=it("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${h.toString()}`))}),o.forEach(f=>{n||(Bl(i[f].methods,s[f].methods)?Bl(i[f].events,s[f].events)||(n=it("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=it("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function dce(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function R8(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function hce(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=_d(t[r].accounts);n==null||n.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function pce(t,e){return D_(t)&&t<=e.max&&t>=e.min}function P8(){const t=Yp();return new Promise(e=>{switch(t){case vs.browser:e(gce());break;case vs.reactNative:e(mce());break;case vs.node:e(yce());break;default:e(!0)}})}function gce(){return Gp()&&(navigator==null?void 0:navigator.onLine)}async function mce(){if(xd()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo){const t=await(globalThis==null?void 0:globalThis.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function yce(){return!0}function wce(t){switch(Yp()){case vs.browser:bce(t);break;case vs.reactNative:vce(t);break}}function bce(t){!xd()&&Gp()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function vce(t){xd()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&(globalThis==null||globalThis.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const Ib={};class Yd{static get(e){return Ib[e]}static set(e,r){Ib[e]=r}static delete(e){delete Ib[e]}}const xce="PARSE_ERROR",_ce="INVALID_REQUEST",Sce="METHOD_NOT_FOUND",Ece="INVALID_PARAMS",JT="INTERNAL_ERROR",B_="SERVER_ERROR",Ace=[-32700,-32600,-32601,-32602,-32603],Ch={[xce]:{code:-32700,message:"Parse error"},[_ce]:{code:-32600,message:"Invalid Request"},[Sce]:{code:-32601,message:"Method not found"},[Ece]:{code:-32602,message:"Invalid params"},[JT]:{code:-32603,message:"Internal error"},[B_]:{code:-32e3,message:"Server error"}},XT=B_;function Ice(t){return Ace.includes(t)}function T8(t){return Object.keys(Ch).includes(t)?Ch[t]:Ch[XT]}function kce(t){const e=Object.values(Ch).find(r=>r.code===t);return e||Ch[XT]}function Cce(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var ZT={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var H2=function(t,e){return H2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},H2(t,e)};function Rce(t,e){H2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var V2=function(){return V2=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},V2.apply(this,arguments)};function Pce(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Tce(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Nce(t,e){return function(r,n){e(r,n,t)}}function Mce(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Oce(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function Lce(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Dce(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Bce(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function G2(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function QT(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function $ce(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(QT(arguments[e]));return t}function Uce(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function yp(t){return this instanceof yp?(this.v=t,this):new yp(t)}function Fce(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(g){return new Promise(function(y,v){s.push([h,g,y,v])>1||a(h,g)})})}function a(h,g){try{c(n[h](g))}catch(y){f(s[0][3],y)}}function c(h){h.value instanceof yp?Promise.resolve(h.value.v).then(l,u):f(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function f(h,g){h(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function jce(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:yp(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function zce(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof G2=="function"?G2(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function qce(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Kce(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Wce(t){return t&&t.__esModule?t:{default:t}}function Hce(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Vce(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const Gce=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return V2},__asyncDelegator:jce,__asyncGenerator:Fce,__asyncValues:zce,__await:yp,__awaiter:Oce,__classPrivateFieldGet:Hce,__classPrivateFieldSet:Vce,__createBinding:Dce,__decorate:Tce,__exportStar:Bce,__extends:Rce,__generator:Lce,__importDefault:Wce,__importStar:Kce,__makeTemplateObject:qce,__metadata:Mce,__param:Nce,__read:QT,__rest:Pce,__spread:$ce,__spreadArrays:Uce,__values:G2},Symbol.toStringTag,{value:"Module"})),Yce=wp(Gce);var Sa={},N8;function Jce(){if(N8)return Sa;N8=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.isBrowserCryptoAvailable=Sa.getSubtleCrypto=Sa.getBrowerCrypto=void 0;function t(){return(globalThis==null?void 0:globalThis.crypto)||(globalThis==null?void 0:globalThis.msCrypto)||{}}Sa.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}Sa.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return Sa.isBrowserCryptoAvailable=r,Sa}var Ea={},M8;function Xce(){if(M8)return Ea;M8=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.isBrowser=Ea.isNode=Ea.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Ea.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Ea.isNode=e;function r(){return!t()&&!e()}return Ea.isBrowser=r,Ea}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Yce;e.__exportStar(Jce(),t),e.__exportStar(Xce(),t)})(ZT);function bc(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function $l(t=6){return BigInt(bc(t))}function Ul(t,e,r){return{id:r||bc(),jsonrpc:"2.0",method:t,params:e}}function $_(t,e){return{id:t,jsonrpc:"2.0",result:e}}function U_(t,e,r){return{id:t,jsonrpc:"2.0",error:Zce(e)}}function Zce(t,e){return typeof t>"u"?T8(JT):(typeof t=="string"&&(t=Object.assign(Object.assign({},T8(B_)),{message:t})),Ice(t.code)&&(t=kce(t.code)),t)}class Qce{}class ele extends Qce{constructor(){super()}}class tle extends ele{constructor(e){super()}}const rle="^wss?:";function nle(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function ile(t,e){const r=nle(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function O8(t){return ile(t,rle)}function sle(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function eN(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function F_(t){return eN(t)&&"method"in t}function vy(t){return eN(t)&&(jo(t)||$s(t))}function jo(t){return"result"in t}function $s(t){return"error"in t}class ole extends tle{constructor(e){super(e),this.events=new hi.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Ul(e.method,e.params||[],e.id||$l().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{$s(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),vy(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const ale=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),cle=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",L8=t=>t.split("?")[0],D8=10,lle=ale();let ule=class{constructor(e){if(this.url=e,this.events=new hi.EventEmitter,this.registering=!1,!O8(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(du(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!O8(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=new URLSearchParams(e).get("origin"),s=ZT.isReactNative()?{headers:{origin:i}}:{rejectUnauthorized:!sle(e)},o=new lle(e,[],s);cle()?o.onerror=a=>{const c=a;n(this.emitError(c.error))}:o.on("error",a=>{n(this.emitError(a))}),o.onopen=()=>{this.onOpen(o),r(o)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Vf(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=U_(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return Cce(e,L8(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>D8&&this.events.setMaxListeners(D8)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${L8(this.url)}`));return this.events.emit("register_error",r),r}};const tN="wc",rN=2,j_="core",ha=`${tN}@2:${j_}:`,fle={name:j_,logger:"error"},dle={database:":memory:"},hle="crypto",B8="client_ed25519_seed",ple=ft.ONE_DAY,gle="keychain",mle="0.3",yle="messages",wle="0.3",ble=ft.SIX_HOURS,vle="publisher",nN="irn",xle="error",iN="wss://relay.walletconnect.org",_le="relayer",Di={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Sle="_subscription",Ms={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Ele=.1,Y2="2.17.1",jr={link_mode:"link_mode",relay:"relay"},Ale="0.3",Ile="WALLETCONNECT_CLIENT_ID",$8="WALLETCONNECT_LINK_MODE_APPS",zo={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},kle="subscription",Cle="0.3",Rle=ft.FIVE_SECONDS*1e3,Ple="pairing",Tle="0.3",Jd={wc_pairingDelete:{req:{ttl:ft.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ft.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ft.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ft.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ft.ONE_DAY,prompt:!1,tag:0},res:{ttl:ft.ONE_DAY,prompt:!1,tag:0}}},Rl={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ao={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Nle="history",Mle="0.3",Ole="expirer",Os={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Lle="0.3",Dle="verify-api",Ble="https://verify.walletconnect.com",sN="https://verify.walletconnect.org",Rh=sN,$le=`${Rh}/v3`,Ule=[Ble,sN],Fle="echo",jle="https://echo.walletconnect.com",$o={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ka={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},co={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},bl={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},vl={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},Xd={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},zle=.1,qle="event-client",Kle=86400,Wle="https://pulse.walletconnect.org/batch";function Hle(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var v=0,T=0,k=0,C=y.length;k!==C&&y[k]===0;)k++,v++;for(var I=(C-k)*u+1>>>0,D=new Uint8Array(I);k!==C;){for(var O=y[k],F=0,x=I-1;(O!==0||F<T)&&x!==-1;x--,F++)O+=256*D[x]>>>0,D[x]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");T=F,k++}for(var L=I-T;L!==I&&D[L]===0;)L++;for(var J=c.repeat(v);L<I;++L)J+=t.charAt(D[L]);return J}function h(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var v=0;if(y[v]!==" "){for(var T=0,k=0;y[v]===c;)T++,v++;for(var C=(y.length-v)*l+1>>>0,I=new Uint8Array(C);y[v];){var D=r[y.charCodeAt(v)];if(D===255)return;for(var O=0,F=C-1;(D!==0||O<k)&&F!==-1;F--,O++)D+=a*I[F]>>>0,I[F]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");k=O,v++}if(y[v]!==" "){for(var x=C-k;x!==C&&I[x]===0;)x++;for(var L=new Uint8Array(T+(C-x)),J=T;x!==C;)L[J++]=I[x++];return L}}}function g(y){var v=h(y);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:g}}var Vle=Hle,Gle=Vle;const oN=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Yle=t=>new TextEncoder().encode(t),Jle=t=>new TextDecoder().decode(t);class Xle{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Zle{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return aN(this,e)}}class Qle{constructor(e){this.decoders=e}or(e){return aN(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const aN=(t,e)=>new Qle({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class eue{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Xle(e,r,n),this.decoder=new Zle(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const xy=({name:t,prefix:e,encode:r,decode:n})=>new eue(t,e,r,n),Zp=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Gle(r,e);return xy({prefix:t,name:e,encode:n,decode:s=>oN(i(s))})},tue=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},rue=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},yi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>xy({prefix:e,name:t,encode(i){return rue(i,n,r)},decode(i){return tue(i,n,r,t)}}),nue=xy({prefix:"\0",name:"identity",encode:t=>Jle(t),decode:t=>Yle(t)});var iue=Object.freeze({__proto__:null,identity:nue});const sue=yi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var oue=Object.freeze({__proto__:null,base2:sue});const aue=yi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var cue=Object.freeze({__proto__:null,base8:aue});const lue=Zp({prefix:"9",name:"base10",alphabet:"0123456789"});var uue=Object.freeze({__proto__:null,base10:lue});const fue=yi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),due=yi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var hue=Object.freeze({__proto__:null,base16:fue,base16upper:due});const pue=yi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gue=yi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),mue=yi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),yue=yi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),wue=yi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),bue=yi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vue=yi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),xue=yi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_ue=yi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Sue=Object.freeze({__proto__:null,base32:pue,base32upper:gue,base32pad:mue,base32padupper:yue,base32hex:wue,base32hexupper:bue,base32hexpad:vue,base32hexpadupper:xue,base32z:_ue});const Eue=Zp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Aue=Zp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Iue=Object.freeze({__proto__:null,base36:Eue,base36upper:Aue});const kue=Zp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Cue=Zp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Rue=Object.freeze({__proto__:null,base58btc:kue,base58flickr:Cue});const Pue=yi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Tue=yi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Nue=yi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Mue=yi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Oue=Object.freeze({__proto__:null,base64:Pue,base64pad:Tue,base64url:Nue,base64urlpad:Mue});const cN=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Lue=cN.reduce((t,e,r)=>(t[r]=e,t),[]),Due=cN.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Bue(t){return t.reduce((e,r)=>(e+=Lue[r],e),"")}function $ue(t){const e=[];for(const r of t){const n=Due[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Uue=xy({prefix:"🚀",name:"base256emoji",encode:Bue,decode:$ue});var Fue=Object.freeze({__proto__:null,base256emoji:Uue}),jue=lN,U8=128,zue=127,que=~zue,Kue=Math.pow(2,31);function lN(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Kue;)e[r++]=t&255|U8,t/=128;for(;t&que;)e[r++]=t&255|U8,t>>>=7;return e[r]=t|0,lN.bytes=r-n+1,e}var Wue=J2,Hue=128,F8=127;function J2(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw J2.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&F8)<<i:(o&F8)*Math.pow(2,i),i+=7}while(o>=Hue);return J2.bytes=s-n,r}var Vue=Math.pow(2,7),Gue=Math.pow(2,14),Yue=Math.pow(2,21),Jue=Math.pow(2,28),Xue=Math.pow(2,35),Zue=Math.pow(2,42),Que=Math.pow(2,49),efe=Math.pow(2,56),tfe=Math.pow(2,63),rfe=function(t){return t<Vue?1:t<Gue?2:t<Yue?3:t<Jue?4:t<Xue?5:t<Zue?6:t<Que?7:t<efe?8:t<tfe?9:10},nfe={encode:jue,decode:Wue,encodingLength:rfe},uN=nfe;const j8=(t,e,r=0)=>(uN.encode(t,e,r),e),z8=t=>uN.encodingLength(t),X2=(t,e)=>{const r=e.byteLength,n=z8(t),i=n+z8(r),s=new Uint8Array(i+r);return j8(t,s,0),j8(r,s,n),s.set(e,i),new ife(t,r,e,s)};class ife{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const fN=({name:t,code:e,encode:r})=>new sfe(t,e,r);class sfe{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?X2(this.code,r):r.then(n=>X2(this.code,n))}else throw Error("Unknown type, must be binary type")}}const dN=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),ofe=fN({name:"sha2-256",code:18,encode:dN("SHA-256")}),afe=fN({name:"sha2-512",code:19,encode:dN("SHA-512")});var cfe=Object.freeze({__proto__:null,sha256:ofe,sha512:afe});const hN=0,lfe="identity",pN=oN,ufe=t=>X2(hN,pN(t)),ffe={code:hN,name:lfe,encode:pN,digest:ufe};var dfe=Object.freeze({__proto__:null,identity:ffe});new TextEncoder,new TextDecoder;const q8={...iue,...oue,...cue,...uue,...hue,...Sue,...Iue,...Rue,...Oue,...Fue};({...cfe,...dfe});function hfe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function gN(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const K8=gN("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),kb=gN("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=hfe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),pfe={utf8:K8,"utf-8":K8,hex:q8.base16,latin1:kb,ascii:kb,binary:kb,...q8};function gfe(t,e="utf8"){const r=pfe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}class mfe{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=gle,this.version=mle,this.initialized=!1,this.storagePrefix=ha,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=it("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=Ki(r,this.name)}get context(){return cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,DT(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?BT(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}}class yfe{constructor(e,r,n){this.core=e,this.logger=r,this.name=hle,this.randomSessionIdentifier=K2(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),s=F4(i);return hT(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=bae();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const s=await this.getClientSeed(),o=F4(s),a=this.randomSessionIdentifier;return await ise(a,i,ple,o)},this.generateSharedKey=(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=vae(a,s);return this.setSymKey(c,o)},this.setSymKey=async(i,s)=>{this.isInitialized();const o=s||Rg(i);return await this.keychain.set(o,i),o},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,o)=>{this.isInitialized();const a=VT(o),c=du(s);if(b8(a))return _ae(c,o==null?void 0:o.encoding);if(w8(a)){const h=a.senderPublicKey,g=a.receiverPublicKey;i=await this.generateSharedKey(h,g)}const l=this.getSymKey(i),{type:u,senderPublicKey:f}=a;return xae({type:u,symKey:l,message:c,senderPublicKey:f,encoding:o==null?void 0:o.encoding})},this.decode=async(i,s,o)=>{this.isInitialized();const a=Aae(s,o);if(b8(a)){const c=Eae(s,o==null?void 0:o.encoding);return Vf(c)}if(w8(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=Sae({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return Vf(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}},this.getPayloadType=(i,s=Nc)=>{const o=mp({encoded:i,encoding:s});return pu(o.type)},this.getPayloadSenderPublicKey=(i,s=Nc)=>{const o=mp({encoded:i,encoding:s});return o.senderPublicKey?Xn(o.senderPublicKey,Ui):void 0},this.core=e,this.logger=Ki(r,this.name),this.keychain=n||new mfe(this.core,this.logger)}get context(){return cs(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(B8)}catch{e=K2(),await this.keychain.set(B8,e)}return gfe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}}class wfe extends dne{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=yle,this.version=wle,this.initialized=!1,this.storagePrefix=ha,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();const s=Ta(i);let o=this.messages.get(n);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=i,this.messages.set(n,o),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();const s=this.get(n),o=Ta(i);return typeof s[o]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=Ki(e,this.name),this.core=r}get context(){return cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,DT(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?BT(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}}class bfe extends hne{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new hi.EventEmitter,this.name=vle,this.queue=new Map,this.publishTimeout=ft.toMiliseconds(ft.ONE_MINUTE),this.failedPublishTimeout=ft.toMiliseconds(ft.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||ble,c=W2(s),l=(s==null?void 0:s.prompt)||!1,u=(s==null?void 0:s.tag)||0,f=(s==null?void 0:s.id)||$l().toString(),h={topic:n,message:i,opts:{ttl:a,relay:c,prompt:l,tag:u,id:f,attestation:s==null?void 0:s.attestation}},g=`Failed to publish payload, please try again. id:${f} tag:${u}`,y=Date.now();let v,T=1;try{for(;v===void 0;){if(Date.now()-y>this.publishTimeout)throw new Error(g);this.logger.trace({id:f,attempts:T},`publisher.publish - attempt ${T}`),v=await await Af(this.rpcPublish(n,i,a,c,l,u,f,s==null?void 0:s.attestation).catch(k=>this.logger.warn(k)),this.publishTimeout,g),T++,v||await new Promise(k=>setTimeout(k,this.failedPublishTimeout))}this.relayer.events.emit(Di.publish,h),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:f,topic:n,message:i,opts:s}})}catch(k){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(k),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw k;this.queue.set(f,h)}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=Ki(r,this.name),this.registerEventListeners()}get context(){return cs(this.logger)}rpcPublish(e,r,n,i,s,o,a,c){var l,u,f,h;const g={method:lh(i.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:s,tag:o,attestation:c},id:a};return Zi((l=g.params)==null?void 0:l.prompt)&&((u=g.params)==null||delete u.prompt),Zi((f=g.params)==null?void 0:f.tag)&&((h=g.params)==null||delete h.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:g}),this.relayer.request(g)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:r,message:n,opts:i}=e;await this.publish(r,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(wd.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Di.connection_stalled);return}this.checkQueue()}),this.relayer.on(Di.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class vfe{constructor(){this.map=new Map,this.set=(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var xfe=Object.defineProperty,_fe=Object.defineProperties,Sfe=Object.getOwnPropertyDescriptors,W8=Object.getOwnPropertySymbols,Efe=Object.prototype.hasOwnProperty,Afe=Object.prototype.propertyIsEnumerable,H8=(t,e,r)=>e in t?xfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Zd=(t,e)=>{for(var r in e||(e={}))Efe.call(e,r)&&H8(t,r,e[r]);if(W8)for(var r of W8(e))Afe.call(e,r)&&H8(t,r,e[r]);return t},Cb=(t,e)=>_fe(t,Sfe(e));class Ife extends mne{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new vfe,this.events=new hi.EventEmitter,this.name=kle,this.version=Cle,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=ha,this.subscribeTimeout=ft.toMiliseconds(ft.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(n,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=W2(i),o={topic:n,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>{if(this.topics.includes(n))return!0;const i=`${this.pendingSubscriptionWatchLabel}_${n}`;return await new Promise((s,o)=>{const a=new ft.Watch;a.start(i);const c=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(c),a.stop(i),s(!0)),a.elapsed(i)>=Rle&&(clearInterval(c),a.stop(i),o(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=Ki(r,this.name),this.clientId=""}get context(){return cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=W2(n);await this.rpcUnsubscribe(e,r,i);const s=Nr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i;(n==null?void 0:n.transportType)===jr.relay&&await this.restartToComplete();const s={method:lh(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;try{const a=Ta(e+this.clientId);if((n==null?void 0:n.transportType)===jr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(l=>this.logger.warn(l))},ft.toMiliseconds(ft.ONE_SECOND)),a;const c=await Af(this.relayer.request(s).catch(l=>this.logger.warn(l)),this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!c&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return c?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Di.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:lh(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await Af(this.relayer.request(n).catch(i=>this.logger.warn(i)),this.subscribeTimeout)}catch{this.relayer.events.emit(Di.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:lh(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await Af(this.relayer.request(n).catch(s=>this.logger.warn(s)),this.subscribeTimeout)}catch{this.relayer.events.emit(Di.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:lh(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,Cb(Zd({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,Zd({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,Zd({},r)),this.topicMap.set(r.topic,e),this.events.emit(zo.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=it("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(zo.deleted,Cb(Zd({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(zo.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(n),await this.batchSubscribe(n)}}this.events.emit(zo.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=it("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const r=await this.rpcBatchSubscribe(e);Sd(r)&&this.onBatchSubscribe(r.map((n,i)=>Cb(Zd({},e[i]),{id:n})))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(r.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(wd.pulse,async()=>{await this.checkPending()}),this.events.on(zo.created,async e=>{const r=zo.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(zo.deleted,async e=>{const r=zo.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}}var kfe=Object.defineProperty,V8=Object.getOwnPropertySymbols,Cfe=Object.prototype.hasOwnProperty,Rfe=Object.prototype.propertyIsEnumerable,G8=(t,e,r)=>e in t?kfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Y8=(t,e)=>{for(var r in e||(e={}))Cfe.call(e,r)&&G8(t,r,e[r]);if(V8)for(var r of V8(e))Rfe.call(e,r)&&G8(t,r,e[r]);return t};class Pfe extends pne{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new hi.EventEmitter,this.name=_le,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=ft.toMiliseconds(ft.THIRTY_SECONDS+ft.ONE_SECOND),this.request=async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||$l().toString();await this.toEstablishConnection();try{const o=this.provider.request(r);this.requestsInFlight.set(s,{promise:o,request:r}),this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - attempt to publish...");const a=await new Promise(async(c,l)=>{const u=()=>{l(new Error(`relayer.request - publish interrupted, id: ${s}`))};this.provider.on(Ms.disconnect,u);const f=await o;this.provider.off(Ms.disconnect,u),c(f)});return this.logger.trace({id:s,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - published"),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}finally{this.requestsInFlight.delete(s)}},this.resetPingTimeout=()=>{if(U1())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i;(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null||i.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(Di.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(Di.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Ms.payload,this.onPayloadHandler),this.provider.on(Ms.connect,this.onConnectHandler),this.provider.on(Ms.disconnect,this.onDisconnectHandler),this.provider.on(Ms.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Ki(e.logger,this.name):fy(v_({level:e.logger||xle})),this.messages=new wfe(this.logger,e.core),this.subscriber=new Ife(this,this.logger),this.publisher=new bfe(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||iN,this.projectId=e.projectId,this.bundleId=Doe(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(e){this.logger.warn(e)}}get context(){return cs(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:jr.relay})}async subscribe(e,r){var n,i,s;this.isInitialized(),(r==null?void 0:r.transportType)==="relay"&&await this.toEstablishConnection();const o=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(zo.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(zo.created,l)}),new Promise(async(u,f)=>{a=await this.subscriber.subscribe(e,Y8({internal:{throwOnFailedPublish:o}},r)).catch(h=>{o&&f(h)})||a,u()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(e=>e.promise))}catch(e){this.logger.warn(e)}this.hasExperiencedNetworkDisruption||this.connected?await Af(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,n)=>{const i=()=>{this.provider.off(Ms.disconnect,i),n(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(Ms.disconnect,i),await Af(this.provider.connect(),ft.toMiliseconds(ft.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(s=>{n(s)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(s=>{this.logger.error(s),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);const n=r;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(n.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(e){this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await P8())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.trace(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=Mn(ft.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(Di.message,e),await this.recordMessageEvent(e)}startPingTimeout(){var e,r,n,i,s;if(U1())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o)}}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ole(new ule(Foe({sdkVersion:Y2,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),F_(e)){if(!e.method.endsWith(Sle))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:jr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Y8({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else vy(e)&&this.events.emit(Di.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(Di.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const r=$_(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Ms.payload,this.onPayloadHandler),this.provider.off(Ms.connect,this.onConnectHandler),this.provider.off(Ms.disconnect,this.onDisconnectHandler),this.provider.off(Ms.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await P8();wce(async r=>{e!==r&&(e=r,r?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(Di.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e))},ft.toMiliseconds(Ele))))}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var Tfe=Object.defineProperty,J8=Object.getOwnPropertySymbols,Nfe=Object.prototype.hasOwnProperty,Mfe=Object.prototype.propertyIsEnumerable,X8=(t,e,r)=>e in t?Tfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Z8=(t,e)=>{for(var r in e||(e={}))Nfe.call(e,r)&&X8(t,r,e[r]);if(J8)for(var r of J8(e))Mfe.call(e,r)&&X8(t,r,e[r]);return t};class Pu extends gne{constructor(e,r,n,i=ha,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=Ale,this.cached=[],this.initialized=!1,this.storagePrefix=ha,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Zi(o)?this.map.set(this.getKey(o),o):Yae(o)?this.map.set(o.id,o):Jae(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>mG(a[c],o[c]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=Z8(Z8({},this.getData(o)),a);this.map.set(o,c),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())},this.logger=Ki(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=it("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=it("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=it("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Ofe{constructor(e,r){this.core=e,this.logger=r,this.name=Ple,this.version=Tle,this.events=new b9,this.initialized=!1,this.storagePrefix=ha,this.ignoredPayloadTypes=[qa],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async n=>{this.isInitialized();const i=K2(),s=await this.core.crypto.setSymKey(i),o=Mn(ft.FIVE_MINUTES),a={protocol:nN},c={topic:s,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},l=E8({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(Rl.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n==null?void 0:n.transportType}),{topic:s,uri:l}},this.pair=async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[$o.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=S8(n.uri);i.props.properties.topic=s,i.addTrace($o.pairing_uri_validation_success),i.addTrace($o.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace($o.existing_pairing),u.active)throw i.setError(ka.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace($o.pairing_not_expired)}const f=c||Mn(ft.FIVE_MINUTES),h={topic:s,relay:a,expiry:f,active:!1,methods:l};this.core.expirer.set(s,f),await this.pairings.set(s,h),i.addTrace($o.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Rl.create,h),i.addTrace($o.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace($o.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(ka.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(g){throw i.setError(ka.subscribe_pairing_topic_failure),g}return i.addTrace($o.subscribe_pairing_topic_success),h},this.activate=async({topic:n})=>{this.isInitialized();const i=Mn(ft.THIRTY_DAYS);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=El();this.events.once(lr("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Nr("USER_DISCONNECTED")),await this.deletePairing(i))},this.formatUriFromPairing=n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(i);return E8({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})},this.sendRequest=async(n,i,s)=>{const o=Ul(i,s),a=await this.core.crypto.encode(n,o),c=Jd[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id},this.sendResult=async(n,i,s)=>{const o=$_(n,s),a=await this.core.crypto.encode(i,o),c=await this.core.history.get(i,n),l=Jd[c.request.method].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.sendError=async(n,i,s)=>{const o=U_(n,s),a=await this.core.crypto.encode(i,o),c=await this.core.history.get(i,n),l=Jd[c.request.method]?Jd[c.request.method].res:Jd.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Nr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(i=>wc(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Rl.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onPairingPingResponse=(n,i)=>{const{id:s}=i;setTimeout(()=>{jo(i)?this.events.emit(lr("pairing_ping",s),{}):$s(i)&&this.events.emit(lr("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Rl.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Nr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(Nr("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=(n,i)=>{var s;if(!Hi(n)){const{message:a}=it("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(ka.malformed_pairing_uri),new Error(a)}if(!Gae(n.uri)){const{message:a}=it("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(ka.malformed_pairing_uri),new Error(a)}const o=S8(n==null?void 0:n.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=it("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(ka.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=it("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(ka.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&ft.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(ka.pairing_expired);const{message:a}=it("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}},this.isValidPing=async n=>{if(!Hi(n)){const{message:s}=it("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!Hi(n)){const{message:s}=it("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!Sn(n,!1)){const{message:i}=it("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=it("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(wc(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=it("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=Ki(r,this.name),this.pairings=new Pu(this.core,this.logger,this.name,this.storagePrefix)}get context(){return cs(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Di.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(!this.pairings.keys.includes(r)||i===jr.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const s=await this.core.crypto.decode(r,n);try{F_(s)?(this.core.history.set(r,s),this.onRelayEventRequest({topic:r,payload:s})):vy(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id))}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(Os.expired,async e=>{const{topic:r}=UT(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Rl.expire,{topic:r}))})}}class Lfe extends fne{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new hi.EventEmitter,this.name=Nle,this.version=Mle,this.cached=[],this.initialized=!1,this.storagePrefix=ha,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Mn(ft.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(ao.created,o)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=$s(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(ao.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(ao.deleted,s)}}),this.persist()},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Ki(r,this.name)}get context(){return cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Ul(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=it("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ao.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=it("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ao.created,e=>{const r=ao.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(ao.updated,e=>{const r=ao.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(ao.deleted,e=>{const r=ao.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(wd.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{ft.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(ao.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Dfe extends yne{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new hi.EventEmitter,this.name=Ole,this.version=Lle,this.cached=[],this.initialized=!1,this.storagePrefix=ha,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Os.created,{target:s,expiration:o})},this.get=n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Os.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Ki(r,this.name)}get context(){return cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return joe(e);if(typeof e=="number")return zoe(e);const{message:r}=it("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Os.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=it("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=it("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;ft.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Os.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(wd.pulse,()=>this.checkExpirations()),this.events.on(Os.created,e=>{const r=Os.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Os.expired,e=>{const r=Os.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Os.deleted,e=>{const r=Os.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Bfe extends wne{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,this.name=Dle,this.verifyUrlV3=$le,this.storagePrefix=ha,this.version=rN,this.init=async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ft.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async i=>{if(!Gp()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=Wp(),u=this.startAbortTimer(ft.ONE_SECOND*5),f=await new Promise((h,g)=>{const y=()=>{window.removeEventListener("message",T),l.body.removeChild(v),g("attestation aborted")};this.abortController.signal.addEventListener("abort",y);const v=l.createElement("iframe");v.src=c,v.style.display="none",v.addEventListener("error",y,{signal:this.abortController.signal});const T=k=>{if(k.data&&typeof k.data=="string")try{const C=JSON.parse(k.data);if(C.type==="verify_attestation"){if(B2(C.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(v),this.abortController.signal.removeEventListener("abort",y),window.removeEventListener("message",T),h(C.attestation===null?"":C.attestation)}}catch(C){this.logger.warn(C)}};l.body.appendChild(v),window.addEventListener("message",T,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(l){this.logger.warn(l)}return""},this.resolve=async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(B2(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)},this.fetchAttestation=async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(ft.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0},this.getVerifyUrl=i=>{let s=i||Rh;return Ule.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Rh}`),s=Rh),s},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(ft.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}},this.persistPublicKey=async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i},this.validateAttestation=(i,s)=>{const o=Rae(i,s.publicKey),a={hasExpired:ft.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}},this.logger=Ki(r,this.name),this.abortController=new AbortController,this.isDevEnv=M_(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return cs(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ft.toMiliseconds(e))}}class $fe extends bne{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.context=Fle,this.registerDeviceToken=async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${jle}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})},this.logger=Ki(r,this.context)}}var Ufe=Object.defineProperty,Q8=Object.getOwnPropertySymbols,Ffe=Object.prototype.hasOwnProperty,jfe=Object.prototype.propertyIsEnumerable,eA=(t,e,r)=>e in t?Ufe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qd=(t,e)=>{for(var r in e||(e={}))Ffe.call(e,r)&&eA(t,r,e[r]);if(Q8)for(var r of Q8(e))jfe.call(e,r)&&eA(t,r,e[r]);return t};class zfe extends vne{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,this.context=qle,this.storagePrefix=ha,this.storageVersion=zle,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!M_())try{const i={eventId:f8(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:LT(this.core.relayer.protocol,this.core.relayer.version,Y2)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}},this.createEvent=i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=f8(),u=this.core.projectId||"",f=Date.now(),h=Qd({eventId:l,timestamp:f,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h},this.getEvent=i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Qd(Qd({},a),this.setMethods(a.eventId))},this.deleteEvent=i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(wd.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{ft.fromMiliseconds(Date.now())-ft.fromMiliseconds(i.timestamp)>Kle&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})},this.setMethods=i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)}),this.addTrace=(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)},this.setError=(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Qd(Qd({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}},this.sendEvent=async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Wle}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Y2}${s}`,{method:"POST",body:JSON.stringify(i)})},this.getAppDomain=()=>OT().url,this.logger=Ki(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var qfe=Object.defineProperty,tA=Object.getOwnPropertySymbols,Kfe=Object.prototype.hasOwnProperty,Wfe=Object.prototype.propertyIsEnumerable,rA=(t,e,r)=>e in t?qfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nA=(t,e)=>{for(var r in e||(e={}))Kfe.call(e,r)&&rA(t,r,e[r]);if(tA)for(var r of tA(e))Wfe.call(e,r)&&rA(t,r,e[r]);return t};class z_ extends une{constructor(e){var r;super(e),this.protocol=tN,this.version=rN,this.name=j_,this.events=new hi.EventEmitter,this.initialized=!1,this.on=(o,a)=>this.events.on(o,a),this.once=(o,a)=>this.events.once(o,a),this.off=(o,a)=>this.events.off(o,a),this.removeListener=(o,a)=>this.events.removeListener(o,a),this.dispatchEnvelope=({topic:o,message:a,sessionExists:c})=>{if(!o||!a)return;const l={topic:o,message:a,publishedAt:Date.now(),transportType:jr.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:c})},this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||iN,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const n=v_({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:fle.logger}),{logger:i,chunkLoggerController:s}=lne({opts:n,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=s,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,a;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((a=this.logChunkController)==null||a.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ki(i,this.name),this.heartbeat=new nre,this.crypto=new yfe(this,this.logger,e==null?void 0:e.keychain),this.history=new Lfe(this,this.logger),this.expirer=new Dfe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Lre(nA(nA({},dle),e==null?void 0:e.storageOptions)),this.relayer=new Pfe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Ofe(this,this.logger),this.verify=new Bfe(this,this.logger,this.storage),this.echoClient=new $fe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new zfe(this,this.logger,e==null?void 0:e.telemetryEnabled)}static async init(e){const r=new z_(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(Ile,n),r}get context(){return cs(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem($8,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem($8)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}const Hfe=z_,mN="wc",yN=2,wN="client",q_=`${mN}@${yN}:${wN}:`,Rb={name:wN,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},iA="WALLETCONNECT_DEEPLINK_CHOICE",Vfe="proposal",Gfe="Proposal expired",Yfe="session",Fu=ft.SEVEN_DAYS,Jfe="engine",jn={wc_sessionPropose:{req:{ttl:ft.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ft.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ft.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ft.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ft.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ft.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ft.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ft.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ft.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ft.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ft.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ft.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ft.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1119}}},Pb={min:ft.FIVE_MINUTES,max:ft.SEVEN_DAYS},Do={idle:"IDLE",active:"ACTIVE"},Xfe="request",Zfe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Qfe="wc",ede="auth",tde="authKeys",rde="pairingTopics",nde="requests",_y=`${Qfe}@${1.5}:${ede}:`,Pg=`${_y}:PUB_KEY`;var ide=Object.defineProperty,sde=Object.defineProperties,ode=Object.getOwnPropertyDescriptors,sA=Object.getOwnPropertySymbols,ade=Object.prototype.hasOwnProperty,cde=Object.prototype.propertyIsEnumerable,oA=(t,e,r)=>e in t?ide(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pn=(t,e)=>{for(var r in e||(e={}))ade.call(e,r)&&oA(t,r,e[r]);if(sA)for(var r of sA(e))cde.call(e,r)&&oA(t,r,e[r]);return t},lo=(t,e)=>sde(t,ode(e));class lde extends _ne{constructor(e){super(e),this.name=Jfe,this.events=new b9,this.initialized=!1,this.requestQueue={state:Do.idle,queue:[]},this.sessionRequestQueue={state:Do.idle,queue:[]},this.requestQueueDelay=ft.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(jn)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ft.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=lo(pn({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,relays:c}=n;let l=i,u,f=!1;try{l&&(f=this.client.core.pairing.pairings.get(l).active)}catch(D){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),D}if(!l||!f){const{topic:D,uri:O}=await this.client.core.pairing.create();l=D,u=O}if(!l){const{message:D}=it("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(D)}const h=await this.client.core.crypto.generateKeyPair(),g=jn.wc_sessionPropose.req.ttl||ft.FIVE_MINUTES,y=Mn(g),v=pn({requiredNamespaces:s,optionalNamespaces:o,relays:c??[{protocol:nN}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:y,pairingTopic:l},a&&{sessionProperties:a}),{reject:T,resolve:k,done:C}=El(g,Gfe);this.events.once(lr("session_connect"),async({error:D,session:O})=>{if(D)T(D);else if(O){O.self.publicKey=h;const F=lo(pn({},O),{pairingTopic:v.pairingTopic,requiredNamespaces:v.requiredNamespaces,optionalNamespaces:v.optionalNamespaces,transportType:jr.relay});await this.client.session.set(O.topic,F),await this.setExpiry(O.topic,O.expiry),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:O.peer.metadata}),this.cleanupDuplicatePairings(F),k(F)}});const I=await this.sendRequest({topic:l,method:"wc_sessionPropose",params:v,throwOnFailedPublish:!0});return await this.setProposal(I,pn({id:I},v)),{uri:u,approval:C}},this.pair=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}},this.approve=async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[co.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(L){throw o.setError(bl.no_internet_connection),L}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(L){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(bl.proposal_not_found),L}try{await this.isValidApprove(r)}catch(L){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(bl.session_approve_namespace_validation_failure),L}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,sessionConfig:f}=r,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:g,proposer:y,requiredNamespaces:v,optionalNamespaces:T}=h;let k=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:g});k||(k=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:co.session_approve_started,properties:{topic:g,trace:[co.session_approve_started,co.session_namespaces_validation_success]}}));const C=await this.client.core.crypto.generateKeyPair(),I=y.publicKey,D=await this.client.core.crypto.generateSharedKey(C,I),O=pn(pn({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:C,metadata:this.client.metadata},expiry:Mn(Fu)},u&&{sessionProperties:u}),f&&{sessionConfig:f}),F=jr.relay;k.addTrace(co.subscribing_session_topic);try{await this.client.core.relayer.subscribe(D,{transportType:F})}catch(L){throw k.setError(bl.subscribe_session_topic_failure),L}k.addTrace(co.subscribe_session_topic_success);const x=lo(pn({},O),{topic:D,requiredNamespaces:v,optionalNamespaces:T,pairingTopic:g,acknowledged:!1,self:O.controller,peer:{publicKey:y.publicKey,metadata:y.metadata},controller:C,transportType:jr.relay});await this.client.session.set(D,x),k.addTrace(co.store_session);try{k.addTrace(co.publishing_session_settle),await this.sendRequest({topic:D,method:"wc_sessionSettle",params:O,throwOnFailedPublish:!0}).catch(L=>{throw k==null||k.setError(bl.session_settle_publish_failure),L}),k.addTrace(co.session_settle_publish_success),k.addTrace(co.publishing_session_approve),await this.sendResult({id:a,topic:g,result:{relay:{protocol:c??"irn"},responderPublicKey:C},throwOnFailedPublish:!0}).catch(L=>{throw k==null||k.setError(bl.session_approve_publish_failure),L}),k.addTrace(co.session_approve_publish_success)}catch(L){throw this.client.logger.error(L),this.client.session.delete(D,Nr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(D),L}return this.client.core.eventClient.deleteEvent({eventId:k.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:y.metadata}),await this.client.proposal.delete(a,Nr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(D,Mn(Fu)),{topic:D,acknowledged:()=>Promise.resolve(this.client.session.get(D))}},this.reject=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&(await this.sendError({id:n,topic:s,error:i,rpcOpts:jn.wc_sessionPropose.reject}),await this.client.proposal.delete(n,Nr("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=El(),c=bc(),l=$l().toString(),u=this.client.session.get(n).namespaces;return this.events.once(lr("session_update",c),({error:f})=>{f?a(f):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(f=>{this.client.logger.error(f),this.client.session.update(n,{namespaces:u}),a(f)}),{acknowledged:s}},this.extend=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,i=bc(),{done:s,resolve:o,reject:a}=El();return this.events.once(lr("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,Mn(Fu)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}},this.request=async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:n,request:i,topic:s,expiry:o=jn.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);(a==null?void 0:a.transportType)===jr.relay&&await this.confirmOnlineStateOrThrow();const c=bc(),l=$l().toString(),{done:u,resolve:f,reject:h}=El(o,"Request expired. Please try again.");this.events.once(lr("session_request",c),({error:y,result:v})=>{y?h(y):f(v)});const g=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);return g?(await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:"wc_sessionRequest",params:{request:lo(pn({},i),{expiryTimestamp:Mn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:g}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await u()):await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:"wc_sessionRequest",params:{request:lo(pn({},i),{expiryTimestamp:Mn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0}).catch(v=>h(v)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),y()}),new Promise(async y=>{var v;if(!((v=a.sessionConfig)!=null&&v.disableDeepLink)){const T=await Hoe(this.client.core.storage,iA);await Koe({id:c,topic:s,wcDeepLink:T})}y()}),u()]).then(y=>y[2])},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===jr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);jo(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):$s(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)},this.ping=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=bc(),s=$l().toString(),{done:o,resolve:a,reject:c}=El();this.events.once(lr("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=$l().toString();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o})},this.disconnect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Nr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=it("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>Hae(n,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?jr.link_mode:jr.relay;o===jr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:f,type:h,exp:g,nbf:y,methods:v=[],expiry:T}=r,k=[...r.resources||[]],{topic:C,uri:I}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:C,uri:I}});const D=await this.client.core.crypto.generateKeyPair(),O=Rg(D);if(await Promise.all([this.client.auth.authKeys.set(Pg,{responseTopic:O,publicKey:D}),this.client.auth.pairingTopics.set(O,{topic:O,pairingTopic:C})]),await this.client.core.relayer.subscribe(O,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${C}`),v.length>0){const{namespace:E}=kg(a[0]);let S=hae(E,"request",v);Cg(k)&&(S=gae(S,k.pop())),k.push(S)}const F=T&&T>jn.wc_sessionAuthenticate.req.ttl?T:jn.wc_sessionAuthenticate.req.ttl,x={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:f,iat:new Date().toISOString(),exp:g,nbf:y,resources:k},requester:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:Mn(F)},L={eip155:{chains:a,methods:[...new Set(["personal_sign",...v])],events:["chainChanged","accountsChanged"]}},J={requiredNamespaces:{},optionalNamespaces:L,relays:[{protocol:"irn"}],pairingTopic:C,proposer:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:Mn(jn.wc_sessionPropose.req.ttl)},{done:ne,resolve:j,reject:w}=El(F,"Request expired"),m=async({error:E,session:S})=>{if(this.events.off(lr("session_request",p),d),E)w(E);else if(S){S.self.publicKey=D,await this.client.session.set(S.topic,S),await this.setExpiry(S.topic,S.expiry),C&&await this.client.core.pairing.updateMetadata({topic:C,metadata:S.peer.metadata});const b=this.client.session.get(S.topic);await this.deleteProposal(_),j({session:b})}},d=async E=>{var S,b,R;if(await this.deletePendingAuthRequest(p,{message:"fulfilled",code:0}),E.error){const H=Nr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return E.error.code===H.code?void 0:(this.events.off(lr("session_connect"),m),w(E.error.message))}await this.deleteProposal(_),this.events.off(lr("session_connect"),m);const{cacaos:P,responder:q}=E.result,ue=[],$=[];for(const H of P){await p8({cacao:H,projectId:this.client.core.projectId})||(this.client.logger.error(H,"Signature verification failed"),w(Nr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:K}=H,A=Cg(K.resources),V=[q2(K.iss)],se=F1(K.iss);if(A){const X=g8(A),re=m8(A);ue.push(...X),V.push(...re)}for(const X of V)$.push(`${X}:${se}`)}const oe=await this.client.core.crypto.generateSharedKey(D,q.publicKey);let ee;ue.length>0&&(ee={topic:oe,acknowledged:!0,self:{publicKey:D,metadata:this.client.metadata},peer:q,controller:q.publicKey,expiry:Mn(Fu),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:C,namespaces:A8([...new Set(ue)],[...new Set($)]),transportType:o},await this.client.core.relayer.subscribe(oe,{transportType:o}),await this.client.session.set(oe,ee),C&&await this.client.core.pairing.updateMetadata({topic:C,metadata:q.metadata}),ee=this.client.session.get(oe)),(S=this.client.metadata.redirect)!=null&&S.linkMode&&(b=q.metadata.redirect)!=null&&b.linkMode&&(R=q.metadata.redirect)!=null&&R.universal&&n&&(this.client.core.addLinkModeSupportedApp(q.metadata.redirect.universal),this.client.session.update(oe,{transportType:jr.link_mode})),j({auths:P,session:ee})},p=bc(),_=bc();this.events.once(lr("session_connect"),m),this.events.once(lr("session_request",p),d);let N;try{if(s){const E=Ul("wc_sessionAuthenticate",x,p);this.client.core.history.set(C,E);const S=await this.client.core.crypto.encode("",E,{type:Xp,encoding:Gd});N=W0(n,C,S)}else await Promise.all([this.sendRequest({topic:C,method:"wc_sessionAuthenticate",params:x,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:p}),this.sendRequest({topic:C,method:"wc_sessionPropose",params:J,expiry:jn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:_})])}catch(E){throw this.events.off(lr("session_connect"),m),this.events.off(lr("session_request",p),d),E}return await this.setProposal(_,pn({id:_},J)),await this.setAuthRequest(p,{request:lo(pn({},x),{verifyContext:{}}),pairingTopic:C,transportType:o}),{uri:N??I,response:ne}},this.approveSessionAuthenticate=async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[vl.authenticated_session_approve_started]}});try{this.isInitialized()}catch(T){throw s.setError(Xd.no_internet_connection),T}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(Xd.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||jr.relay;a===jr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Rg(c),f={type:qa,receiverPublicKey:c,senderPublicKey:l},h=[],g=[];for(const T of i){if(!await p8({cacao:T,projectId:this.client.core.projectId})){s.setError(Xd.invalid_cacao);const O=Nr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:O,encodeOpts:f}),new Error(O.message)}s.addTrace(vl.cacaos_verified);const{p:k}=T,C=Cg(k.resources),I=[q2(k.iss)],D=F1(k.iss);if(C){const O=g8(C),F=m8(C);h.push(...O),I.push(...F)}for(const O of I)g.push(`${O}:${D}`)}const y=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(vl.create_authenticated_session_topic);let v;if((h==null?void 0:h.length)>0){v={topic:y,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Mn(Fu),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:A8([...new Set(h)],[...new Set(g)]),transportType:a},s.addTrace(vl.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(y,{transportType:a})}catch(T){throw s.setError(Xd.subscribe_authenticated_session_topic_failure),T}s.addTrace(vl.subscribe_authenticated_session_topic_success),await this.client.session.set(y,v),s.addTrace(vl.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(vl.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(T){throw s.setError(Xd.authenticated_session_approve_publish_failure),T}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:v}},this.rejectSessionAuthenticate=async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===jr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Rg(o),l={type:qa,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:i,encodeOpts:l,rpcOpts:jn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,Nr("USER_DISCONNECTED"))},this.formatAuthMessage=r=>{this.isInitialized();const{request:n,iss:i}=r;return jT(n,i)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)},this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Nr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(iA).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,Nr("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Do.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})},this.deleteProposal=async(r,n)=>{if(n)try{const i=this.client.proposal.get(r),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(bl.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Nr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")},this.deletePendingSessionRequest=async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=Do.idle,this.client.events.emit("session_request_expire",{id:r}))},this.deletePendingAuthRequest=async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))},this.setProposal=async(r,n)=>{this.client.core.expirer.set(r,Mn(jn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)},this.setAuthRequest=async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=jr.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})},this.setPendingSessionRequest=async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||Mn(jn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})},this.sendRequest=async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u}=r,f=Ul(i,s,c);let h;const g=!!u;try{const T=g?Gd:Nc;h=await this.client.core.crypto.encode(n,f,{encoding:T})}catch(T){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),T}let y;if(Zfe.includes(i)){const T=Ta(JSON.stringify(f)),k=Ta(h);y=await this.client.core.verify.register({id:k,decryptedId:T})}const v=jn[i].req;if(v.attestation=y,o&&(v.ttl=o),a&&(v.id=a),this.client.core.history.set(n,f),g){const T=W0(u,n,h);await globalThis.Linking.openURL(T,this.client.name)}else{const T=jn[i].req;o&&(T.ttl=o),a&&(T.id=a),l?(T.internal=lo(pn({},T.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,h,T)):this.client.core.relayer.publish(n,h,T).catch(k=>this.client.logger.error(k))}return f.id},this.sendResult=async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,l=$_(n,s);let u;const f=c&&typeof(globalThis==null?void 0:globalThis.Linking)<"u";try{const g=f?Gd:Nc;u=await this.client.core.crypto.encode(i,l,lo(pn({},a||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),g}let h;try{h=await this.client.core.history.get(i,n)}catch(g){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),g}if(f){const g=W0(c,i,u);await globalThis.Linking.openURL(g,this.client.name)}else{const g=jn[h.request.method].res;o?(g.internal=lo(pn({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,g)):this.client.core.relayer.publish(i,u,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)},this.sendError=async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=r,l=U_(n,s);let u;const f=c&&typeof(globalThis==null?void 0:globalThis.Linking)<"u";try{const g=f?Gd:Nc;u=await this.client.core.crypto.encode(i,l,lo(pn({},o||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),g}let h;try{h=await this.client.core.history.get(i,n)}catch(g){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),g}if(f){const g=W0(c,i,u);await globalThis.Linking.openURL(g,this.client.name)}else{const g=a||jn[h.request.method].res;this.client.core.relayer.publish(i,u,g)}await this.client.core.history.resolve(l)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;wc(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{wc(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===Do.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Do.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Do.idle},this.processRequest=async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:n}=r,{message:i}=it("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.shouldIgnorePairingRequest=r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:n});this.isValidConnect(pn({},i.params));const u=a.expiryTimestamp||Mn(jn.wc_sessionPropose.req.ttl),f=pn({id:c,pairingTopic:n,expiryTimestamp:u},a);await this.setProposal(c,f);const h=await this.getVerifyContext({attestationId:s,hash:Ta(JSON.stringify(i)),encryptedId:o,metadata:f.proposer.metadata});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(ka.proposal_listener_not_found)),l==null||l.addTrace($o.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:h})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:jn.wc_sessionPropose.autoReject}),this.client.logger.error(l)}},this.onSessionProposeResponse=async(r,n,i)=>{const{id:s}=n;if(jo(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:u});const f=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if($s(n)){await this.client.proposal.delete(s,Nr("USER_DISCONNECTED"));const o=lr("session_connect");if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(lr("session_connect"),{error:n.error})}},this.onSessionSettleRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,sessionConfig:f}=n.params,h=lo(pn(pn({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),f&&{sessionConfig:f}),{transportType:jr.relay}),g=lr("session_connect");if(this.events.listenerCount(g)===0)throw new Error(`emitting ${g} without any listeners 997`);this.events.emit(lr("session_connect"),{session:h}),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}},this.onSessionSettleResponse=async(r,n)=>{const{id:i}=n;jo(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(lr("session_approve",i),{})):$s(n)&&(await this.client.session.delete(r,Nr("USER_DISCONNECTED")),this.events.emit(lr("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=Yd.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Nr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(pn({topic:r},i));try{Yd.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0})}catch(c){throw Yd.delete(o),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}},this.isRequestOutOfSync=(r,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,n)=>{const{id:i}=n,s=lr("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);jo(n)?this.events.emit(lr("session_update",i),{}):$s(n)&&this.events.emit(lr("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Mn(Fu)),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,n)=>{const{id:i}=n,s=lr("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);jo(n)?this.events.emit(lr("session_extend",i),{}):$s(n)&&this.events.emit(lr("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionPingResponse=(r,n)=>{const{id:i}=n,s=lr("session_ping",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);setTimeout(()=>{jo(n)?this.events.emit(lr("session_ping",i),{}):$s(n)&&this.events.emit(lr("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(Di.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Nr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async r=>{var n,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=r,{id:f,params:h}=a;try{await this.isValidRequest(pn({topic:o},h));const g=this.client.session.get(o),y=await this.getVerifyContext({attestationId:c,hash:Ta(JSON.stringify(Ul("wc_sessionRequest",h,f))),encryptedId:l,metadata:g.peer.metadata,transportType:u}),v={id:f,topic:o,params:h,verifyContext:y};await this.setPendingSessionRequest(v),u===jr.link_mode&&(n=g.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=g.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(v):(this.addSessionRequestToSessionRequestQueue(v),this.processSessionRequestQueue())}catch(g){await this.sendError({id:f,topic:o,error:g}),this.client.logger.error(g)}},this.onSessionRequestResponse=(r,n)=>{const{id:i}=n,s=lr("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);jo(n)?this.events.emit(lr("session_request",i),{result:n.result}):$s(n)&&this.events.emit(lr("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=Yd.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(pn({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),Yd.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}},this.onSessionAuthenticateResponse=(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),jo(n)?this.events.emit(lr("session_request",i),{result:n.result}):$s(n)&&this.events.emit(lr("session_request",i),{error:n.error})},this.onSessionAuthenticateRequest=async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:l,authPayload:u,expiryTimestamp:f}=s.params,h=await this.getVerifyContext({attestationId:o,hash:Ta(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),g={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:f};await this.setAuthRequest(s.id,{request:g,pairingTopic:i,transportType:c}),c===jr.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),g={type:qa,receiverPublicKey:u,senderPublicKey:f};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:g,rpcOpts:jn.wc_sessionAuthenticate.autoReject,appLink:h})}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Do.idle,this.processSessionRequestQueue()},ft.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=lr("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(lr("session_request",s.request.id),{error:n})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===Do.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Do.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}},this.emitSessionRequest=r=>{this.client.events.emit("session_request",r)},this.onPairingCreated=r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Ul("wc_sessionPropose",{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties},n.id)})},this.isValidConnect=async r=>{if(!Hi(r)){const{message:c}=it("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(c)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:a}=r;if(Zi(n)||await this.isValidPairingTopic(n),!ice(a)){const{message:c}=it("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(c)}!Zi(i)&&j1(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!Zi(s)&&j1(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Zi(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(r,n)=>{const i=nce(r,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async r=>{if(!Hi(r))throw new Error(it("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const a=this.client.proposal.get(n),c=Ab(i,"approve()");if(c)throw new Error(c.message);const l=C8(a.requiredNamespaces,i,"approve()");if(l)throw new Error(l.message);if(!Sn(s,!0)){const{message:u}=it("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(u)}Zi(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async r=>{if(!Hi(r)){const{message:s}=it("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!oce(i)){const{message:s}=it("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!Hi(r)){const{message:l}=it("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!YT(n)){const{message:l}=it("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Xae(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Ab(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(wc(o)){const{message:l}=it("EXPIRED","onSessionSettleRequest()");throw new Error(l)}},this.isValidUpdate=async r=>{if(!Hi(r)){const{message:c}=it("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=Ab(i,"update()");if(o)throw new Error(o.message);const a=C8(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async r=>{if(!Hi(r)){const{message:i}=it("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!Hi(r)){const{message:c}=it("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!k8(a,s)){const{message:c}=it("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!ace(i)){const{message:c}=it("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!uce(a,s,i.method)){const{message:c}=it("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!pce(o,Pb)){const{message:c}=it("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${Pb.min} and ${Pb.max}`);throw new Error(c)}},this.isValidRespond=async r=>{var n;if(!Hi(r)){const{message:o}=it("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!cce(s)){const{message:o}=it("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}},this.isValidPing=async r=>{if(!Hi(r)){const{message:i}=it("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!Hi(r)){const{message:a}=it("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!k8(o,s)){const{message:a}=it("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!lce(i)){const{message:a}=it("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!fce(o,s,i.name)){const{message:a}=it("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidDisconnect=async r=>{if(!Hi(r)){const{message:i}=it("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidAuthenticate=r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!Sn(i,!1))throw new Error("uri is required parameter");if(!Sn(s,!1))throw new Error("domain is required parameter");if(!Sn(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>kg(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=kg(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||Rh,validation:"UNKNOWN",origin:o.url||""}};try{if(a===jr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(i=>{if(!Sn(i,!1)){const{message:s}=it("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(s)}})},this.getPendingAuthRequest=r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0},this.addToRecentlyDeleted=(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}},this.checkRecentlyDeleted=r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=it("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}},this.isLinkModeEnabled=(r,n)=>{var i,s,o,a,c,l,u,f,h;return!r||n!==jr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r==null?void 0:r.redirect)==null?void 0:u.universal)!==void 0&&((f=r==null?void 0:r.redirect)==null?void 0:f.universal)!==""&&((h=r==null?void 0:r.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"},this.getAppLinkIfEnabled=(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r==null?void 0:r.redirect)==null?void 0:i.universal:void 0},this.handleLinkModeMessage=({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=u8(r,"topic")||"",i=decodeURIComponent(u8(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:jr.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})},this.registerLinkModeListeners=async()=>{var r;if(M_()||xd()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=globalThis==null?void 0:globalThis.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Di.message,e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):this.onRelayMessage(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(Pg)?this.client.auth.authKeys.get(Pg):{responseTopic:void 0,publicKey:void 0},a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===jr.link_mode?Gd:Nc});try{F_(a)?(this.client.core.history.set(r,a),this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Ta(n)})):vy(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s})}catch(c){this.client.logger.error(c)}}registerExpirerEvents(){this.client.core.expirer.on(Os.expired,async e=>{const{topic:r,id:n}=UT(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,it("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,it("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Rl.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Rl.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Sn(e,!1)){const{message:r}=it("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=it("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(wc(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=it("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!Sn(e,!1)){const{message:r}=it("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=it("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(wc(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=it("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=it("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Sn(e,!1)){const{message:r}=it("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=it("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!sce(e)){const{message:r}=it("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=it("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(wc(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=it("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class ude extends Pu{constructor(e,r){super(e,r,Vfe,q_),this.core=e,this.logger=r}}class fde extends Pu{constructor(e,r){super(e,r,Yfe,q_),this.core=e,this.logger=r}}class dde extends Pu{constructor(e,r){super(e,r,Xfe,q_,n=>n.id),this.core=e,this.logger=r}}class hde extends Pu{constructor(e,r){super(e,r,tde,_y,()=>Pg),this.core=e,this.logger=r}}class pde extends Pu{constructor(e,r){super(e,r,rde,_y),this.core=e,this.logger=r}}class gde extends Pu{constructor(e,r){super(e,r,nde,_y,n=>n.id),this.core=e,this.logger=r}}class mde{constructor(e,r){this.core=e,this.logger=r,this.authKeys=new hde(this.core,this.logger),this.pairingTopics=new pde(this.core,this.logger),this.requests=new gde(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class K_ extends xne{constructor(e){super(e),this.protocol=mN,this.version=yN,this.name=Rb.name,this.events=new hi.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.authenticate=async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}},this.formatAuthMessage=n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}},this.approveSessionAuthenticate=async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}},this.rejectSessionAuthenticate=async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}},this.name=(e==null?void 0:e.name)||Rb.name,this.metadata=(e==null?void 0:e.metadata)||OT(),this.signConfig=e==null?void 0:e.signConfig;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:fy(v_({level:(e==null?void 0:e.logger)||Rb.logger}));this.core=(e==null?void 0:e.core)||new Hfe(e),this.logger=Ki(r,this.name),this.session=new fde(this.core,this.logger),this.proposal=new ude(this.core,this.logger),this.pendingRequest=new dde(this.core,this.logger),this.engine=new lde(this),this.auth=new mde(this.core,this.logger)}static async init(e){const r=new K_(e);return await r.initialize(),r}get context(){return cs(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}function yde({getAccounts:t,getPrivateKey:e,getPublicKey:r,processEthSignMessage:n,processPersonalMessage:i,processTransaction:s,processSignTransaction:o,processTypedMessageV4:a}){if(!t)throw new Error("opts.getAccounts is required");async function c(k,C){if(typeof k=="string"&&k.length>0){const D=(await t(C)).map(F=>F.toLowerCase()),O=k.toLowerCase();if(D.includes(O))return O}throw Ht.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function l(k,C){C.result=await t(k)}async function u(k,C){if(!s)throw Ht.methodNotSupported();const I=k.params[0]||{from:""};I.from=await c(I.from,k),C.result=await s(I,k)}async function f(k,C){if(!o)throw Ht.methodNotSupported();const I=k.params[0]||{from:""};I.from=await c(I.from,k),C.result=await o(I,k)}async function h(k,C){if(!n)throw Ht.methodNotSupported();let I=k.params;const D=k.params[2]||{};if(Array.isArray(k.params)){if(k.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${k.method} method. expected [address, message]`);const O=k.params,F=O[0],x=O[1];I={from:F,data:x}}I=Ie(Ie({},D),I),C.result=await n(I,k)}async function g(k,C){if(!a)throw Ht.methodNotSupported();if(!(k!=null&&k.params))throw new Error("WalletMiddleware - missing params");let I=k.params;if(Array.isArray(k.params)){if(k.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${k.method} method. expected [address, typedData]`);const D=k.params,O=D[0],F=D[1];I={from:O,data:F}}C.result=await a(I,k)}async function y(k,C){if(!i)throw Ht.methodNotSupported();let I=k.params;const D=k.params[2]||{};if(Array.isArray(k.params)){if(!(k.params.length>=2))throw new Error(`WalletMiddleware - incorrect params for ${k.method} method. expected [message, address]`);const O=k.params;if(typeof O[0]=="object"){const{challenge:F,address:x}=O[0];I={from:x,data:F}}else{const F=O[0];I={from:O[1],data:F}}}I=Ie(Ie({},D),I),C.result=await i(I,k)}async function v(k,C){if(!e)throw Ht.methodNotSupported();C.result=e(k)}async function T(k,C){if(!r)throw Ht.methodNotSupported();C.result=r(k)}return Mx({eth_accounts:ki(l),eth_private_key:ki(v),eth_public_key:ki(T),public_key:ki(T),private_key:ki(v),eth_sendTransaction:ki(u),eth_signTransaction:ki(f),eth_sign:ki(h),eth_signTypedData_v4:ki(g),personal_sign:ki(y)})}function wde(t){const{getAccounts:e,getPrivateKey:r,getPublicKey:n,processTransaction:i,processSignTransaction:s,processEthSignMessage:o,processTypedMessageV4:a,processPersonalMessage:c}=t;return cl([Mx({eth_syncing:!1}),yde({getAccounts:e,getPrivateKey:r,getPublicKey:n,processTransaction:i,processEthSignMessage:o,processSignTransaction:s,processTypedMessageV4:a,processPersonalMessage:c})])}function bde({addChain:t,switchChain:e}){async function r(i,s){var o;const a=(o=i.params)!==null&&o!==void 0&&o.length?i.params[0]:void 0;if(!a)throw Ht.invalidParams("Missing chain params");if(!a.chainId)throw Ht.invalidParams("Missing chainId in chainParams");if(!a.rpcUrls||a.rpcUrls.length===0)throw Ht.invalidParams("Missing rpcUrls in chainParams");if(!a.nativeCurrency)throw Ht.invalidParams("Missing nativeCurrency in chainParams");s.result=await t(a)}async function n(i,s){var o;const a=(o=i.params)!==null&&o!==void 0&&o.length?i.params[0]:void 0;if(!a)throw Ht.invalidParams("Missing chainId");s.result=await e(a)}return Mx({wallet_addEthereumChain:ki(r),wallet_switchEthereumChain:ki(n)})}function vde(t){return(e,r,n,i)=>e.method==="eth_chainId"?(r.result=t,i()):n()}function xde(t){return(e,r,n,i)=>e.method==="eth_provider_config"?(r.result=t,i()):n()}function _de(t){const{chainId:e,rpcTarget:r}=t,n=Ox({rpcTarget:r});return{networkMiddleware:cl([vde(e),xde(t),n]),fetchMiddleware:n}}async function bN(t){if(t.session.length){const e=t.session.keys.length-1;return t.session.get(t.session.keys[e])}return null}function Sde(){return/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent)}function Ede(t){return t.startsWith("solana:")}async function La(t,e,r,n){const i=await bN(t);if(!i)throw Ws.disconnected();return typeof window<"u"&&Sde()&&i.peer.metadata.redirect&&i.peer.metadata.redirect.native&&window.open(i.peer.metadata.redirect.native,"_blank"),t.request({topic:i.topic,chainId:e,request:{method:r,params:Ede(e)?Ie(Ie({},n),{},{pubkey:i.self.publicKey}):n}})}async function If(t){const e=await bN(t);if(!e)throw Ws.disconnected();const r=NT(e.namespaces);if(r&&r.length)return[...new Set(r.map(n=>TT(n).address))];throw Kt.connectionError("Failed to get accounts")}function Ade({connector:t,chainId:e}){return{getPrivateKey:async()=>{throw Ht.methodNotSupported()},getPublicKey:async()=>{throw Ht.methodNotSupported()},getAccounts:async r=>If(t),processTransaction:async(r,n)=>await La(t,`eip155:${e}`,"eth_sendTransaction",[r]),processSignTransaction:async(r,n)=>await La(t,`eip155:${e}`,"eth_signTransaction",[r]),processEthSignMessage:async(r,n)=>await La(t,`eip155:${e}`,"eth_sign",[r.from,r.data]),processPersonalMessage:async(r,n)=>await La(t,`eip155:${e}`,"personal_sign",[r.data,r.from]),processTypedMessageV4:async r=>await La(t,`eip155:${e}`,"eth_signTypedData_v4",[r.from,r.data])}}function Ide({connector:t,chainId:e}){return{requestAccounts:async r=>If(t),getPrivateKey:async()=>{throw Ht.methodNotSupported()},getSecretKey:async()=>{throw Ht.methodNotSupported()},getPublicKey:async()=>{throw Ht.methodNotSupported()},getAccounts:async r=>If(t),signAllTransactions:async r=>{throw Ht.methodNotSupported()},signAndSendTransaction:async r=>{throw Ht.methodNotSupported()},signMessage:async r=>{const n=await La(t,`solana:${k2[e]}`,"solana_signMessage",{message:za.encode(r.params.message)});return za.decode(n.signature)},signTransaction:async r=>{const[{PublicKey:n},i]=await Promise.all([Bo(()=>Promise.resolve().then(()=>Qee),void 0),If(t)]);if(i.length===0)throw Ws.disconnected();const s=await La(t,`solana:${k2[e]}`,"solana_signTransaction",{transaction:r.params.message.serialize({requireAllSignatures:!1}).toString("base64")}),o=r.params.message;return o.addSignature(new n(i[0]),Buffer.from(za.decode(s.signature))),o}}}async function kde({connector:t,chainId:e,newChainId:r}){await La(t,`eip155:${e}`,"wallet_switchEthereumChain",[{chainId:r}])}async function Cde({connector:t,chainId:e,chainConfig:r}){await La(t,`eip155:${e}`,"wallet_addEthereumChain",[r])}var vN;class q1 extends zm{constructor({config:e,state:r,connector:n}){super({config:{chainConfig:e.chainConfig,skipLookupNetwork:!!e.skipLookupNetwork},state:Ie(Ie({},r||{}),{},{chainId:"loading",accounts:[]})}),Pe(this,"connector",null),this.connector=n||null}async enable(){if(!this.connector)throw Ws.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});return await this.setupProvider(this.connector),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){this.onConnectorStateUpdate(e),await this.setupEngine(e)}async switchChain({chainId:e}){if(!this.connector)throw Ws.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});const r=this.getChainConfig(e),{chainId:n}=this.config.chainConfig,i=parseInt(n,16);await kde({connector:this.connector,chainId:i,newChainId:e}),this.configure({chainConfig:r}),await this.setupEngine(this.connector),this.lookupNetwork(this.connector)}async addChain(e){const{chainId:r}=this.config.chainConfig,n=parseInt(r,16);await Cde({connector:this.connector,chainId:n,chainConfig:{chainId:e.chainId,chainName:e.displayName,nativeCurrency:{name:e.tickerName,symbol:e.ticker.toLocaleUpperCase(),decimals:e.decimals||18},rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorerUrl],iconUrls:[e.logo]}}),super.addChain(e)}async lookupNetwork(e){const r=this.config.chainConfig.chainId;return this.update({chainId:r}),this.emit("chainChanged",r),this.emit("connect",{chainId:r}),this.config.chainConfig.chainId}async setupEngine(e){if(this.config.chainConfig.chainNamespace===Vt.EIP155)return this.setupEthEngine(e);if(this.config.chainConfig.chainNamespace===Vt.SOLANA)return this.setupSolEngine(e);throw new Error(`Unsupported chainNamespace: ${this.config.chainConfig.chainNamespace}`)}async setupEthEngine(e){const{chainId:r}=this.config.chainConfig,n=parseInt(r,16),i=Ade({connector:e,chainId:n}),s=await If(e);this.update({accounts:s||[]});const o=wde(i),a=this.getEthChainSwitchMiddleware(),c=new Vi,{networkMiddleware:l}=_de(this.config.chainConfig);c.push(o),c.push(a),c.push(l);const u=tp(c);this.updateProviderEngineProxy(u)}async setupSolEngine(e){const{chainId:r}=this.config.chainConfig,n=Ide({connector:e,chainId:r}),i=await If(e);this.update({accounts:i||[]});const s=y_(n),o=new Vi,{networkMiddleware:a}=qP(this.config.chainConfig);o.push(s),o.push(a);const c=tp(o);this.updateProviderEngineProxy(c)}getEthChainSwitchMiddleware(){return bde({addChain:async n=>{const{chainId:i,chainName:s,rpcUrls:o,blockExplorerUrls:a,nativeCurrency:c,iconUrls:l}=n;this.addChain({chainNamespace:Vt.EIP155,chainId:i,ticker:(c==null?void 0:c.symbol)||"ETH",tickerName:(c==null?void 0:c.name)||"Ether",displayName:s,rpcTarget:o[0],blockExplorerUrl:(a==null?void 0:a[0])||"",decimals:(c==null?void 0:c.decimals)||18,logo:(l==null?void 0:l[0])||"https://images.toruswallet.io/eth.svg"})},switchChain:async n=>{const{chainId:i}=n;await this.switchChain({chainId:i})}})}connectedTopic(){var e;if(!this.connector)throw Kt.notConnectedError("Wallet connect connector is not connected");if((e=this.connector)!==null&&e!==void 0&&(e=e.session)!==null&&e!==void 0&&e.length){var r;const n=this.connector.session.keys.length-1;return(r=this.connector.session.get(this.connector.session.keys[n]))===null||r===void 0?void 0:r.topic}}checkIfAccountAllowed(e){if(!this.connector||!this.connectedTopic())return!1;const r=this.connector.session.get(this.connectedTopic()),n=NT(r.namespaces);let i=!1;for(const o of n){var s;if(((s=TT(o).address)===null||s===void 0?void 0:s.toLowerCase())===(e==null?void 0:e.toLowerCase())){i=!0;break}}return i}async onConnectorStateUpdate(e){e.events.on("session_event",async r=>{if(dt.debug("session_event data",r),!this.provider)throw Kt.notConnectedError("Wallet connect connector is not connected");const{event:n}=r.params,{name:i,data:s}=n||{};if(i==="accountsChanged"&&s!==null&&s!==void 0&&s.length&&this.state.accounts[0]!==s[0]&&this.checkIfAccountAllowed(s[0])&&(this.update({accounts:s}),this.emit("accountsChanged",s)),n.name==="chainChanged"){if(!s)return;const a=`0x${s.toString(16)}`;if(a&&this.state.chainId!==a){const c=Jc(Vt.EIP155,a);this.configure({chainConfig:Ie(Ie({},c),{},{chainId:a,chainNamespace:Vt.EIP155})}),await this.setupEngine(e)}}})}}vN=q1;Pe(q1,"getProviderInstance",async t=>{const e=new vN({config:{chainConfig:t.chainConfig,skipLookupNetwork:t.skipLookupNetwork}});return await e.setupProvider(t.connector),e});class Rde extends Lx{constructor(e={}){super(e),Pe(this,"name",gr.WALLET_CONNECT_V2),Pe(this,"adapterNamespace",Yh.MULTICHAIN),Pe(this,"currentChainNamespace",Vt.OTHER),Pe(this,"type",po.EXTERNAL),Pe(this,"adapterOptions",{}),Pe(this,"status",tt.NOT_READY),Pe(this,"adapterData",{uri:""}),Pe(this,"connector",null),Pe(this,"activeSession",null),Pe(this,"wcProvider",null),this.adapterOptions=Ie({},e),this.setAdapterSettings(e)}get connected(){return!!this.activeSession}get provider(){return this.status!==tt.NOT_READY&&this.wcProvider?this.wcProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){var r,n,i;super.checkInitializationRequirements();const s=(r=this.adapterOptions.adapterSettings)===null||r===void 0||(r=r.walletConnectInitOptions)===null||r===void 0?void 0:r.projectId;if(!s)throw st.invalidParams("Wallet connect project id is required in wallet connect v2 adapter");const o=await kte((n=this.chainConfig)===null||n===void 0?void 0:n.chainNamespace,[(i=this.chainConfig)===null||i===void 0?void 0:i.chainId],s);(!this.adapterOptions.loginSettings||Object.keys(this.adapterOptions.loginSettings).length===0)&&(this.adapterOptions.loginSettings=o.loginSettings),this.adapterOptions.adapterSettings=Io(o.adapterSettings||{},this.adapterOptions.adapterSettings||{});const{adapterSettings:a}=this.adapterOptions;if(this.connector=await K_.init(a==null?void 0:a.walletConnectInitOptions),this.wcProvider=new q1({config:{chainConfig:this.chainConfig},connector:this.connector}),this.emit(Qt.READY,gr.WALLET_CONNECT_V2),this.status=tt.READY,dt.debug("initializing wallet connect v2 adapter"),e.autoConnect)if(await this.checkForPersistedSession(),this.connected){this.rehydrated=!0;try{await this.onConnectHandler()}catch(c){dt.error("wallet auto connect",c),this.emit(Qt.ERRORED,c)}}else this.status=tt.NOT_READY,this.emit(Qt.CACHE_CLEAR)}async connect(){if(super.checkConnectionRequirements(),!this.connector)throw st.notReady("Wallet adapter is not ready yet");try{return this.connected?(await this.onConnectHandler(),this.provider):(this.status!==tt.CONNECTING&&await this.createNewSession(),this.provider)}catch(e){throw dt.error("Wallet connect v2 adapter error while connecting",e),this.status=tt.READY,this.rehydrated=!0,this.emit(Qt.ERRORED,e),e instanceof nu?e:Kt.connectionError(`Failed to login with wallet connect: ${(e==null?void 0:e.message)||""}`,e)}}setAdapterSettings(e){var r,n,i,s,o;super.setAdapterSettings(e);const{qrcodeModal:a,walletConnectInitOptions:c}=(e==null?void 0:e.adapterSettings)||{};this.adapterOptions=Ie(Ie({},this.adapterOptions),{},{adapterSettings:(r=(n=this.adapterOptions)===null||n===void 0?void 0:n.adapterSettings)!==null&&r!==void 0?r:{},loginSettings:(i=(s=this.adapterOptions)===null||s===void 0?void 0:s.loginSettings)!==null&&i!==void 0?i:{}}),a&&(this.adapterOptions.adapterSettings.qrcodeModal=a),c&&(this.adapterOptions.adapterSettings.walletConnectInitOptions=Ie(Ie({},(o=this.adapterOptions.adapterSettings.walletConnectInitOptions)!==null&&o!==void 0?o:{}),c));const{loginSettings:l}=e;l&&(this.adapterOptions.loginSettings=Ie(Ie({},this.adapterOptions.loginSettings||{}),l))}async addChain(e,r=!1){var n;super.checkAddChainRequirements(e,r),await((n=this.wcProvider)===null||n===void 0?void 0:n.addChain(e)),this.addChainConfig(e)}async switchChain(e,r=!1){var n;super.checkSwitchChainRequirements(e,r),await((n=this.wcProvider)===null||n===void 0?void 0:n.switchChain({chainId:e.chainId})),this.setAdapterSettings({chainConfig:this.getChainConfig(e.chainId)})}async getUserInfo(){if(!this.connected)throw Kt.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async disconnect(e={cleanup:!1,sessionRemovedByWallet:!1}){var r,n;const{cleanup:i}=e;if(!this.connector||!this.connected||!((r=this.activeSession)!==null&&r!==void 0&&r.topic))throw Kt.notConnectedError("Not connected with wallet");e.sessionRemovedByWallet||await this.connector.disconnect({topic:(n=this.activeSession)===null||n===void 0?void 0:n.topic,reason:Nr("USER_DISCONNECTED")}),this.rehydrated=!1,i?(this.connector=null,this.status=tt.NOT_READY,this.wcProvider=null):this.status=tt.READY,this.activeSession=null,this.emit(Qt.DISCONNECTED)}async authenticateUser(){if(!this.provider||this.status!==tt.CONNECTED)throw Kt.notConnectedError();const{chainNamespace:e,chainId:r}=this.chainConfig,n=await this.provider.request({method:e===Vt.EIP155?"eth_accounts":"getAccounts"});if(n&&n.length>0){const i=jC(n[0],this.name);if(i&&!FC(i))return{idToken:i};const s={domain:window.location.origin,uri:window.location.href,address:n[0],chainId:parseInt(r,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},o=await DC(s,e),a=await this._getSignedMessage(o,n,e),c=await BC(e,a,o,this.name,this.sessionTime,this.clientId,this.web3AuthNetwork);return zC(n[0],this.name,c),{idToken:c}}throw Kt.notConnectedError("Not connected with wallet, Please login/connect first")}async enableMFA(){throw new Error("Method Not implemented")}cleanupPendingPairings(){if(!this.connector)throw st.notReady("Wallet adapter is not ready yet");const e=this.connector.pairing.getAll({active:!1});Sd(e)&&e.forEach(r=>{this.connector&&this.connector.pairing.delete(r.topic,Nr("USER_DISCONNECTED"))})}async checkForPersistedSession(){if(!this.connector)throw st.notReady("Wallet adapter is not ready yet");if(this.connector.session.length){const e=this.connector.session.keys.length-1;this.activeSession=this.connector.session.get(this.connector.session.keys[e])}return this.activeSession}async createNewSession(e={forceNewSession:!1}){try{var r,n;if(!this.connector)throw st.notReady("Wallet adapter is not ready yet");if(!this.adapterOptions.loginSettings||Object.keys(this.adapterOptions.loginSettings).length===0)throw st.notReady("login settings are not set yet");if(this.status=tt.CONNECTING,this.emit(Qt.CONNECTING,{adapter:gr.WALLET_CONNECT_V2}),e.forceNewSession&&(r=this.activeSession)!==null&&r!==void 0&&r.topic){var i;await this.connector.disconnect({topic:(i=this.activeSession)===null||i===void 0?void 0:i.topic,reason:Nr("USER_DISCONNECTED")})}const{uri:o,approval:a}=await this.connector.connect(this.adapterOptions.loginSettings),c=(n=this.adapterOptions)===null||n===void 0||(n=n.adapterSettings)===null||n===void 0?void 0:n.qrcodeModal;if(o)if(c)try{await c.openModal({uri:o}),dt.debug("EVENT","QR Code Modal closed"),this.status=tt.READY,this.emit(Qt.READY,gr.WALLET_CONNECT_V2)}catch{dt.error("unable to open qr code modal")}else this.updateAdapterData({uri:o});dt.info("awaiting session approval from wallet");const l=await a();this.activeSession=l,await this.onConnectHandler(),c&&c.closeModal()}catch(o){var s;if((s=o.message)!==null&&s!==void 0&&s.toLowerCase().includes("proposal expired")){if(dt.info("current adapter status: ",this.status),this.status===tt.CONNECTING)return dt.info("retrying to create new wallet connect session since proposal expired"),this.createNewSession({forceNewSession:!0});if(this.status===tt.READY){dt.info("ignoring proposal expired error since some other adapter is connected");return}}throw dt.error("error while creating new wallet connect session",o),this.emit(Qt.ERRORED,o),o}}async onConnectHandler(){var e;if(!this.connector||!this.wcProvider)throw st.notReady("Wallet adapter is not ready yet");if(!this.chainConfig)throw st.invalidParams("Chain config is not set");this.subscribeEvents(),(e=this.adapterOptions.adapterSettings)!==null&&e!==void 0&&e.qrcodeModal&&(this.wcProvider=new q1({config:{chainConfig:this.chainConfig,skipLookupNetwork:!0},connector:this.connector})),await this.wcProvider.setupProvider(this.connector),this.cleanupPendingPairings(),this.status=tt.CONNECTED,this.emit(Qt.CONNECTED,{adapter:gr.WALLET_CONNECT_V2,reconnected:this.rehydrated,provider:this.provider})}subscribeEvents(){if(!this.connector)throw st.notReady("Wallet adapter is not ready yet");this.connector.events.on("session_update",({topic:e,params:r})=>{if(!this.connector)return;const{namespaces:n}=r,i=this.connector.session.get(e),s=Ie(Ie({},i),{},{namespaces:n});this.activeSession=s}),this.connector.events.on("session_delete",()=>{this.disconnect({sessionRemovedByWallet:!0})})}async _getSignedMessage(e,r,n){const i=await this.provider.request({method:n===Vt.EIP155?"personal_sign":"signMessage",params:n===Vt.EIP155?[e,r[0]]:{message:Buffer.from(e)}});return n===Vt.SOLANA?za.encode(i):i}}const xN="solana:signAndSendTransaction",_N="solana:signMessage",SN="solana:signTransaction";var Pde=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Tde=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Tg;let eh;const Sy=new Set;function Nde(t){Ph=void 0,Sy.add(t)}function Mde(t){Ph=void 0,Sy.delete(t)}const cf={};function Ode(){if(eh||(eh=Object.freeze({register:aA,get:Lde,on:Dde}),typeof window>"u"))return eh;const t=Object.freeze({register:aA});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new Bde(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return eh}function aA(...t){var e;return t=t.filter(r=>!Sy.has(r)),t.length?(t.forEach(r=>Nde(r)),(e=cf.register)==null||e.forEach(r=>cA(()=>r(...t))),function(){var n;t.forEach(i=>Mde(i)),(n=cf.unregister)==null||n.forEach(i=>cA(()=>i(...t)))}):()=>{}}let Ph;function Lde(){return Ph||(Ph=[...Sy]),Ph}function Dde(t,e){var r;return(r=cf[t])!=null&&r.push(e)||(cf[t]=[e]),function(){var i;cf[t]=(i=cf[t])==null?void 0:i.filter(s=>e!==s)}}function cA(t){try{t()}catch(e){console.error(e)}}class Bde extends Event{get detail(){return Pde(this,Tg,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Tg.set(this,void 0),Tde(this,Tg,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Tg=new WeakMap;const EN="standard:connect",$de="standard:disconnect";class Ude extends Lx{async init(e){this.chainConfig||(this.chainConfig=Jc(Vt.SOLANA,1))}async authenticateUser(){if(!this.provider||this.status!==tt.CONNECTED)throw Kt.notConnectedError();const{chainNamespace:e,chainId:r}=this.chainConfig,n=await this.provider.request({method:"getAccounts"});if(n&&n.length>0){const i=jC(n[0],this.name);if(i&&!FC(i))return{idToken:i};const s={domain:window.location.origin,uri:window.location.href,address:n[0],chainId:parseInt(r,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},o=await DC(s,e),a=new TextEncoder().encode(o),c=await this.provider.request({method:"signMessage",params:{message:a,display:"utf8"}}),l=await BC(e,za.encode(c),o,this.name,this.sessionTime,this.clientId,this.web3AuthNetwork);return zC(n[0],this.name,l),{idToken:l}}throw Kt.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();const e=await this.provider.request({method:"getAccounts"});e&&e.length>0&&JH(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(Qt.DISCONNECTED)}}const lA=t=>{switch(t.chainId){case"0x1":return"solana:mainnet";case"0x2":return"solana:testnet";case"0x3":return"solana:devnet";default:return null}};class Fde extends Zc{constructor({wallet:e,getCurrentChain:r}){super(),Pe(this,"wallet",null),Pe(this,"getCurrentChain",void 0),this.wallet=e,this.getCurrentChain=r}get currentAccount(){var e;const r=(e=this.wallet)===null||e===void 0?void 0:e.accounts[0];if(!r)throw Kt.notConnectedError();return r}get publicKey(){return new Be(this.currentAccount.publicKey)}async signMessage(e){const r=this.currentAccount;return{signature:(await this.wallet.features[_N].signMessage({account:r,message:e}))[0].signature,publicKey:new Gt(r.publicKey)}}async signTransaction(e){const r=this.currentAccount,n=await this.wallet.features[SN].signTransaction({account:r,transaction:e.serialize({requireAllSignatures:!1}),chain:this.getCurrentChain()});return e.version!==void 0||e instanceof ms?ms.deserialize(n[0].signedTransaction):fr.from(n[0].signedTransaction)}async signAllTransactions(e){return Promise.all(e.map(r=>this.signTransaction(r)))}async signAndSendTransaction(e){const r=this.currentAccount,n=await this.wallet.features[xN].signAndSendTransaction({account:r,transaction:e.serialize({requireAllSignatures:!1}),chain:this.getCurrentChain()}),[{signature:i}]=n;return{signature:new TextDecoder().decode(i)}}}class jde extends Ude{constructor(e){super(e),Pe(this,"name",void 0),Pe(this,"adapterNamespace",Yh.SOLANA),Pe(this,"currentChainNamespace",Vt.SOLANA),Pe(this,"type",po.EXTERNAL),Pe(this,"isInjected",!0),Pe(this,"status",tt.NOT_READY),Pe(this,"wallet",null),Pe(this,"injectedProvider",null),this.name=e.name,this.wallet=["gate","solflare"].includes(this.name)?Object.freeze(e.wallet):e.wallet}get provider(){return this.status!==tt.NOT_READY&&this.injectedProvider?this.injectedProvider:null}get isWalletConnected(){return this.status===tt.CONNECTED&&this.wallet.accounts.length>0}async init(e={}){await super.init(e),super.checkInitializationRequirements(),this.injectedProvider=new hte({config:{chainConfig:this.chainConfig}});const r=new Fde({wallet:this.wallet,getCurrentChain:()=>lA(this.chainConfig)});this.injectedProvider.setupProvider(r),this.status=tt.READY,this.emit(Qt.READY,this.name);try{dt.debug("initializing solana injected adapter"),e.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(n){dt.error("Failed to connect with cached solana injected provider",n),this.emit(Qt.ERRORED,n)}}async connect(){try{super.checkConnectionRequirements(),this.status=tt.CONNECTING,this.emit(Qt.CONNECTING,{adapter:this.name});const e=lA(this.chainConfig);if(!this.wallet.chains.find(r=>r===e))throw Kt.connectionError(`Chain ${e} not supported. Supported chains are ${this.wallet.chains.join(", ")}`);if(this.isWalletConnected||await this.wallet.features[EN].connect(),this.wallet.accounts.length===0)throw Kt.connectionError();return this.status=tt.CONNECTED,this.emit(Qt.CONNECTED,{adapter:this.name,reconnected:this.rehydrated,provider:this.provider}),this.provider}catch(e){throw this.status=tt.READY,this.rehydrated=!1,this.emit(Qt.ERRORED,e),e}}async disconnect(e={cleanup:!1}){await super.disconnectSession();try{var r;await((r=this.wallet.features[$de])===null||r===void 0?void 0:r.disconnect()),e.cleanup?(this.status=tt.NOT_READY,this.injectedProvider=null):this.status=tt.READY,await super.disconnect()}catch(n){this.emit(Qt.ERRORED,Kt.disconnectionError(n==null?void 0:n.message))}}async getUserInfo(){if(!this.isWalletConnected)throw Kt.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async addChain(e,r=!1){var n;super.checkAddChainRequirements(e,r),(n=this.injectedProvider)===null||n===void 0||n.addChain(e),this.addChainConfig(e)}async switchChain(e,r=!1){var n;super.checkSwitchChainRequirements(e,r),await((n=this.injectedProvider)===null||n===void 0?void 0:n.switchChain(e)),this.setAdapterSettings({chainConfig:this.getChainConfig(e.chainId)})}async enableMFA(){throw new Error("Method not implemented.")}}const zde=t=>{const{options:e}=t,{clientId:r,chainConfig:n,sessionTime:i,web3AuthNetwork:s,useCoreKitKey:o}=e;if(!Object.values(Vt).includes(n.chainNamespace))throw st.invalidParams(`Invalid chainNamespace: ${n.chainNamespace}`);const a=Ie(Ie({},Jc(n.chainNamespace,n==null?void 0:n.chainId)),n||{}),c=[];return Ode().get().forEach(u=>{const{name:f,chains:h,features:g}=u;!h.some(T=>T.startsWith("solana"))||![EN,_N,SN,xN].every(T=>Object.keys(g).includes(T))||c.push(new jde({name:YH(f),wallet:u,chainConfig:a,clientId:r,sessionTime:i,web3AuthNetwork:s,useCoreKitKey:o}))}),c},qde=t=>{const{options:e}=t,{clientId:r,chainConfig:n,sessionTime:i,web3AuthNetwork:s,useCoreKitKey:o}=e;if(!Object.values(Vt).includes(n.chainNamespace))throw st.invalidParams(`Invalid chainNamespace: ${n.chainNamespace}`);const a=Ie(Ie({},Jc(n.chainNamespace,n==null?void 0:n.chainId)),n||{}),c=new Rde({chainConfig:a,clientId:r,sessionTime:i,web3AuthNetwork:s,useCoreKitKey:o,adapterSettings:{walletConnectInitOptions:{}}});return[...zde({options:e}),c]},uA="BPi5PB_UiIZ-cPz1GtV5i1I2iOSOHuimiXBI0e-Oe_u6X3oVAbCiAZOTEBtTXw4tsluTITPqA8zMsfxIKMjiqNQ";function Kde(){const[t,e]=Tt.useState(null),[r,n]=Tt.useState(null),[i,s]=Tt.useState(!1),o={chainId:"0x1",chainNamespace:Vt.SOLANA,rpcTarget:"https://api.devnet.solana.com",tickerName:"SOLANA",ticker:"SOL",decimals:9,blockExplorerUrl:"https://explorer.solana.com/?cluster=devnet",logo:"https://images.toruswallet.io/sol.svg"};Tt.useEffect(()=>{(async()=>{try{const D=new w_({config:{chainConfig:o}}),O=new KG({clientId:uA,uiConfig:{appName:"W3A Heroes",mode:"light",defaultLanguage:"en",primaryButton:"externalLogin",uxMode:"redirect"},web3AuthNetwork:zc.SAPPHIRE_MAINNET,privateKeyProvider:D});qde({options:{clientId:uA,chainConfig:o}}).forEach(x=>{O.configureAdapter(x)}),e(O),await O.initModal({modalConfig:{[gr.AUTH]:{label:"auth",loginMethods:{social:{name:"facebook",showOnModal:!1},facebook:{name:"facebook",showOnModal:!1},google:{name:"google",showOnModal:!1},reddit:{name:"reddit",showOnModal:!1},email_passwordless:{name:"email_passwordless",showOnModal:!1},sms_passwordless:{name:"sms_passwordless",showOnModal:!1}}},[gr.WALLET_CONNECT_V2]:{label:"wallet_connect",showOnModal:!0}}}),n(O.provider),O.connected&&s(!0)}catch(D){console.error(D)}})()},[]);const a=document.getElementById("play-wrapper"),c=document.getElementById("root"),l=async()=>{if(!t){y("web3auth not initialized yet");return}const I=await t.connect();t.connected&&(s(!0),g()),n(I)},u=async()=>{a&&c&&(a.style.display="block",c.style.display="none")},f=async()=>{if(!t){y("web3auth not initialized yet");return}await t.logout(),n(null),s(!1),window.location.reload()},h=async I=>{try{const D=await Tn.post("http://95.164.45.224/api/add_wallet.php",{address:I});D.data.success?console.log("Wallet saved with ID:",D.data.id):console.error("Error saving wallet:",D.data.message)}catch(D){console.error("Error connecting to API:",D)}},g=async()=>{var x;if(!r){y("provider not initialized yet");return}const D=await new gte(r).getAccounts();let O=null;const F=document.getElementById("address");F&&D&&(Array.isArray(D)&&D.length>0?(O=(x=D[0])==null?void 0:x.toString(),F.innerText=`Solana Address: ${O}`):D!=null&&(O=D.toString(),F.innerText=`Solana Address: ${O}`),O&&h(O),u())};function y(...I){const D=document.querySelector("#console>p");D&&(D.innerHTML=JSON.stringify(I||{},null,2))}const v=pe.jsx(pe.Fragment,{children:pe.jsx("div",{className:"flex-container",children:pe.jsx("button",{onClick:f,className:"card",children:"Log Out"})})}),T=pe.jsxs("div",{children:[pe.jsx("button",{onClick:l,className:"card",children:"Airdrop Game"}),pe.jsx("button",{onClick:u,className:"card",children:"Play For Fun"})]}),k=()=>{const I=document.getElementById("logOutExit");return i?I?s5.createPortal(v,I):null:I?s5.createPortal(pe.jsx("button",{onClick:C,className:"card",children:"Link Wallet"}),I):null},C=()=>{a&&c&&(a.style.display="none",c.style.display="block")};return i&&g(),pe.jsxs("div",{className:"container",children:[pe.jsx("div",{className:"grid",children:i?v:T}),k()]})}const Wde=Mb.createRoot(document.getElementById("root"));Wde.render(pe.jsx(cM.StrictMode,{children:pe.jsx(Kde,{})}))});export default Hde();
